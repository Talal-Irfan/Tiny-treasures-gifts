!function(e){"function"==typeof define&&define.amd?define(e):e();}(function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r;}function t(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object");}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e;}function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value;}catch(u){return void n(u);}s.done?t(c):Promise.resolve(c).then(r,i);}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e);}function c(e){r(a,i,o,s,c,"throw",e);}s(void 0);});};}function o(e,t,r){return t=m(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return n(e);}(e,y()?Reflect.construct(t,r||[],m(e).constructor):t.apply(e,r));}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}function s(e,n){return e.get(t(e,n));}function c(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");})(e,t),t.set(e,n);}function u(e,n,r){return e.set(t(e,n),r),r;}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r);}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;}function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]};},e:function(e){throw e;},f:i};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var o,a=!0,s=!1;return{s:function(){n=n.call(e);},n:function(){var e=n.next();return a=e.done,e;},e:function(e){s=!0,o=e;},f:function(){try{a||null==n.return||n.return();}finally{if(s)throw o;}}};}function p(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e;}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value;}},h.apply(null,arguments);}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e);})(e);}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t);}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(y=function(){return!!e;})();}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable;})),n.push.apply(n,r);}return n;}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){p(e,t,n[t]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t));});}return e;}function _(){_=function(){return t;};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value;},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t];}try{u({},"");}catch(M){u=function(e,t,n){return e[t]=n;};}function l(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new R(r||[]);return i(a,"_invoke",{value:I(e,n,s)}),a;}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)};}catch(r){return{type:"throw",arg:r};}}t.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function y(){}function v(){}function b(){}var w={};u(w,a,function(){return this;});var k=Object.getPrototypeOf,S=k&&k(k(O([])));S&&S!==n&&r.call(S,a)&&(w=S);var x=b.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e);});});}function C(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then(function(e){n("next",e,a,s);},function(e){n("throw",e,a,s);}):t.resolve(l).then(function(e){u.value=e,a(u);},function(e){return n("throw",e,a,s);});}s(c.arg);}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t(function(t,i){n(e,r,t,i);});}return o=o?o.then(i,i):i();}});}function I(t,n,r){var i=f;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0};}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=T(s,r);if(c){if(c===g)continue;return c;}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg);}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?m:p,u.arg===g)continue;return{value:u.arg,done:r.done};}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg);}};}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g);}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t);}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t;}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0);}function O(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n;};return o.next=o;}}throw new TypeError(typeof t+" is not iterable");}return v.prototype=b,i(x,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:v,configurable:!0}),v.displayName=u(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name));},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e;},t.awrap=function(e){return{__await:e};},E(C.prototype),u(C.prototype,s,function(){return this;}),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next();});},E(x),u(x,c,"Generator"),u(x,a,function(){return this;}),u(x,"toString",function(){return"[object Generator]";}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e;}return e.done=!0,e;};},t.values=O,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e);},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval;},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i;}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc);}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc);}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break;}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a);},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g;},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g;}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n);}return i;}}throw Error("illegal catch attempt");},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g;}},t;}function w(e,t){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e;})(e,t);}function k(e,t){return function(e){if(Array.isArray(e))return e;}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1;}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l;}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return;}finally{if(u)throw i;}}return s;}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}();}function S(t){return function(t){if(Array.isArray(t))return e(t);}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e);}(t)||E(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}();}function x(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==typeof t?t:t+"";}function E(t,n){if(t){if("string"==typeof t)return e(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0;}}function C(e){var t="function"==typeof Map?new Map():void 0;return C=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]");}catch(t){return"function"==typeof e;}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n);}function n(){return function(e,t,n){if(y())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r))();return n&&w(i,n.prototype),i;}(e,arguments,m(this).constructor);}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w(n,e);},C(e);}!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d20f68ef-62ee-438b-b681-9844088fdb89",e._sentryDebugIdIdentifier="sentry-dbid-d20f68ef-62ee-438b-b681-9844088fdb89");}catch(n){}}(),("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"payment-form-v1.264.0"};var I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function T(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;}var P,A,R={};function O(){if(A)return P;A=1;var e=function(e){return e&&e.Math===Math&&e;};return P=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof I&&I)||e("object"==typeof P&&P)||function(){return this;}()||Function("return this")();}var M,L,N,D,B,F,U,j,$={};function z(){return L?M:(L=1,M=function(e){try{return!!e();}catch(t){return!0;}});}function H(){if(D)return N;D=1;var e=z();return N=!e(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7;}})[1];});}function W(){if(F)return B;F=1;var e=z();return B=!e(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype");});}function q(){if(j)return U;j=1;var e=W(),t=Function.prototype.call;return U=e?t.bind(t):function(){return t.apply(t,arguments);},U;}var V,G,Y,J,K,X,Z,Q,ee,te,ne,re,ie,oe,ae,se,ce,ue,le,de,fe,pe,he,me,ge,ye,ve,be,_e,we,ke,Se,xe,Ee,Ce,Ie,Te,Pe,Ae,Re,Oe,Me={};function Le(){if(V)return Me;V=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return Me.f=n?function(e){var n=t(this,e);return!!n&&n.enumerable;}:e,Me;}function Ne(){return Y?G:(Y=1,G=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t};});}function De(){if(K)return J;K=1;var e=W(),t=Function.prototype,n=t.call,r=e&&t.bind.bind(n,n);return J=e?r:function(e){return function(){return n.apply(e,arguments);};},J;}function Be(){if(Z)return X;Z=1;var e=De(),t=e({}.toString),n=e("".slice);return X=function(e){return n(t(e),8,-1);};}function Fe(){if(ee)return Q;ee=1;var e=De(),t=z(),n=Be(),r=Object,i=e("".split);return Q=t(function(){return!r("z").propertyIsEnumerable(0);})?function(e){return"String"===n(e)?i(e,""):r(e);}:r;}function Ue(){return ne?te:(ne=1,te=function(e){return null==e;});}function je(){if(ie)return re;ie=1;var e=Ue(),t=TypeError;return re=function(n){if(e(n))throw new t("Can't call method on "+n);return n;};}function $e(){if(ae)return oe;ae=1;var e=Fe(),t=je();return oe=function(n){return e(t(n));};}function ze(){if(ce)return se;ce=1;var e="object"==typeof document&&document.all;return se=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e;}:function(e){return"function"==typeof e;};}function He(){if(le)return ue;le=1;var e=ze();return ue=function(t){return"object"==typeof t?null!==t:e(t);};}function We(){if(fe)return de;fe=1;var e=O(),t=ze();return de=function(n,r){return arguments.length<2?function(e){return t(e)?e:void 0;}(e[n]):e[n]&&e[n][r];},de;}function qe(){if(he)return pe;he=1;var e=De();return pe=e({}.isPrototypeOf);}function Ve(){return ge?me:(ge=1,me="undefined"!=typeof navigator&&String(navigator.userAgent)||"");}function Ge(){if(ve)return ye;ve=1;var e,t,n=O(),r=Ve(),i=n.process,o=n.Deno,a=i&&i.versions||o&&o.version,s=a&&a.v8;return s&&(t=(e=s.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!t&&r&&(!(e=r.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=r.match(/Chrome\/(\d+)/))&&(t=+e[1]),ye=t;}function Ye(){if(_e)return be;_e=1;var e=Ge(),t=z(),n=O().String;return be=!!Object.getOwnPropertySymbols&&!t(function(){var t=Symbol("symbol detection");return!n(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e&&e<41;});}function Je(){if(ke)return we;ke=1;var e=Ye();return we=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;}function Ke(){if(xe)return Se;xe=1;var e=We(),t=ze(),n=qe(),r=Je(),i=Object;return Se=r?function(e){return"symbol"==typeof e;}:function(r){var o=e("Symbol");return t(o)&&n(o.prototype,i(r));};}function Xe(){if(Ce)return Ee;Ce=1;var e=String;return Ee=function(t){try{return e(t);}catch(n){return"Object";}};}function Ze(){if(Te)return Ie;Te=1;var e=ze(),t=Xe(),n=TypeError;return Ie=function(r){if(e(r))return r;throw new n(t(r)+" is not a function");};}function Qe(){if(Ae)return Pe;Ae=1;var e=Ze(),t=Ue();return Pe=function(n,r){var i=n[r];return t(i)?void 0:e(i);};}var et,tt,nt,rt,it,ot,at,st,ct,ut,lt,dt,ft,pt,ht,mt,gt,yt,vt,bt,_t,wt,kt,St,xt={exports:{}};function Et(){return tt?et:(tt=1,et=!1);}function Ct(){if(rt)return nt;rt=1;var e=O(),t=Object.defineProperty;return nt=function(n,r){try{t(e,n,{value:r,configurable:!0,writable:!0});}catch(i){e[n]=r;}return r;};}function It(){if(it)return xt.exports;it=1;var e=Et(),t=O(),n=Ct(),r="__core-js_shared__",i=xt.exports=t[r]||n(r,{});return(i.versions||(i.versions=[])).push({version:"3.37.1",mode:e?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"}),xt.exports;}function Tt(){if(at)return ot;at=1;var e=It();return ot=function(t,n){return e[t]||(e[t]=n||{});};}function Pt(){if(ct)return st;ct=1;var e=je(),t=Object;return st=function(n){return t(e(n));};}function At(){if(lt)return ut;lt=1;var e=De(),t=Pt(),n=e({}.hasOwnProperty);return ut=Object.hasOwn||function(e,r){return n(t(e),r);};}function Rt(){if(ft)return dt;ft=1;var e=De(),t=0,n=Math.random(),r=e(1..toString);return dt=function(e){return"Symbol("+(void 0===e?"":e)+")_"+r(++t+n,36);};}function Ot(){if(ht)return pt;ht=1;var e=O(),t=Tt(),n=At(),r=Rt(),i=Ye(),o=Je(),a=e.Symbol,s=t("wks"),c=o?a.for||a:a&&a.withoutSetter||r;return pt=function(e){return n(s,e)||(s[e]=i&&n(a,e)?a[e]:c("Symbol."+e)),s[e];};}function Mt(){if(gt)return mt;gt=1;var e=q(),t=He(),n=Ke(),r=Qe(),i=function(){if(Oe)return Re;Oe=1;var e=q(),t=ze(),n=He(),r=TypeError;return Re=function(i,o){var a,s;if("string"===o&&t(a=i.toString)&&!n(s=e(a,i)))return s;if(t(a=i.valueOf)&&!n(s=e(a,i)))return s;if("string"!==o&&t(a=i.toString)&&!n(s=e(a,i)))return s;throw new r("Can't convert object to primitive value");};}(),o=Ot(),a=TypeError,s=o("toPrimitive");return mt=function(o,c){if(!t(o)||n(o))return o;var u,l=r(o,s);if(l){if(void 0===c&&(c="default"),u=e(l,o,c),!t(u)||n(u))return u;throw new a("Can't convert object to primitive value");}return void 0===c&&(c="number"),i(o,c);};}function Lt(){if(vt)return yt;vt=1;var e=Mt(),t=Ke();return yt=function(n){var r=e(n,"string");return t(r)?r:r+"";};}function Nt(){if(_t)return bt;_t=1;var e=O(),t=He(),n=e.document,r=t(n)&&t(n.createElement);return bt=function(e){return r?n.createElement(e):{};};}function Dt(){if(kt)return wt;kt=1;var e=H(),t=z(),n=Nt();return wt=!e&&!t(function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7;}}).a;});}function Bt(){if(St)return $;St=1;var e=H(),t=q(),n=Le(),r=Ne(),i=$e(),o=Lt(),a=At(),s=Dt(),c=Object.getOwnPropertyDescriptor;return $.f=e?c:function(e,u){if(e=i(e),u=o(u),s)try{return c(e,u);}catch(l){}if(a(e,u))return r(!t(n.f,e,u),e[u]);},$;}var Ft,Ut,jt,$t,zt,Ht,Wt,qt={};function Vt(){if(Ut)return Ft;Ut=1;var e=H(),t=z();return Ft=e&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype;});}function Gt(){if($t)return jt;$t=1;var e=He(),t=String,n=TypeError;return jt=function(r){if(e(r))return r;throw new n(t(r)+" is not an object");};}function Yt(){if(zt)return qt;zt=1;var e=H(),t=Dt(),n=Vt(),r=Gt(),i=Lt(),o=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,c="enumerable",u="configurable",l="writable";return qt.f=e?n?function(e,t,n){if(r(e),t=i(t),r(n),"function"==typeof e&&"prototype"===t&&"value"in n&&l in n&&!n[l]){var o=s(e,t);o&&o[l]&&(e[t]=n.value,n={configurable:u in n?n[u]:o[u],enumerable:c in n?n[c]:o[c],writable:!1});}return a(e,t,n);}:a:function(e,n,s){if(r(e),n=i(n),r(s),t)try{return a(e,n,s);}catch(c){}if("get"in s||"set"in s)throw new o("Accessors not supported");return"value"in s&&(e[n]=s.value),e;},qt;}function Jt(){if(Wt)return Ht;Wt=1;var e=H(),t=Yt(),n=Ne();return Ht=e?function(e,r,i){return t.f(e,r,n(1,i));}:function(e,t,n){return e[t]=n,e;};}var Kt,Xt,Zt,Qt,en,tn,nn,rn,on,an,sn,cn,un,ln,dn,fn={exports:{}};function pn(){if(Xt)return Kt;Xt=1;var e=H(),t=At(),n=Function.prototype,r=e&&Object.getOwnPropertyDescriptor,i=t(n,"name"),o=i&&"something"===function(){}.name,a=i&&(!e||e&&r(n,"name").configurable);return Kt={EXISTS:i,PROPER:o,CONFIGURABLE:a};}function hn(){if(Qt)return Zt;Qt=1;var e=De(),t=ze(),n=It(),r=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(e){return r(e);}),Zt=n.inspectSource;}function mn(){if(tn)return en;tn=1;var e=O(),t=ze(),n=e.WeakMap;return en=t(n)&&/native code/.test(String(n));}function gn(){if(rn)return nn;rn=1;var e=Tt(),t=Rt(),n=e("keys");return nn=function(e){return n[e]||(n[e]=t(e));};}function yn(){return an?on:(an=1,on={});}function vn(){if(cn)return sn;cn=1;var e,t,n,r=mn(),i=O(),o=He(),a=Jt(),s=At(),c=It(),u=gn(),l=yn(),d="Object already initialized",f=i.TypeError,p=i.WeakMap;if(r||c.state){var h=c.state||(c.state=new p());h.get=h.get,h.has=h.has,h.set=h.set,e=function(e,t){if(h.has(e))throw new f(d);return t.facade=e,h.set(e,t),t;},t=function(e){return h.get(e)||{};},n=function(e){return h.has(e);};}else{var m=u("state");l[m]=!0,e=function(e,t){if(s(e,m))throw new f(d);return t.facade=e,a(e,m,t),t;},t=function(e){return s(e,m)?e[m]:{};},n=function(e){return s(e,m);};}return sn={set:e,get:t,has:n,enforce:function(r){return n(r)?t(r):e(r,{});},getterFor:function(e){return function(n){var r;if(!o(n)||(r=t(n)).type!==e)throw new f("Incompatible receiver, "+e+" required");return r;};}};}function bn(){if(un)return fn.exports;un=1;var e=De(),t=z(),n=ze(),r=At(),i=H(),o=pn().CONFIGURABLE,a=hn(),s=vn(),c=s.enforce,u=s.get,l=String,d=Object.defineProperty,f=e("".slice),p=e("".replace),h=e([].join),m=i&&!t(function(){return 8!==d(function(){},"length",{value:8}).length;}),g=String(String).split("String"),y=fn.exports=function(e,t,n){"Symbol("===f(l(t),0,7)&&(t="["+p(l(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!r(e,"name")||o&&e.name!==t)&&(i?d(e,"name",{value:t,configurable:!0}):e.name=t),m&&n&&r(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&r(n,"constructor")&&n.constructor?i&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0);}catch(s){}var a=c(e);return r(a,"source")||(a.source=h(g,"string"==typeof t?t:"")),e;};return Function.prototype.toString=y(function(){return n(this)&&u(this).source||a(this);},"toString"),fn.exports;}function _n(){if(dn)return ln;dn=1;var e=ze(),t=Yt(),n=bn(),r=Ct();return ln=function(i,o,a,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:o;if(e(a)&&n(a,u,s),s.global)c?i[o]=a:r(o,a);else{try{s.unsafe?i[o]&&(c=!0):delete i[o];}catch(l){}c?i[o]=a:t.f(i,o,{value:a,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable});}return i;};}var wn,kn,Sn,xn,En,Cn,In,Tn,Pn,An,Rn,On,Mn,Ln,Nn,Dn,Bn,Fn={};function Un(){if(xn)return Sn;xn=1;var e=function(){if(kn)return wn;kn=1;var e=Math.ceil,t=Math.floor;return wn=Math.trunc||function(n){var r=+n;return(r>0?t:e)(r);};}();return Sn=function(t){var n=+t;return n!=n||0===n?0:e(n);};}function jn(){if(Cn)return En;Cn=1;var e=Un(),t=Math.max,n=Math.min;return En=function(r,i){var o=e(r);return o<0?t(o+i,0):n(o,i);};}function $n(){if(Tn)return In;Tn=1;var e=Un(),t=Math.min;return In=function(n){var r=e(n);return r>0?t(r,9007199254740991):0;};}function zn(){if(An)return Pn;An=1;var e=$n();return Pn=function(t){return e(t.length);};}function Hn(){if(On)return Rn;On=1;var e=$e(),t=jn(),n=zn(),r=function(r){return function(i,o,a){var s=e(i),c=n(s);if(0===c)return!r&&-1;var u,l=t(a,c);if(r&&o!=o){for(;c>l;)if((u=s[l++])!=u)return!0;}else for(;c>l;l++)if((r||l in s)&&s[l]===o)return r||l||0;return!r&&-1;};};return Rn={includes:r(!0),indexOf:r(!1)};}function Wn(){if(Ln)return Mn;Ln=1;var e=De(),t=At(),n=$e(),r=Hn().indexOf,i=yn(),o=e([].push);return Mn=function(e,a){var s,c=n(e),u=0,l=[];for(s in c)!t(i,s)&&t(c,s)&&o(l,s);for(;a.length>u;)t(c,s=a[u++])&&(~r(l,s)||o(l,s));return l;};}function qn(){return Dn?Nn:(Dn=1,Nn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]);}function Vn(){if(Bn)return Fn;Bn=1;var e=Wn(),t=qn().concat("length","prototype");return Fn.f=Object.getOwnPropertyNames||function(n){return e(n,t);},Fn;}var Gn,Yn,Jn,Kn,Xn,Zn,Qn,er,tr,nr,rr,ir,or,ar,sr,cr,ur,lr,dr,fr,pr,hr,mr,gr,yr,vr,br,_r,wr={};function kr(){return Gn||(Gn=1,wr.f=Object.getOwnPropertySymbols),wr;}function Sr(){if(Xn)return Kn;Xn=1;var e=At(),t=function(){if(Jn)return Yn;Jn=1;var e=We(),t=De(),n=Vn(),r=kr(),i=Gt(),o=t([].concat);return Yn=e("Reflect","ownKeys")||function(e){var t=n.f(i(e)),a=r.f;return a?o(t,a(e)):t;};}(),n=Bt(),r=Yt();return Kn=function(i,o,a){for(var s=t(o),c=r.f,u=n.f,l=0;l<s.length;l++){var d=s[l];e(i,d)||a&&e(a,d)||c(i,d,u(o,d));}};}function xr(){if(Qn)return Zn;Qn=1;var e=z(),t=ze(),n=/#|\.prototype\./,r=function(n,r){var c=o[i(n)];return c===s||c!==a&&(t(r)?e(r):!!r);},i=r.normalize=function(e){return String(e).replace(n,".").toLowerCase();},o=r.data={},a=r.NATIVE="N",s=r.POLYFILL="P";return Zn=r;}function Er(){if(tr)return er;tr=1;var e=O(),t=Bt().f,n=Jt(),r=_n(),i=Ct(),o=Sr(),a=xr();return er=function(s,c){var u,l,d,f,p,h=s.target,m=s.global,g=s.stat;if(u=m?e:g?e[h]||i(h,{}):e[h]&&e[h].prototype)for(l in c){if(f=c[l],d=s.dontCallGetSet?(p=t(u,l))&&p.value:u[l],!a(m?l:h+(g?".":"#")+l,s.forced)&&void 0!==d){if(typeof f==typeof d)continue;o(f,d);}(s.sham||d&&d.sham)&&n(f,"sham",!0),r(u,l,f,s);}};}function Cr(){if(rr)return nr;rr=1;var e=Be();return nr=Array.isArray||function(t){return"Array"===e(t);};}function Ir(){if(sr)return ar;sr=1;var e=H(),t=Yt(),n=Ne();return ar=function(r,i,o){e?t.f(r,i,n(0,o)):r[i]=o;};}function Tr(){if(ur)return cr;ur=1;var e={};return e[Ot()("toStringTag")]="z",cr="[object z]"===String(e);}function Pr(){if(dr)return lr;dr=1;var e=Tr(),t=ze(),n=Be(),r=Ot()("toStringTag"),i=Object,o="Arguments"===n(function(){return arguments;}());return lr=e?n:function(e){var a,s,c;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=function(e,t){try{return e[t];}catch(n){}}(a=i(e),r))?s:o?n(a):"Object"===(c=n(a))&&t(a.callee)?"Arguments":c;};}function Ar(){if(pr)return fr;pr=1;var e=De(),t=z(),n=ze(),r=Pr(),i=We(),o=hn(),a=function(){},s=i("Reflect","construct"),c=/^\s*(?:class|function)\b/,u=e(c.exec),l=!c.test(a),d=function(e){if(!n(e))return!1;try{return s(a,[],e),!0;}catch(t){return!1;}},f=function(e){if(!n(e))return!1;switch(r(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1;}try{return l||!!u(c,o(e));}catch(t){return!0;}};return f.sham=!0,fr=!s||t(function(){var e;return d(d.call)||!d(Object)||!d(function(){e=!0;})||e;})?f:d;}function Rr(){if(yr)return gr;yr=1;var e=function(){if(mr)return hr;mr=1;var e=Cr(),t=Ar(),n=He(),r=Ot()("species"),i=Array;return hr=function(o){var a;return e(o)&&(a=o.constructor,(t(a)&&(a===i||e(a.prototype))||n(a)&&null===(a=a[r]))&&(a=void 0)),void 0===a?i:a;};}();return gr=function(t,n){return new(e(t))(0===n?0:n);};}function Or(){if(br)return vr;br=1;var e=z(),t=Ot(),n=Ge(),r=t("species");return vr=function(t){return n>=51||!e(function(){var e=[];return(e.constructor={})[r]=function(){return{foo:1};},1!==e[t](Boolean).foo;});};}!function(){if(_r)return R;_r=1;var e=Er(),t=z(),n=Cr(),r=He(),i=Pt(),o=zn(),a=function(){if(or)return ir;or=1;var e=TypeError;return ir=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t;};}(),s=Ir(),c=Rr(),u=Or(),l=Ot(),d=Ge(),f=l("isConcatSpreadable"),p=d>=51||!t(function(){var e=[];return e[f]=!1,e.concat()[0]!==e;}),h=function(e){if(!r(e))return!1;var t=e[f];return void 0!==t?!!t:n(e);};e({target:"Array",proto:!0,arity:1,forced:!p||!u("concat")},{concat:function(e){var t,n,r,u,l,d=i(this),f=c(d,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(h(l=-1===t?d:arguments[t]))for(u=o(l),a(p+u),n=0;n<u;n++,p++)n in l&&s(f,p,l[n]);else a(p+1),s(f,p++,l);return f.length=p,f;}});}();var Mr,Lr,Nr,Dr={};!function(){if(Nr)return Dr;Nr=1;var e=Tr(),t=_n(),n=function(){if(Lr)return Mr;Lr=1;var e=Tr(),t=Pr();return Mr=e?{}.toString:function(){return"[object "+t(this)+"]";};}();e||t(Object.prototype,"toString",n,{unsafe:!0});}();var Br,Fr,Ur,jr,$r,zr,Hr,Wr,qr,Vr,Gr,Yr,Jr,Kr,Xr,Zr,Qr,ei,ti,ni,ri,ii,oi,ai,si,ci,ui,li,di,fi,pi,hi,mi,gi,yi,vi,bi,_i,wi,ki,Si,xi,Ei,Ci,Ii,Ti,Pi,Ai,Ri,Oi,Mi,Li,Ni,Di,Bi,Fi,Ui,ji,$i,zi,Hi={};function Wi(){if(Fr)return Br;Fr=1;var e=O(),t=Be();return Br="process"===t(e.process);}function qi(){if(Wr)return Hr;Wr=1;var e=function(){if(zr)return $r;zr=1;var e=He();return $r=function(t){return e(t)||null===t;};}(),t=String,n=TypeError;return Hr=function(r){if(e(r))return r;throw new n("Can't set "+t(r)+" as a prototype");};}function Vi(){if(Vr)return qr;Vr=1;var e=function(){if(jr)return Ur;jr=1;var e=De(),t=Ze();return Ur=function(n,r,i){try{return e(t(Object.getOwnPropertyDescriptor(n,r)[i]));}catch(o){}};}(),t=He(),n=je(),r=qi();return qr=Object.setPrototypeOf||("__proto__"in{}?function(){var i,o=!1,a={};try{(i=e(Object.prototype,"__proto__","set"))(a,[]),o=a instanceof Array;}catch(s){}return function(e,a){return n(e),r(a),t(e)?(o?i(e,a):e.__proto__=a,e):e;};}():void 0);}function Gi(){if(Yr)return Gr;Yr=1;var e=Yt().f,t=At(),n=Ot()("toStringTag");return Gr=function(r,i,o){r&&!o&&(r=r.prototype),r&&!t(r,n)&&e(r,n,{configurable:!0,value:i});};}function Yi(){if(Kr)return Jr;Kr=1;var e=bn(),t=Yt();return Jr=function(n,r,i){return i.get&&e(i.get,r,{getter:!0}),i.set&&e(i.set,r,{setter:!0}),t.f(n,r,i);};}function Ji(){if(Zr)return Xr;Zr=1;var e=We(),t=Yi(),n=Ot(),r=H(),i=n("species");return Xr=function(n){var o=e(n);r&&o&&!o[i]&&t(o,i,{configurable:!0,get:function(){return this;}});};}function Ki(){if(ei)return Qr;ei=1;var e=qe(),t=TypeError;return Qr=function(n,r){if(e(r,n))return n;throw new t("Incorrect invocation");};}function Xi(){if(ni)return ti;ni=1;var e=Ar(),t=Xe(),n=TypeError;return ti=function(r){if(e(r))return r;throw new n(t(r)+" is not a constructor");};}function Zi(){if(ii)return ri;ii=1;var e=Gt(),t=Xi(),n=Ue(),r=Ot()("species");return ri=function(i,o){var a,s=e(i).constructor;return void 0===s||n(a=e(s)[r])?o:t(a);};}function Qi(){if(ai)return oi;ai=1;var e=W(),t=Function.prototype,n=t.apply,r=t.call;return oi="object"==typeof Reflect&&Reflect.apply||(e?r.bind(n):function(){return r.apply(n,arguments);}),oi;}function eo(){if(ci)return si;ci=1;var e=Be(),t=De();return si=function(n){if("Function"===e(n))return t(n);};}function to(){if(li)return ui;li=1;var e=eo(),t=Ze(),n=W(),r=e(e.bind);return ui=function(e,i){return t(e),void 0===i?e:n?r(e,i):function(){return e.apply(i,arguments);};},ui;}function no(){if(fi)return di;fi=1;var e=We();return di=e("document","documentElement");}function ro(){if(hi)return pi;hi=1;var e=De();return pi=e([].slice);}function io(){if(gi)return mi;gi=1;var e=TypeError;return mi=function(t,n){if(t<n)throw new e("Not enough arguments");return t;};}function oo(){if(vi)return yi;vi=1;var e=Ve();return yi=/(?:ipad|iphone|ipod).*applewebkit/i.test(e);}function ao(){if(_i)return bi;_i=1;var e,t,n,r,i=O(),o=Qi(),a=to(),s=ze(),c=At(),u=z(),l=no(),d=ro(),f=Nt(),p=io(),h=oo(),m=Wi(),g=i.setImmediate,y=i.clearImmediate,v=i.process,b=i.Dispatch,_=i.Function,w=i.MessageChannel,k=i.String,S=0,x={},E="onreadystatechange";u(function(){e=i.location;});var C=function(e){if(c(x,e)){var t=x[e];delete x[e],t();}},I=function(e){return function(){C(e);};},T=function(e){C(e.data);},P=function(t){i.postMessage(k(t),e.protocol+"//"+e.host);};return g&&y||(g=function(e){p(arguments.length,1);var n=s(e)?e:_(e),r=d(arguments,1);return x[++S]=function(){o(n,void 0,r);},t(S),S;},y=function(e){delete x[e];},m?t=function(e){v.nextTick(I(e));}:b&&b.now?t=function(e){b.now(I(e));}:w&&!h?(r=(n=new w()).port2,n.port1.onmessage=T,t=a(r.postMessage,r)):i.addEventListener&&s(i.postMessage)&&!i.importScripts&&e&&"file:"!==e.protocol&&!u(P)?(t=P,i.addEventListener("message",T,!1)):t=E in f("script")?function(e){l.appendChild(f("script"))[E]=function(){l.removeChild(this),C(e);};}:function(e){setTimeout(I(e),0);}),bi={set:g,clear:y};}function so(){if(ki)return wi;ki=1;var e=O(),t=H(),n=Object.getOwnPropertyDescriptor;return wi=function(r){if(!t)return e[r];var i=n(e,r);return i&&i.value;};}function co(){if(xi)return Si;xi=1;var e=function(){this.head=null,this.tail=null;};return e.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t;},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item;}},Si=e;}function uo(){if(Ai)return Pi;Ai=1;var e,t,n,r,i,o=O(),a=so(),s=to(),c=ao().set,u=co(),l=oo(),d=function(){if(Ci)return Ei;Ci=1;var e=Ve();return Ei=/ipad|iphone|ipod/i.test(e)&&"undefined"!=typeof Pebble;}(),f=function(){if(Ti)return Ii;Ti=1;var e=Ve();return Ii=/web0s(?!.*chrome)/i.test(e);}(),p=Wi(),h=o.MutationObserver||o.WebKitMutationObserver,m=o.document,g=o.process,y=o.Promise,v=a("queueMicrotask");if(!v){var b=new u(),_=function(){var t,n;for(p&&(t=g.domain)&&t.exit();n=b.get();)try{n();}catch(r){throw b.head&&e(),r;}t&&t.enter();};l||p||f||!h||!m?!d&&y&&y.resolve?((r=y.resolve(void 0)).constructor=y,i=s(r.then,r),e=function(){i(_);}):p?e=function(){g.nextTick(_);}:(c=s(c,o),e=function(){c(_);}):(t=!0,n=m.createTextNode(""),new h(_).observe(n,{characterData:!0}),e=function(){n.data=t=!t;}),v=function(t){b.head||e(),b.add(t);};}return Pi=v;}function lo(){return Li?Mi:(Li=1,Mi=function(e){try{return{error:!1,value:e()};}catch(t){return{error:!0,value:t};}});}function fo(){if(Di)return Ni;Di=1;var e=O();return Ni=e.Promise;}function po(){return Fi?Bi:(Fi=1,Bi="object"==typeof Deno&&Deno&&"object"==typeof Deno.version);}function ho(){if(zi)return $i;zi=1;var e=O(),t=fo(),n=ze(),r=xr(),i=hn(),o=Ot(),a=function(){if(ji)return Ui;ji=1;var e=po(),t=Wi();return Ui=!e&&!t&&"object"==typeof window&&"object"==typeof document;}(),s=po(),c=Et(),u=Ge(),l=t&&t.prototype,d=o("species"),f=!1,p=n(e.PromiseRejectionEvent),h=r("Promise",function(){var e=i(t),n=e!==String(t);if(!n&&66===u)return!0;if(c&&(!l.catch||!l.finally))return!0;if(!u||u<51||!/native code/.test(e)){var r=new t(function(e){e(1);}),o=function(e){e(function(){},function(){});};if((r.constructor={})[d]=o,!(f=r.then(function(){})instanceof o))return!0;}return!n&&(a||s)&&!p;});return $i={CONSTRUCTOR:h,REJECTION_EVENT:p,SUBCLASSING:f};}var mo,go,yo={};function vo(){if(mo)return yo;mo=1;var e=Ze(),t=TypeError,n=function(n){var r,i;this.promise=new n(function(e,n){if(void 0!==r||void 0!==i)throw new t("Bad Promise constructor");r=e,i=n;}),this.resolve=e(r),this.reject=e(i);};return yo.f=function(e){return new n(e);},yo;}function bo(){if(go)return Hi;go=1;var e,t,n,r=Er(),i=Et(),o=Wi(),a=O(),s=q(),c=_n(),u=Vi(),l=Gi(),d=Ji(),f=Ze(),p=ze(),h=He(),m=Ki(),g=Zi(),y=ao().set,v=uo(),b=function(){return Oi||(Oi=1,Ri=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t);}catch(n){}}),Ri;}(),_=lo(),w=co(),k=vn(),S=fo(),x=ho(),E=vo(),C="Promise",I=x.CONSTRUCTOR,T=x.REJECTION_EVENT,P=x.SUBCLASSING,A=k.getterFor(C),R=k.set,M=S&&S.prototype,L=S,N=M,D=a.TypeError,B=a.document,F=a.process,U=E.f,j=U,$=!!(B&&B.createEvent&&a.dispatchEvent),z="unhandledrejection",H=function(e){var t;return!(!h(e)||!p(t=e.then))&&t;},W=function(e,t){var n,r,i,o=t.value,a=1===t.state,c=a?e.ok:e.fail,u=e.resolve,l=e.reject,d=e.domain;try{c?(a||(2===t.rejection&&K(t),t.rejection=1),!0===c?n=o:(d&&d.enter(),n=c(o),d&&(d.exit(),i=!0)),n===e.promise?l(new D("Promise-chain cycle")):(r=H(n))?s(r,n,u,l):u(n)):l(o);}catch(f){d&&!i&&d.exit(),l(f);}},V=function(e,t){e.notified||(e.notified=!0,v(function(){for(var n,r=e.reactions;n=r.get();)W(n,e);e.notified=!1,t&&!e.rejection&&Y(e);}));},G=function(e,t,n){var r,i;$?((r=B.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),a.dispatchEvent(r)):r={promise:t,reason:n},!T&&(i=a["on"+e])?i(r):e===z&&b("Unhandled promise rejection",n);},Y=function(e){s(y,a,function(){var t,n=e.facade,r=e.value;if(J(e)&&(t=_(function(){o?F.emit("unhandledRejection",r,n):G(z,n,r);}),e.rejection=o||J(e)?2:1,t.error))throw t.value;});},J=function(e){return 1!==e.rejection&&!e.parent;},K=function(e){s(y,a,function(){var t=e.facade;o?F.emit("rejectionHandled",t):G("rejectionhandled",t,e.value);});},X=function(e,t,n){return function(r){e(t,r,n);};},Z=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,V(e,!0));},Q=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new D("Promise can't be resolved itself");var r=H(t);r?v(function(){var n={done:!1};try{s(r,t,X(Q,n,e),X(Z,n,e));}catch(i){Z(n,i,e);}}):(e.value=t,e.state=1,V(e,!1));}catch(i){Z({done:!1},i,e);}}};if(I&&(N=(L=function(t){m(this,N),f(t),s(e,this);var n=A(this);try{t(X(Q,n),X(Z,n));}catch(r){Z(n,r);}}).prototype,(e=function(e){R(this,{type:C,done:!1,notified:!1,parent:!1,reactions:new w(),rejection:!1,state:0,value:void 0});}).prototype=c(N,"then",function(e,t){var n=A(this),r=U(g(this,L));return n.parent=!0,r.ok=!p(e)||e,r.fail=p(t)&&t,r.domain=o?F.domain:void 0,0===n.state?n.reactions.add(r):v(function(){W(r,n);}),r.promise;}),t=function(){var t=new e(),n=A(t);this.promise=t,this.resolve=X(Q,n),this.reject=X(Z,n);},E.f=U=function(e){return e===L||undefined===e?new t(e):j(e);},!i&&p(S)&&M!==Object.prototype)){n=M.then,P||c(M,"then",function(e,t){var r=this;return new L(function(e,t){s(n,r,e,t);}).then(e,t);},{unsafe:!0});try{delete M.constructor;}catch(ee){}u&&u(M,N);}return r({global:!0,constructor:!0,wrap:!0,forced:I},{Promise:L}),l(L,C,!1,!0),d(C),Hi;}var _o,wo,ko,So,xo,Eo,Co,Io,To,Po,Ao,Ro,Oo,Mo,Lo,No,Do,Bo={};function Fo(){return wo?_o:(wo=1,_o={});}function Uo(){if(So)return ko;So=1;var e=Ot(),t=Fo(),n=e("iterator"),r=Array.prototype;return ko=function(e){return void 0!==e&&(t.Array===e||r[n]===e);};}function jo(){if(Eo)return xo;Eo=1;var e=Pr(),t=Qe(),n=Ue(),r=Fo(),i=Ot()("iterator");return xo=function(o){if(!n(o))return t(o,i)||t(o,"@@iterator")||r[e(o)];};}function $o(){if(Io)return Co;Io=1;var e=q(),t=Ze(),n=Gt(),r=Xe(),i=jo(),o=TypeError;return Co=function(a,s){var c=arguments.length<2?i(a):s;if(t(c))return n(e(c,a));throw new o(r(a)+" is not iterable");},Co;}function zo(){if(Po)return To;Po=1;var e=q(),t=Gt(),n=Qe();return To=function(r,i,o){var a,s;t(r);try{if(!(a=n(r,"return"))){if("throw"===i)throw o;return o;}a=e(a,r);}catch(c){s=!0,a=c;}if("throw"===i)throw o;if(s)throw a;return t(a),o;};}function Ho(){if(Ro)return Ao;Ro=1;var e=to(),t=q(),n=Gt(),r=Xe(),i=Uo(),o=zn(),a=qe(),s=$o(),c=jo(),u=zo(),l=TypeError,d=function(e,t){this.stopped=e,this.result=t;},f=d.prototype;return Ao=function(p,h,m){var g,y,v,b,_,w,k,S=m&&m.that,x=!(!m||!m.AS_ENTRIES),E=!(!m||!m.IS_RECORD),C=!(!m||!m.IS_ITERATOR),I=!(!m||!m.INTERRUPTED),T=e(h,S),P=function(e){return g&&u(g,"normal",e),new d(!0,e);},A=function(e){return x?(n(e),I?T(e[0],e[1],P):T(e[0],e[1])):I?T(e,P):T(e);};if(E)g=p.iterator;else if(C)g=p;else{if(!(y=c(p)))throw new l(r(p)+" is not iterable");if(i(y)){for(v=0,b=o(p);b>v;v++)if((_=A(p[v]))&&a(f,_))return _;return new d(!1);}g=s(p,y);}for(w=E?p.next:g.next;!(k=t(w,g)).done;){try{_=A(k.value);}catch(R){u(g,"throw",R);}if("object"==typeof _&&_&&a(f,_))return _;}return new d(!1);};}function Wo(){if(Mo)return Oo;Mo=1;var e=Ot()("iterator"),t=!1;try{var n=0,r={next:function(){return{done:!!n++};},return:function(){t=!0;}};r[e]=function(){return this;},Array.from(r,function(){throw 2;});}catch(i){}return Oo=function(n,r){try{if(!r&&!t)return!1;}catch(i){return!1;}var o=!1;try{var a={};a[e]=function(){return{next:function(){return{done:o=!0};}};},n(a);}catch(i){}return o;};}function qo(){if(No)return Lo;No=1;var e=fo(),t=Wo(),n=ho().CONSTRUCTOR;return Lo=n||!t(function(t){e.all(t).then(void 0,function(){});});}var Vo,Go={};var Yo,Jo={};var Ko,Xo={};var Zo,Qo,ea,ta,na={};function ra(){if(Qo)return Zo;Qo=1;var e=Gt(),t=He(),n=vo();return Zo=function(r,i){if(e(r),t(i)&&i.constructor===r)return i;var o=n.f(r);return(0,o.resolve)(i),o.promise;};}!function(){ta||(ta=1,bo(),function(){if(Do)return Bo;Do=1;var e=Er(),t=q(),n=Ze(),r=vo(),i=lo(),o=Ho();e({target:"Promise",stat:!0,forced:qo()},{all:function(e){var a=this,s=r.f(a),c=s.resolve,u=s.reject,l=i(function(){var r=n(a.resolve),i=[],s=0,l=1;o(e,function(e){var n=s++,o=!1;l++,t(r,a,e).then(function(e){o||(o=!0,i[n]=e,--l||c(i));},u);}),--l||c(i);});return l.error&&u(l.value),s.promise;}});}(),function(){if(Vo)return Go;Vo=1;var e=Er(),t=Et(),n=ho().CONSTRUCTOR,r=fo(),i=We(),o=ze(),a=_n(),s=r&&r.prototype;if(e({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(e){return this.then(void 0,e);}}),!t&&o(r)){var c=i("Promise").prototype.catch;s.catch!==c&&a(s,"catch",c,{unsafe:!0});}}(),function(){if(Yo)return Jo;Yo=1;var e=Er(),t=q(),n=Ze(),r=vo(),i=lo(),o=Ho();e({target:"Promise",stat:!0,forced:qo()},{race:function(e){var a=this,s=r.f(a),c=s.reject,u=i(function(){var r=n(a.resolve);o(e,function(e){t(r,a,e).then(s.resolve,c);});});return u.error&&c(u.value),s.promise;}});}(),function(){if(Ko)return Xo;Ko=1;var e=Er(),t=vo();e({target:"Promise",stat:!0,forced:ho().CONSTRUCTOR},{reject:function(e){var n=t.f(this);return(0,n.reject)(e),n.promise;}});}(),function(){if(ea)return na;ea=1;var e=Er(),t=We(),n=Et(),r=fo(),i=ho().CONSTRUCTOR,o=ra(),a=t("Promise"),s=n&&!i;e({target:"Promise",stat:!0,forced:n||i},{resolve:function(e){return o(s&&this===a?r:this,e);}});}());}();var ia,oa,aa,sa,ca,ua,la,da,fa,pa={};function ha(){if(sa)return aa;sa=1;var e=At(),t=ze(),n=Pt(),r=gn(),i=function(){if(oa)return ia;oa=1;var e=z();return ia=!e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e())!==e.prototype;});}(),o=r("IE_PROTO"),a=Object,s=a.prototype;return aa=i?a.getPrototypeOf:function(r){var i=n(r);if(e(i,o))return i[o];var c=i.constructor;return t(c)&&i instanceof c?c.prototype:i instanceof a?s:null;};}function ma(){if(ua)return ca;ua=1;var e=Wn(),t=qn();return ca=Object.keys||function(n){return e(n,t);};}function ga(){if(da)return la;da=1;var e=H(),t=z(),n=De(),r=ha(),i=ma(),o=$e(),a=n(Le().f),s=n([].push),c=e&&t(function(){var e=Object.create(null);return e[2]=2,!a(e,2);}),u=function(t){return function(n){for(var u,l=o(n),d=i(l),f=c&&null===r(l),p=d.length,h=0,m=[];p>h;)u=d[h++],e&&!(f?u in l:a(l,u))||s(m,t?[u,l[u]]:l[u]);return m;};};return la={entries:u(!0),values:u(!1)};}!function(){if(fa)return pa;fa=1;var e=Er(),t=ga().values;e({target:"Object",stat:!0},{values:function(e){return t(e);}});}();var ya,va={};!function(){if(ya)return va;ya=1;var e=Er(),t=z(),n=Pt(),r=Mt();e({target:"Date",proto:!0,arity:1,forced:t(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1;}});})},{toJSON:function(e){var t=n(this),i=r(t,"number");return"number"!=typeof i||isFinite(i)?t.toISOString():null;}});}();var ba,_a,wa,ka=function(e){function t(e,n){var r;return a(this,t),(r=o(this,t,[e])).details=n,r.name=r.constructor.name,r;}return g(t,e),d(t,null,[{key:"is",value:function(e){return null!=e&&"object"==typeof e&&(e instanceof t||"message"in e&&"string"==typeof e.message&&"stack"in e&&"details"in e);}},{key:"from",value:function(e){if(null==e)return new t("Unknown error");if(e instanceof t)return e;if(e instanceof Error){var n=new t(e.message);return n.stack=e.stack,n;}return"object"!=typeof e?new t(String(e)):function(e){return"message"in e&&"string"==typeof e.message;}(e)?new t(e.message):new t(JSON.stringify(e));}},{key:"wrap",value:function(e,n,r){var i=t.from(e),o=new t("".concat(n,": ").concat(i.message),b(b({},i.details),r));return o.stack=i.stack,o;}},{key:"invariant",value:function(e,n,r){if(!e)throw new t(n,r);}}]);}(C(Error)),Sa=function(e){function t(){var e;a(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];if(3===i.length){var c=i[0];(e=o(this,t,[i[1],i[2]])).type=c;}else{var u=i[0];(e=o(this,t,["",i[1]])).type=u;}return e.name="ApplicationError[".concat(String(e.type),"]"),n(e);}return g(t,e),d(t,[{key:"is",value:function(e){var t=this;return"string"==typeof e||"symbol"==typeof e||"number"==typeof e?this.type===e:Array.isArray(e)?e.some(function(e){return e===t.type;}):"object"==typeof e&&Object.values(e).some(function(e){return e===t.type;});}},{key:"unwrap",value:function(){return this.cause;}}],[{key:"is",value:function(e){return null!=e&&"object"==typeof e&&(e instanceof t||!!ka.is(e)&&"type"in e&&("string"==typeof e.type||"number"==typeof e.type||"symbol"==typeof e.type));}},{key:"isOfType",value:function(e,n){return!!t.is(n)&&("string"==typeof e||"symbol"==typeof e||"number"==typeof e?n.type===e:Array.isArray(e)?e.some(function(e){return e===n.type;}):"object"==typeof e&&Object.values(e).some(function(e){return e===n.type;}));}},{key:"wrap",value:function(e,n,r){var i=ka.from(e),o=new t(n,i.message,i.details?b(b({},i.details),r):r);return o.cause=e,o.stack=i.stack,o;}},{key:"invariant",value:function(e,n,r){if(!e)throw new t(n,r);}}]);}(ka),xa={};function Ea(){if(_a)return ba;_a=1;var e=to(),t=De(),n=Fe(),r=Pt(),i=zn(),o=Rr(),a=t([].push),s=function(t){var s=1===t,c=2===t,u=3===t,l=4===t,d=6===t,f=7===t,p=5===t||d;return function(h,m,g,y){for(var v,b,_=r(h),w=n(_),k=i(w),S=e(m,g),x=0,E=y||o,C=s?E(h,k):c||f?E(h,0):void 0;k>x;x++)if((p||x in w)&&(b=S(v=w[x],x,_),t))if(s)C[x]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:a(C,v);}else switch(t){case 4:return!1;case 7:a(C,v);}return d?-1:u||l?l:C;};};return ba={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)};}!function(){if(wa)return xa;wa=1;var e=Er(),t=Ea().map;e({target:"Array",proto:!0,forced:!Or()("map")},{map:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0);}});}();var Ca,Ia,Ta,Pa,Aa,Ra,Oa={};function Ma(){if(Ia)return Ca;Ia=1;var e=Pr(),t=String;return Ca=function(n){if("Symbol"===e(n))throw new TypeError("Cannot convert a Symbol value to a string");return t(n);};}function La(){if(Pa)return Ta;Pa=1;var e=Gt();return Ta=function(){var t=e(this),n="";return t.hasIndices&&(n+="d"),t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.unicodeSets&&(n+="v"),t.sticky&&(n+="y"),n;};}function Na(){if(Ra)return Aa;Ra=1;var e=z(),t=O().RegExp,n=e(function(){var e=t("a","y");return e.lastIndex=2,null!==e.exec("abcd");}),r=n||e(function(){return!t("a","y").sticky;}),i=n||e(function(){var e=t("^r","gy");return e.lastIndex=2,null!==e.exec("str");});return Aa={BROKEN_CARET:i,MISSED_STICKY:r,UNSUPPORTED_Y:n};}var Da,Ba,Fa,Ua,ja,$a,za,Ha,Wa,qa,Va={};function Ga(){if(Da)return Va;Da=1;var e=H(),t=Vt(),n=Yt(),r=Gt(),i=$e(),o=ma();return Va.f=e&&!t?Object.defineProperties:function(e,t){r(e);for(var a,s=i(t),c=o(t),u=c.length,l=0;u>l;)n.f(e,a=c[l++],s[a]);return e;},Va;}function Ya(){if(Fa)return Ba;Fa=1;var e,t=Gt(),n=Ga(),r=qn(),i=yn(),o=no(),a=Nt(),s=gn(),c="prototype",u="script",l=s("IE_PROTO"),d=function(){},f=function(e){return"<"+u+">"+e+"</"+u+">";},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t;},h=function(){try{e=new ActiveXObject("htmlfile");}catch(n){}h="undefined"!=typeof document?document.domain&&e?p(e):function(){var e,t=a("iframe"),n="java"+u+":";return t.style.display="none",o.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F;}():p(e);for(var t=r.length;t--;)delete h[c][r[t]];return h();};return i[l]=!0,Ba=Object.create||function(e,r){var i;return null!==e?(d[c]=t(e),i=new d(),d[c]=null,i[l]=e):i=h(),void 0===r?i:n.f(i,r);};}function Ja(){if(ja)return Ua;ja=1;var e=z(),t=O().RegExp;return Ua=e(function(){var e=t(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags);});}function Ka(){if(za)return $a;za=1;var e=z(),t=O().RegExp;return $a=e(function(){var e=t("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c");});}function Xa(){if(Wa)return Ha;Wa=1;var e=q(),t=De(),n=Ma(),r=La(),i=Na(),o=Tt(),a=Ya(),s=vn().get,c=Ja(),u=Ka(),l=o("native-string-replace",String.prototype.replace),d=RegExp.prototype.exec,f=d,p=t("".charAt),h=t("".indexOf),m=t("".replace),g=t("".slice),y=function(){var t=/a/,n=/b*/g;return e(d,t,"a"),e(d,n,"a"),0!==t.lastIndex||0!==n.lastIndex;}(),v=i.BROKEN_CARET,b=void 0!==/()??/.exec("")[1];return(y||b||v||c||u)&&(f=function(t){var i,o,c,u,_,w,k,S=this,x=s(S),E=n(t),C=x.raw;if(C)return C.lastIndex=S.lastIndex,i=e(f,C,E),S.lastIndex=C.lastIndex,i;var I=x.groups,T=v&&S.sticky,P=e(r,S),A=S.source,R=0,O=E;if(T&&(P=m(P,"y",""),-1===h(P,"g")&&(P+="g"),O=g(E,S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&"\n"!==p(E,S.lastIndex-1))&&(A="(?: "+A+")",O=" "+O,R++),o=new RegExp("^(?:"+A+")",P)),b&&(o=new RegExp("^"+A+"$(?!\\s)",P)),y&&(c=S.lastIndex),u=e(d,T?o:S,O),T?u?(u.input=g(u.input,R),u[0]=g(u[0],R),u.index=S.lastIndex,S.lastIndex+=u[0].length):S.lastIndex=0:y&&u&&(S.lastIndex=S.global?u.index+u[0].length:c),b&&u&&u.length>1&&e(l,u[0],o,function(){for(_=1;_<arguments.length-2;_++)void 0===arguments[_]&&(u[_]=void 0);}),u&&I)for(u.groups=w=a(null),_=0;_<I.length;_++)w[(k=I[_])[0]]=u[k[1]];return u;}),Ha=f;}function Za(){if(qa)return Oa;qa=1;var e=Er(),t=Xa();return e({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t}),Oa;}Za();var Qa,es,ts;function ns(){if(es)return Qa;es=1;var e=Un(),t=Ma(),n=je(),r=RangeError;return Qa=function(i){var o=t(n(this)),a="",s=e(i);if(s<0||s===1/0)throw new r("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(o+=o))1&s&&(a+=o);return a;};}!function(){ts||(ts=1,Er()({target:"String",proto:!0},{repeat:ns()}));}();var rs,is,os,as,ss,cs,us,ls,ds,fs,ps,hs={};function ms(){if(is)return rs;is=1,Za();var e=q(),t=_n(),n=Xa(),r=z(),i=Ot(),o=Jt(),a=i("species"),s=RegExp.prototype;return rs=function(c,u,l,d){var f=i(c),p=!r(function(){var e={};return e[f]=function(){return 7;},7!==""[c](e);}),h=p&&!r(function(){var e=!1,t=/a/;return"split"===c&&((t={}).constructor={},t.constructor[a]=function(){return t;},t.flags="",t[f]=/./[f]),t.exec=function(){return e=!0,null;},t[f](""),!e;});if(!p||!h||l){var m=/./[f],g=u(f,""[c],function(t,r,i,o,a){var c=r.exec;return c===n||c===s.exec?p&&!a?{done:!0,value:e(m,r,i,o)}:{done:!0,value:e(t,i,r,o)}:{done:!1};});t(String.prototype,c,g[0]),t(s,f,g[1]);}d&&o(s[f],"sham",!0);};}function gs(){if(as)return os;as=1;var e=De(),t=Un(),n=Ma(),r=je(),i=e("".charAt),o=e("".charCodeAt),a=e("".slice),s=function(e){return function(s,c){var u,l,d=n(r(s)),f=t(c),p=d.length;return f<0||f>=p?e?"":void 0:(u=o(d,f))<55296||u>56319||f+1===p||(l=o(d,f+1))<56320||l>57343?e?i(d,f):u:e?a(d,f,f+2):l-56320+(u-55296<<10)+65536;};};return os={codeAt:s(!1),charAt:s(!0)};}function ys(){if(cs)return ss;cs=1;var e=gs().charAt;return ss=function(t,n,r){return n+(r?e(t,n).length:1);};}function vs(){if(fs)return ds;fs=1;var e=q(),t=Gt(),n=ze(),r=Be(),i=Xa(),o=TypeError;return ds=function(a,s){var c=a.exec;if(n(c)){var u=e(c,a,s);return null!==u&&t(u),u;}if("RegExp"===r(a))return e(i,a,s);throw new o("RegExp#exec called on incompatible receiver");};}!function(){if(ps)return hs;ps=1;var e=Qi(),t=q(),n=De(),r=ms(),i=z(),o=Gt(),a=ze(),s=Ue(),c=Un(),u=$n(),l=Ma(),d=je(),f=ys(),p=Qe(),h=function(){if(ls)return us;ls=1;var e=De(),t=Pt(),n=Math.floor,r=e("".charAt),i=e("".replace),o=e("".slice),a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;return us=function(e,c,u,l,d,f){var p=u+e.length,h=l.length,m=s;return void 0!==d&&(d=t(d),m=a),i(f,m,function(t,i){var a;switch(r(i,0)){case"$":return"$";case"&":return e;case"`":return o(c,0,u);case"'":return o(c,p);case"<":a=d[o(i,1,-1)];break;default:var s=+i;if(0===s)return t;if(s>h){var f=n(s/10);return 0===f?t:f<=h?void 0===l[f-1]?r(i,1):l[f-1]+r(i,1):t;}a=l[s-1];}return void 0===a?"":a;});};}(),m=vs(),g=Ot()("replace"),y=Math.max,v=Math.min,b=n([].concat),_=n([].push),w=n("".indexOf),k=n("".slice),S=function(e){return void 0===e?e:String(e);},x=function(){return"$0"==="a".replace(/./,"$0");}(),E=function(){return!!/./[g]&&""===/./[g]("a","$0");}();r("replace",function(n,r,i){var x=E?"$":"$0";return[function(e,n){var i=d(this),o=s(e)?void 0:p(e,g);return o?t(o,e,i,n):t(r,l(i),e,n);},function(t,n){var s=o(this),d=l(t);if("string"==typeof n&&-1===w(n,x)&&-1===w(n,"$<")){var p=i(r,s,d,n);if(p.done)return p.value;}var g=a(n);g||(n=l(n));var E,C=s.global;C&&(E=s.unicode,s.lastIndex=0);for(var I,T=[];null!==(I=m(s,d))&&(_(T,I),C);){""===l(I[0])&&(s.lastIndex=f(d,u(s.lastIndex),E));}for(var P="",A=0,R=0;R<T.length;R++){for(var O,M=l((I=T[R])[0]),L=y(v(c(I.index),d.length),0),N=[],D=1;D<I.length;D++)_(N,S(I[D]));var B=I.groups;if(g){var F=b([M],N,L,d);void 0!==B&&_(F,B),O=l(e(n,void 0,F));}else O=h(M,d,L,N,B,n);L>=A&&(P+=k(d,A,L)+O,A=L+M.length);}return P+k(d,A);}];},!!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e;},"7"!=="".replace(e,"$<a>");})||!x||E);}();var bs,_s,ws,ks,Ss,xs,Es,Cs,Is,Ts={};function Ps(){return _s?bs:(_s=1,bs={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0});}function As(){if(ks)return ws;ks=1;var e=Nt()("span").classList,t=e&&e.constructor&&e.constructor.prototype;return ws=t===Object.prototype?void 0:t;}function Rs(){if(xs)return Ss;xs=1;var e=z();return Ss=function(t,n){var r=[][t];return!!r&&e(function(){r.call(null,n||function(){return 1;},1);});};}!function(){if(Is)return Ts;Is=1;var e=O(),t=Ps(),n=As(),r=function(){if(Cs)return Es;Cs=1;var e=Ea().forEach,t=Rs()("forEach");return Es=t?[].forEach:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0);},Es;}(),i=Jt(),o=function(e){if(e&&e.forEach!==r)try{i(e,"forEach",r);}catch(t){e.forEach=r;}};for(var a in t)t[a]&&o(e[a]&&e[a].prototype);o(n);}();var Os=["TypeError: Failed to fetch","AbortError: Request cancelled","TypeError: Load failed","TypeError: NetworkError when attempting to fetch resource.","TypeError: A conexão de rede foi perdi§da.","TypeError: The connection has been lost.","TypeError: cancelado","TypeError: A conexão de rede foi perdida.","TypeError: no se puede analizar la respuesta"];var Ms,Ls,Ns=function(){return d(function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,e),this.Sentry=null,this.Sentry=null!==(t=n.Sentry)&&void 0!==t?t:null;},[{key:"add",value:function(e){var t;this.Sentry&&this.Sentry.addBreadcrumb({level:null!==(t=e.level)&&void 0!==t?t:"log",category:e.category,message:e.message,data:e.details});}},{key:"setSentry",value:function(e){this.Sentry=e;}}]);}(),Ds=function(e){return e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss",e;}(Ds||{}),Bs=function(){return d(function e(t){a(this,e),this.sentry=t;},[{key:"trace",value:function(e){var t=this,n=this.sentry.startInactiveSpan({name:e,forceTransaction:!0});return{finish:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds.Ok;n.setStatus({code:e===Ds.Ok?1:2,message:e}),n.end();},addSpan:function(e,r){var i,o;function a(){i&&o&&i.setStatus({code:o===Ds.Ok?1:2,message:o});}return t.sentry.withActiveSpan(n,function(){i=t.sentry.startInactiveSpan({name:e,op:r}),a();}),{finish:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds.Ok;o=e,a();}};}};}}]);}(),Fs={exports:{}},Us={};function js(){if(Ms)return Us;Ms=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),d=Symbol.iterator;var f={isMounted:function(){return!1;},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,h={};function m(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||f;}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||f;}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState");},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate");},g.prototype=m.prototype;var v=y.prototype=new g();v.constructor=y,p(v,m.prototype),v.isPureReactComponent=!0;var b=Array.isArray,_=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(t,n,r){var i,o={},a=null,s=null;if(null!=n)for(i in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(a=""+n.key),n)_.call(n,i)&&!k.hasOwnProperty(i)&&(o[i]=n[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u;}if(t&&t.defaultProps)for(i in c=t.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:e,type:t,key:a,ref:s,props:o,_owner:w.current};}function x(t){return"object"==typeof t&&null!==t&&t.$$typeof===e;}var E=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e];});}(""+e.key):t.toString(36);}function I(n,r,i,o,a){var s=typeof n;"undefined"!==s&&"boolean"!==s||(n=null);var c=!1;if(null===n)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case e:case t:c=!0;}}if(c)return a=a(c=n),n=""===o?"."+C(c,0):o,b(a)?(i="",null!=n&&(i=n.replace(E,"$&/")+"/"),I(a,r,i,"",function(e){return e;})):null!=a&&(x(a)&&(a=function(t,n){return{$$typeof:e,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner};}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+n)),r.push(a)),1;if(c=0,o=""===o?".":o+":",b(n))for(var u=0;u<n.length;u++){var l=o+C(s=n[u],u);c+=I(s,r,i,l,a);}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null;}(n),"function"==typeof l)for(n=l.call(n),u=0;!(s=n.next()).done;)c+=I(s=s.value,r,i,l=o+C(s,u++),a);else if("object"===s)throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return c;}function T(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++);}),r;}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t);},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t);}),-1===e._status&&(e._status=0,e._result=t);}if(1===e._status)return e._result.default;throw e._result;}var A={current:null},R={transition:null},O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:w};function M(){throw Error("act(...) is not supported in production builds of React.");}return Us.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments);},n);},count:function(e){var t=0;return T(e,function(){t++;}),t;},toArray:function(e){return T(e,function(e){return e;})||[];},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e;}},Us.Component=m,Us.Fragment=n,Us.Profiler=i,Us.PureComponent=y,Us.StrictMode=r,Us.Suspense=c,Us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,Us.act=M,Us.cloneElement=function(t,n,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=p({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=n){if(void 0!==n.ref&&(a=n.ref,s=w.current),void 0!==n.key&&(o=""+n.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in n)_.call(n,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===n[u]&&void 0!==c?c[u]:n[u]);}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c;}return{$$typeof:e,type:t.type,key:o,ref:a,props:i,_owner:s};},Us.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e;},Us.createElement=S,Us.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t;},Us.createRef=function(){return{current:null};},Us.forwardRef=function(e){return{$$typeof:s,render:e};},Us.isValidElement=x,Us.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:P};},Us.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t};},Us.startTransition=function(e){var t=R.transition;R.transition={};try{e();}finally{R.transition=t;}},Us.unstable_act=M,Us.useCallback=function(e,t){return A.current.useCallback(e,t);},Us.useContext=function(e){return A.current.useContext(e);},Us.useDebugValue=function(){},Us.useDeferredValue=function(e){return A.current.useDeferredValue(e);},Us.useEffect=function(e,t){return A.current.useEffect(e,t);},Us.useId=function(){return A.current.useId();},Us.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n);},Us.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t);},Us.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t);},Us.useMemo=function(e,t){return A.current.useMemo(e,t);},Us.useReducer=function(e,t,n){return A.current.useReducer(e,t,n);},Us.useRef=function(e){return A.current.useRef(e);},Us.useState=function(e){return A.current.useState(e);},Us.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n);},Us.useTransition=function(){return A.current.useTransition();},Us.version="18.3.1",Us;}var $s=function(){return Ls||(Ls=1,Fs.exports=js()),Fs.exports;}();var zs,Hs={};!function(){if(zs)return Hs;zs=1;var e=Er(),t=Cr(),n=Ar(),r=He(),i=jn(),o=zn(),a=$e(),s=Ir(),c=Ot(),u=Or(),l=ro(),d=u("slice"),f=c("species"),p=Array,h=Math.max;e({target:"Array",proto:!0,forced:!d},{slice:function(e,c){var u,d,m,g=a(this),y=o(g),v=i(e,y),b=i(void 0===c?y:c,y);if(t(g)&&(u=g.constructor,(n(u)&&(u===p||t(u.prototype))||r(u)&&null===(u=u[f]))&&(u=void 0),u===p||void 0===u))return l(g,v,b);for(d=new(void 0===u?p:u)(h(b-v,0)),m=0;v<b;v++,m++)v in g&&s(d,m,g[v]);return d.length=m,d;}});}();var Ws,qs={};!function(){if(Ws)return qs;Ws=1;var e=q(),t=ms(),n=Gt(),r=Ue(),i=$n(),o=Ma(),a=je(),s=Qe(),c=ys(),u=vs();t("match",function(t,l,d){return[function(n){var i=a(this),c=r(n)?void 0:s(n,t);return c?e(c,n,i):new RegExp(n)[t](o(i));},function(e){var t=n(this),r=o(e),a=d(l,t,r);if(a.done)return a.value;if(!t.global)return u(t,r);var s=t.unicode;t.lastIndex=0;for(var f,p=[],h=0;null!==(f=u(t,r));){var m=o(f[0]);p[h]=m,""===m&&(t.lastIndex=c(r,i(t.lastIndex),s)),h++;}return 0===h?null:p;}];});}();var Vs,Gs={};!function(){if(Vs)return Gs;Vs=1;var e=Er(),t=Ea().filter;e({target:"Array",proto:!0,forced:!Or()("filter")},{filter:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0);}});}();var Ys,Js,Ks,Xs,Zs={};function Qs(){if(Js)return Ys;Js=1;var e=q(),t=At(),n=qe(),r=La(),i=RegExp.prototype;return Ys=function(o){var a=o.flags;return void 0!==a||"flags"in i||t(o,"flags")||!n(i,o)?a:e(r,o);};}function ec(){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16);});}().split("").filter(function(e){return"-"!==e;}).join("");}function tc(){return ec().slice(0,16);}function nc(){return Date.now()/1e3;}!function(){if(Ks)return Zs;Ks=1;var e=pn().PROPER,t=_n(),n=Gt(),r=Ma(),i=z(),o=Qs(),a="toString",s=RegExp.prototype,c=s[a],u=i(function(){return"/a/b"!==c.call({source:"a",flags:"b"});}),l=e&&c.name!==a;(u||l)&&t(s,a,function(){var e=n(this);return"/"+r(e.source)+"/"+r(o(e));},{unsafe:!0});}();var rc,ic=function(){return d(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"function";a(this,e),this.name=t,this.op=n,this.startTimestamp=nc(),this.status="",this.id=tc(),this.endTimestamp=0;},[{key:"isFinished",value:function(){return!!this.endTimestamp;}},{key:"finish",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds.Ok;this.endTimestamp=nc(),this.status=e;}}]);}(),oc=function(e){function t(e,n){var r;return a(this,t),(r=o(this,t,[e])).onceFinish=n,r.spans=[],r.traceId=ec(),r.id=ec(),r;}return g(t,e),d(t,[{key:"getLastSpanId",value:function(){var e=this.getLastSpan();return e?e.id:tc();}},{key:"addSpan",value:function(e,t){var n=new ic(e,t);return this.spans.push(n),n;}},{key:"finish",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ds.Ok,n=this.isFinished(),r=this.getLastSpan();h(m(t.prototype),"finish",this).call(this,e),r&&!r.isFinished()&&r.finish(e),n||this.onceFinish();}},{key:"getLastSpan",value:function(){return this.spans[this.spans.length-1];}}]);}(ic),ac=function(){function e(t,n,r,i){a(this,e),this.environment=t,this.releaseVersion=n,this.envelopeUrl=r,this.sampleRate=i,this.currentTrace=null;}return d(e,[{key:"trace",value:function(e){var t=this,n=new oc(e,function(){t.sendTransaction(n),t.currentTrace===n&&(t.currentTrace=null);});return this.currentTrace=n,this.currentTrace;}},{key:"sendTransaction",value:function(e){if(this.allowBySampleRate()){var t={transaction:e.name,type:"transaction",release:this.releaseVersion,platform:"javascript",environment:this.environment,event_id:e.id,timestamp:e.endTimestamp,start_timestamp:e.startTimestamp,contexts:{trace:{op:e.op,trace_id:e.traceId,span_id:tc(),status:e.status}},spans:e.spans.map(function(t){return{span_id:t.id.slice(0,16),op:t.op,description:t.name,timestamp:t.endTimestamp,start_timestamp:t.startTimestamp,status:t.status,trace_id:e.traceId};}),sdk:{name:"payments.tiny-sdk",version:"2.0.0"}},n=JSON.stringify({event_id:t.event_id,sample_rate:1,sent_at:new Date().toISOString(),sdk:{name:"payments.tiny-sdk",version:"2.0.0"}});n+="\n",n+=JSON.stringify({type:"transaction"}),n+="\n",n+=JSON.stringify(t),n+="\n",this.request(n,this.envelopeUrl);}}},{key:"allowBySampleRate",value:function(){return Math.random()<this.sampleRate;}},{key:"request",value:function(e,t){if(t&&e){var n=new XMLHttpRequest();n.open("post",t,!0),n.send(e);}}}],[{key:"parseDsn",value:function(t){if(!t)return{storeUrl:"",envelopeUrl:"",publicKey:""};var n=k(e.DsnRegex.exec(t).slice(1),6),r=n[0],i=n[1],o=n[3],a="",s=n[5],c=s.split("/");if(c.length>1&&(a=c.slice(0,-1).join("/"),s=c.pop()),s){var u=s.match(/^\d+/);u&&(s=u[0]);}return{publicKey:i||"",storeUrl:"".concat(r,"://").concat(o).concat(a,"/api/").concat(s,"/store/?sentry_version=7&sentry_key=").concat(i,"&sentry_debug=true"),envelopeUrl:"".concat(r,"://").concat(o).concat(a,"/api/").concat(s,"/envelope/?sentry_version=7&sentry_key=").concat(i)};}}]);}();(Xs=ac).sentryId=ec,Xs.DsnRegex=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;var sc=function(){function e(t){var n,r=this;a(this,e),this.config=t,this.currentTeam=e.defaultTeam,this.unsentErrors=[],this.unsentWarnings=[],this.Sentry=null,this.resolveInit=function(){},this.initStatus=new Promise(function(e){r.resolveInit=e;}),this.currentTeam=t.team||e.defaultTeam,this.sampleRates=b(b({},e.defaultSampleRates),null!==(n=t.sampleRates)&&void 0!==n?n:{});var i=function(e){return r.error(e.detail.exception);},o=function(e){return r.error(e);};document.addEventListener("captureException",i),document.addEventListener("unhandledrejection",o);var s=window.onerror;window.onerror=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;(r.error(t[0]),s)&&(i=r.originalWindowOnErrorHandler).call.apply(i,[window].concat(t));},this.clearWindowCallbacks=function(){window.onerror=s,document.removeEventListener("captureException",i),document.removeEventListener("unhandledrejection",o);};var c=ac.parseDsn(t.dsn||"").envelopeUrl;this.tinySentryTracer=new ac(t.environment||"",t.release||"",c,t.isProduction?this.sampleRates.productionTraceSampleRate:this.sampleRates.traceSampleRate),this.breadcrumbs=new Ns();}return d(e,[{key:"init",value:function(t){var n=this;this.config.isProduction=t,Promise.resolve().then(()=>zD).then(function(r){n.clearWindowCallbacks(),r.init({dsn:n.config.dsn,environment:n.config.environment,release:n.config.release,denyUrls:n.config.denyUrl||e.defaultDenyUrls,ignoreErrors:n.config.ignoreErrors||e.defaultIgnoreErrors,integrations:[r.browserTracingIntegration({beforeStartSpan:function(e){return b(b({},e),{},{name:n.config.pageLoadTransactionName});}})],beforeSend:n.config.beforeSend,sampleRate:t?n.sampleRates.productionErrorSampleRate:n.sampleRates.errorSampleRate,tracesSampleRate:t?n.sampleRates.productionTraceSampleRate:n.sampleRates.traceSampleRate}),n.Sentry=r,n.resolveInit();var i=n.currentTeam;n.unsentWarnings.forEach(function(e){var t=e.value,r=e.extra,i=e.team;n.setTeam(i),n.warning(t,r);}),n.unsentErrors.forEach(function(e){var t=e.value,r=e.extra,i=e.team;n.setTeam(i),n.error(t,r);}),n.setTeam(i),n.breadcrumbs.setSentry(n.Sentry);});}},{key:"setPageLoadTransactionName",value:function(e){this.config.pageLoadTransactionName=e;}},{key:"error",value:function(e,t){this.Sentry?this.Sentry.captureException(e,{extra:t}):this.unsentErrors.push({value:e,extra:t,team:this.currentTeam}),this.config.isProduction||console.error(e,t);}},{key:"warn",value:function(e,t){this.Sentry?this.Sentry.captureException(e,{extra:t,level:"warning"}):this.unsentWarnings.push({value:e,extra:t,team:this.currentTeam}),this.config.isProduction||console.warn(e,t);}},{key:"warning",value:function(e,t){this.warn(e,t);}},{key:"info",value:function(e,t){this.Sentry?this.Sentry.captureException(e,{extra:t,level:"info"}):this.unsentWarnings.push({value:e,extra:t,team:this.currentTeam}),this.config.isProduction||console.info(e,t);}},{key:"log",value:function(e,t){this.config.isProduction||console.log(e,t);}},{key:"addBreadcrumb",value:function(e){this.Sentry&&this.breadcrumbs.add(e);}},{key:"setUser",value:function(e){this.Sentry&&this.Sentry.setUser(e);}},{key:"setTeam",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.team||e.defaultTeam;this.currentTeam=t,this.Sentry&&this.Sentry.setTag("team",t);}},{key:"getErrorBoundary",value:function(){return this.Sentry?this.Sentry.ErrorBoundary:function(e){return e.children;};}},{key:"getLastEventId",value:function(){if(this.Sentry)return this.Sentry.lastEventId();}},{key:"ready",value:function(){return this.initStatus;}},{key:"getTeamBoundary",value:function(){return function(e){return function(t){var n=t.children,r=t.team;return $s.useEffect(function(){return e.setTeam(r),function(){e.setTeam();};},[r]),n;};}({setTeam:this.setTeam.bind(this)});}},{key:"getTracer",value:function(){return this.Sentry?new Bs(this.Sentry):this.tinySentryTracer;}},{key:"getBreadcrumbs",value:function(){return this.breadcrumbs;}}]);}();(rc=sc).defaultTeam="frontend-platform",rc.defaultSampleRates={traceSampleRate:1,errorSampleRate:1,productionTraceSampleRate:.2,productionErrorSampleRate:1},rc.defaultDenyUrls=[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome-extension:\/\//i,/^chrome:\/\//i,/safari-(web-)?extension:/,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i],rc.defaultIgnoreErrors=S(Os);var cc,uc,lc,dc={};function fc(){if(uc)return cc;uc=1;var e=Ot(),t=Ya(),n=Yt().f,r=e("unscopables"),i=Array.prototype;return void 0===i[r]&&n(i,r,{configurable:!0,value:t(null)}),cc=function(e){i[r][e]=!0;};}!function(){if(lc)return dc;lc=1;var e=Er(),t=Hn().includes,n=z(),r=fc();e({target:"Array",proto:!0,forced:n(function(){return!Array(1).includes();})},{includes:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0);}}),r("includes");}();var pc,hc,mc,gc={};function yc(){if(hc)return pc;hc=1;var e=Ze(),t=Pt(),n=Fe(),r=zn(),i=TypeError,o="Reduce of empty array with no initial value",a=function(a){return function(s,c,u,l){var d=t(s),f=n(d),p=r(d);if(e(c),0===p&&u<2)throw new i(o);var h=a?p-1:0,m=a?-1:1;if(u<2)for(;;){if(h in f){l=f[h],h+=m;break;}if(h+=m,a?h<0:p<=h)throw new i(o);}for(;a?h>=0:p>h;h+=m)h in f&&(l=c(l,f[h],h,d));return l;};};return pc={left:a(!1),right:a(!0)};}!function(){if(mc)return gc;mc=1;var e=Er(),t=yc().left,n=Rs(),r=Ge();e({target:"Array",proto:!0,forced:!Wi()&&r>79&&r<83||!n("reduce")},{reduce:function(e){var n=arguments.length;return t(this,e,n,n>1?arguments[1]:void 0);}});}();var vc,bc={};!function(){if(vc)return bc;vc=1;var e=Er(),t=Pt(),n=ma();e({target:"Object",stat:!0,forced:z()(function(){n(1);})},{keys:function(e){return n(t(e));}});}();var _c,wc,kc,Sc,xc,Ec,Cc,Ic={};function Tc(){if(wc)return _c;wc=1;var e=ze(),t=He(),n=Vi();return _c=function(r,i,o){var a,s;return n&&e(a=i.constructor)&&a!==o&&t(s=a.prototype)&&s!==o.prototype&&n(r,s),r;};}function Pc(){if(Sc)return kc;Sc=1;var e=He(),t=Be(),n=Ot()("match");return kc=function(r){var i;return e(r)&&(void 0!==(i=r[n])?!!i:"RegExp"===t(r));};}!function(){if(Cc)return Ic;Cc=1;var e=H(),t=O(),n=De(),r=xr(),i=Tc(),o=Jt(),a=Ya(),s=Vn().f,c=qe(),u=Pc(),l=Ma(),d=Qs(),f=Na(),p=function(){if(Ec)return xc;Ec=1;var e=Yt().f;return xc=function(t,n,r){r in t||e(t,r,{configurable:!0,get:function(){return n[r];},set:function(e){n[r]=e;}});};}(),h=_n(),m=z(),g=At(),y=vn().enforce,v=Ji(),b=Ot(),_=Ja(),w=Ka(),k=b("match"),S=t.RegExp,x=S.prototype,E=t.SyntaxError,C=n(x.exec),I=n("".charAt),T=n("".replace),P=n("".indexOf),A=n("".slice),R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,L=/a/g,N=new S(M)!==M,D=f.MISSED_STICKY,B=f.UNSUPPORTED_Y,F=e&&(!N||D||_||w||m(function(){return L[k]=!1,S(M)!==M||S(L)===L||"/a/i"!==String(S(M,"i"));}));if(r("RegExp",F)){for(var U=function(e,t){var n,r,s,f,p,h,m=c(x,this),v=u(e),b=void 0===t,k=[],O=e;if(!m&&v&&b&&e.constructor===U)return e;if((v||c(x,e))&&(e=e.source,b&&(t=d(O))),e=void 0===e?"":l(e),t=void 0===t?"":l(t),O=e,_&&"dotAll"in M&&(r=!!t&&P(t,"s")>-1)&&(t=T(t,/s/g,"")),n=t,D&&"sticky"in M&&(s=!!t&&P(t,"y")>-1)&&B&&(t=T(t,/y/g,"")),w&&(f=function(e){for(var t,n=e.length,r=0,i="",o=[],s=a(null),c=!1,u=!1,l=0,d="";r<=n;r++){if("\\"===(t=I(e,r)))t+=I(e,++r);else if("]"===t)c=!1;else if(!c)switch(!0){case"["===t:c=!0;break;case"("===t:C(R,A(e,r+1))&&(r+=2,u=!0),i+=t,l++;continue;case">"===t&&u:if(""===d||g(s,d))throw new E("Invalid capture group name");s[d]=!0,o[o.length]=[d,l],u=!1,d="";continue;}u?d+=t:i+=t;}return[i,o];}(e),e=f[0],k=f[1]),p=i(S(e,t),m?this:x,U),(r||s||k.length)&&(h=y(p),r&&(h.dotAll=!0,h.raw=U(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=I(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+I(e,++r);return i;}(e),n)),s&&(h.sticky=!0),k.length&&(h.groups=k)),e!==O)try{o(p,"source",""===O?"(?:)":O);}catch(L){}return p;},j=s(S),$=0;j.length>$;)p(U,S,j[$++]);x.constructor=U,U.prototype=x,h(t,"RegExp",U,{constructor:!0});}v("RegExp");}();var Ac,Rc,Oc,Mc,Lc,Nc={};function Dc(e,t){return Object.keys(e).reduce(function(n,r){var i=t(r,e[r]);return i&&(n[i[0]]=i[1]),n;},{});}!function(){if(Lc)return Nc;Lc=1;var e=Er(),t=De(),n=function(){if(Rc)return Ac;Rc=1;var e=Pc(),t=TypeError;return Ac=function(n){if(e(n))throw new t("The method doesn't accept regular expressions");return n;};}(),r=je(),i=Ma(),o=function(){if(Mc)return Oc;Mc=1;var e=Ot()("match");return Oc=function(t){var n=/./;try{"/./"[t](n);}catch(r){try{return n[e]=!1,"/./"[t](n);}catch(i){}}return!1;};}(),a=t("".indexOf);e({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~a(i(r(this)),i(n(e)),arguments.length>1?arguments[1]:void 0);}});}();var Bc=function(){return d(function e(){a(this,e),this.SENSITIVE_DATA_KEYS=["card_cvv","card_exp_month","card_exp_year","card_number","pan","cvv","private_key","email"],this.SENSITIVE_DATA_REGEX=new RegExp(this.SENSITIVE_DATA_KEYS.join("|"),"gi");},[{key:"stringify",value:function(e){return JSON.stringify(e,function(e,t){return"bigint"==typeof t?t.toString():t;});}},{key:"serialize",value:function(e,t){return e instanceof ka?[e,this.scrubErrorDetails(b(b({},t||{}),e.details||{}))]:[e,this.scrubErrorDetails(t)];}},{key:"scrubErrorDetails",value:function(){var e=this;return Dc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},function(t,n){if(["stack","_originalError"].includes(t)||"function"==typeof n)return null;if("object"==typeof n&&null!==n){var r=e.filterSensitiveData(n);return[t,e.stringify(r)];}return Array.isArray(n)&&n.length>0?[t,e.stringify(e.filterSensitiveData(n))]:[t,e.filterSensitiveData(n)];});}},{key:"filterSensitiveData",value:function(e){var t=this;return"object"!=typeof e||null===e||Array.isArray(e)?Array.isArray(e)?e.map(function(e){return t.filterSensitiveData(e);}):"string"==typeof e?e.replace(this.SENSITIVE_DATA_REGEX,"[filtered]"):e:Dc(e,function(e,n){return t.SENSITIVE_DATA_KEYS.some(function(t){return e.toLowerCase().includes(t);})?null:null!=n?[e,t.filterSensitiveData(n)]:[e,n];});}}]);}();var Fc,Uc={};!function(){if(Fc)return Uc;Fc=1;var e=Er(),t=Ea().find,n=fc(),r="find",i=!0;r in[]&&Array(1)[r](function(){i=!1;}),e({target:"Array",proto:!0,forced:i},{find:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0);}}),n(r);}();var jc,$c,zc,Hc,Wc,qc,Vc,Gc,Yc,Jc;function Kc(){if($c)return jc;$c=1;var e,t,n,r=z(),i=ze(),o=He(),a=Ya(),s=ha(),c=_n(),u=Ot(),l=Et(),d=u("iterator"),f=!1;return[].keys&&("next"in(n=[].keys())?(t=s(s(n)))!==Object.prototype&&(e=t):f=!0),!o(e)||r(function(){var t={};return e[d].call(t)!==t;})?e={}:l&&(e=a(e)),i(e[d])||c(e,d,function(){return this;}),jc={IteratorPrototype:e,BUGGY_SAFARI_ITERATORS:f};}function Xc(){if(Hc)return zc;Hc=1;var e=Kc().IteratorPrototype,t=Ya(),n=Ne(),r=Gi(),i=Fo(),o=function(){return this;};return zc=function(a,s,c,u){var l=s+" Iterator";return a.prototype=t(e,{next:n(+!u,c)}),r(a,l,!1,!0),i[l]=o,a;};}function Zc(){if(qc)return Wc;qc=1;var e=Er(),t=q(),n=Et(),r=pn(),i=ze(),o=Xc(),a=ha(),s=Vi(),c=Gi(),u=Jt(),l=_n(),d=Ot(),f=Fo(),p=Kc(),h=r.PROPER,m=r.CONFIGURABLE,g=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=d("iterator"),b="keys",_="values",w="entries",k=function(){return this;};return Wc=function(r,d,p,S,x,E,C){o(p,d,S);var I,T,P,A=function(e){if(e===x&&N)return N;if(!y&&e&&e in M)return M[e];switch(e){case b:case _:case w:return function(){return new p(this,e);};}return function(){return new p(this);};},R=d+" Iterator",O=!1,M=r.prototype,L=M[v]||M["@@iterator"]||x&&M[x],N=!y&&L||A(x),D="Array"===d&&M.entries||L;if(D&&(I=a(D.call(new r())))!==Object.prototype&&I.next&&(n||a(I)===g||(s?s(I,g):i(I[v])||l(I,v,k)),c(I,R,!0,!0),n&&(f[R]=k)),h&&x===_&&L&&L.name!==_&&(!n&&m?u(M,"name",_):(O=!0,N=function(){return t(L,this);})),x)if(T={values:A(_),keys:E?N:A(b),entries:A(w)},C)for(P in T)(y||O||!(P in M))&&l(M,P,T[P]);else e({target:d,proto:!0,forced:y||O},T);return n&&!C||M[v]===N||l(M,v,N,{name:x}),f[d]=N,T;};}function Qc(){return Gc?Vc:(Gc=1,Vc=function(e,t){return{value:e,done:t};});}function eu(){if(Jc)return Yc;Jc=1;var e=$e(),t=fc(),n=Fo(),r=vn(),i=Yt().f,o=Zc(),a=Qc(),s=Et(),c=H(),u="Array Iterator",l=r.set,d=r.getterFor(u);Yc=o(Array,"Array",function(t,n){l(this,{type:u,target:e(t),index:0,kind:n});},function(){var e=d(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,a(void 0,!0);switch(e.kind){case"keys":return a(n,!1);case"values":return a(t[n],!1);}return a([n,t[n]],!1);},"values");var f=n.Arguments=n.Array;if(t("keys"),t("values"),t("entries"),!s&&c&&"values"!==f.name)try{i(f,"name",{value:"values"});}catch(p){}return Yc;}eu();var tu,nu={};function ru(){if(tu)return nu;tu=1;var e=gs().charAt,t=Ma(),n=vn(),r=Zc(),i=Qc(),o="String Iterator",a=n.set,s=n.getterFor(o);return r(String,"String",function(e){a(this,{type:o,string:t(e),index:0});},function(){var t,n=s(this),r=n.string,o=n.index;return o>=r.length?i(void 0,!0):(t=e(r,o),n.index+=t.length,i(t,!1));}),nu;}ru();var iu,ou,au,su,cu={};function uu(){if(ou)return iu;ou=1;var e=z();return iu=!e(function(){return Object.isExtensible(Object.preventExtensions({}));});}function lu(){if(su)return au;su=1;var e=_n();return au=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t;};}var du,fu,pu,hu,mu,gu,yu,vu,bu,_u,wu,ku,Su={exports:{}},xu={};function Eu(){if(du)return xu;du=1;var e=Be(),t=$e(),n=Vn().f,r=ro(),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return xu.f=function(o){return i&&"Window"===e(o)?function(e){try{return n(e);}catch(t){return r(i);}}(o):n(t(o));},xu;}function Cu(){if(mu)return hu;mu=1;var e=z(),t=He(),n=Be(),r=function(){if(pu)return fu;pu=1;var e=z();return fu=e(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8});}});}(),i=Object.isExtensible,o=e(function(){});return hu=o||r?function(e){return!!t(e)&&(!r||"ArrayBuffer"!==n(e))&&(!i||i(e));}:i;}function Iu(){if(gu)return Su.exports;gu=1;var e=Er(),t=De(),n=yn(),r=He(),i=At(),o=Yt().f,a=Vn(),s=Eu(),c=Cu(),u=Rt(),l=uu(),d=!1,f=u("meta"),p=0,h=function(e){o(e,f,{value:{objectID:"O"+p++,weakData:{}}});},m=Su.exports={enable:function(){m.enable=function(){},d=!0;var n=a.f,r=t([].splice),i={};i[f]=1,n(i).length&&(a.f=function(e){for(var t=n(e),i=0,o=t.length;i<o;i++)if(t[i]===f){r(t,i,1);break;}return t;},e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}));},fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,f)){if(!c(e))return"F";if(!t)return"E";h(e);}return e[f].objectID;},getWeakData:function(e,t){if(!i(e,f)){if(!c(e))return!0;if(!t)return!1;h(e);}return e[f].weakData;},onFreeze:function(e){return l&&d&&c(e)&&!i(e,f)&&h(e),e;}};return n[f]=!0,Su.exports;}function Tu(){if(wu)return cu;wu=1;var e,t=uu(),n=O(),r=De(),i=lu(),o=Iu(),a=function(){if(vu)return yu;vu=1;var e=Er(),t=O(),n=De(),r=xr(),i=_n(),o=Iu(),a=Ho(),s=Ki(),c=ze(),u=Ue(),l=He(),d=z(),f=Wo(),p=Gi(),h=Tc();return yu=function(m,g,y){var v=-1!==m.indexOf("Map"),b=-1!==m.indexOf("Weak"),_=v?"set":"add",w=t[m],k=w&&w.prototype,S=w,x={},E=function(e){var t=n(k[e]);i(k,e,"add"===e?function(e){return t(this,0===e?0:e),this;}:"delete"===e?function(e){return!(b&&!l(e))&&t(this,0===e?0:e);}:"get"===e?function(e){return b&&!l(e)?void 0:t(this,0===e?0:e);}:"has"===e?function(e){return!(b&&!l(e))&&t(this,0===e?0:e);}:function(e,n){return t(this,0===e?0:e,n),this;});};if(r(m,!c(w)||!(b||k.forEach&&!d(function(){new w().entries().next();}))))S=y.getConstructor(g,m,v,_),o.enable();else if(r(m,!0)){var C=new S(),I=C[_](b?{}:-0,1)!==C,T=d(function(){C.has(1);}),P=f(function(e){new w(e);}),A=!b&&d(function(){for(var e=new w(),t=5;t--;)e[_](t,t);return!e.has(-0);});P||((S=g(function(e,t){s(e,k);var n=h(new w(),e,S);return u(t)||a(t,n[_],{that:n,AS_ENTRIES:v}),n;})).prototype=k,k.constructor=S),(T||A)&&(E("delete"),E("has"),v&&E("get")),(A||I)&&E(_),b&&k.clear&&delete k.clear;}return x[m]=S,e({global:!0,constructor:!0,forced:S!==w},x),p(S,m),b||y.setStrong(S,m,v),S;};}(),s=function(){if(_u)return bu;_u=1;var e=De(),t=lu(),n=Iu().getWeakData,r=Ki(),i=Gt(),o=Ue(),a=He(),s=Ho(),c=Ea(),u=At(),l=vn(),d=l.set,f=l.getterFor,p=c.find,h=c.findIndex,m=e([].splice),g=0,y=function(e){return e.frozen||(e.frozen=new v());},v=function(){this.entries=[];},b=function(e,t){return p(e.entries,function(e){return e[0]===t;});};return v.prototype={get:function(e){var t=b(this,e);if(t)return t[1];},has:function(e){return!!b(this,e);},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t]);},delete:function(e){var t=h(this.entries,function(t){return t[0]===e;});return~t&&m(this.entries,t,1),!!~t;}},bu={getConstructor:function(e,c,l,p){var h=e(function(e,t){r(e,m),d(e,{type:c,id:g++,frozen:void 0}),o(t)||s(t,e[p],{that:e,AS_ENTRIES:l});}),m=h.prototype,v=f(c),b=function(e,t,r){var o=v(e),a=n(i(t),!0);return!0===a?y(o).set(t,r):a[o.id]=r,e;};return t(m,{delete:function(e){var t=v(this);if(!a(e))return!1;var r=n(e);return!0===r?y(t).delete(e):r&&u(r,t.id)&&delete r[t.id];},has:function(e){var t=v(this);if(!a(e))return!1;var r=n(e);return!0===r?y(t).has(e):r&&u(r,t.id);}}),t(m,l?{get:function(e){var t=v(this);if(a(e)){var r=n(e);return!0===r?y(t).get(e):r?r[t.id]:void 0;}},set:function(e,t){return b(this,e,t);}}:{add:function(e){return b(this,e,!0);}}),h;}};}(),c=He(),u=vn().enforce,l=z(),d=mn(),f=Object,p=Array.isArray,h=f.isExtensible,m=f.isFrozen,g=f.isSealed,y=f.freeze,v=f.seal,b=!n.ActiveXObject&&"ActiveXObject"in n,_=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0);};},w=a("WeakMap",_,s),k=w.prototype,S=r(k.set);if(d)if(b){e=s.getConstructor(_,"WeakMap",!0),o.enable();var x=r(k.delete),E=r(k.has),C=r(k.get);i(k,{delete:function(t){if(c(t)&&!h(t)){var n=u(this);return n.frozen||(n.frozen=new e()),x(this,t)||n.frozen.delete(t);}return x(this,t);},has:function(t){if(c(t)&&!h(t)){var n=u(this);return n.frozen||(n.frozen=new e()),E(this,t)||n.frozen.has(t);}return E(this,t);},get:function(t){if(c(t)&&!h(t)){var n=u(this);return n.frozen||(n.frozen=new e()),E(this,t)?C(this,t):n.frozen.get(t);}return C(this,t);},set:function(t,n){if(c(t)&&!h(t)){var r=u(this);r.frozen||(r.frozen=new e()),E(this,t)?S(this,t,n):r.frozen.set(t,n);}else S(this,t,n);return this;}});}else(function(){return t&&l(function(){var e=y([]);return S(new w(),e,1),!m(e);});})()&&i(k,{set:function(e,t){var n;return p(e)&&(m(e)?n=y:g(e)&&(n=v)),S(this,e,t),n&&n(e),this;}});return cu;}!function(){ku||(ku=1,Tu());}();var Pu,Au={};!function(){if(Pu)return Au;Pu=1;var e=O(),t=Ps(),n=As(),r=eu(),i=Jt(),o=Gi(),a=Ot()("iterator"),s=r.values,c=function(e,n){if(e){if(e[a]!==s)try{i(e,a,s);}catch(u){e[a]=s;}if(o(e,n,!0),t[n])for(var c in r)if(e[c]!==r[c])try{i(e,c,r[c]);}catch(u){e[c]=r[c];}}};for(var u in t)c(e[u]&&e[u].prototype,u);c(n,"DOMTokenList");}();var Ru,Ou,Mu,Lu,Nu,Du,Bu,Fu,Uu,ju,$u,zu,Hu,Wu,qu,Vu,Gu={};function Yu(){if(Ou)return Ru;Ou=1;var e=z(),t=Ot(),n=H(),r=Et(),i=t("iterator");return Ru=!e(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,o=new URLSearchParams("a=1&a=2&b=3"),a="";return e.pathname="c%20d",t.forEach(function(e,n){t.delete("b"),a+=n+e;}),o.delete("a",2),o.delete("b",void 0),r&&(!e.toJSON||!o.has("a",1)||o.has("a",2)||!o.has("a",void 0)||o.has("b"))||!t.size&&(r||!n)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host;});}function Ju(){if(Lu)return Mu;Lu=1;var e=H(),t=De(),n=q(),r=z(),i=ma(),o=kr(),a=Le(),s=Pt(),c=Fe(),u=Object.assign,l=Object.defineProperty,d=t([].concat);return Mu=!u||r(function(){if(e&&1!==u({b:1},u(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1});}}),{b:2})).b)return!0;var t={},n={},r=Symbol("assign detection"),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(e){n[e]=e;}),7!==u({},t)[r]||i(u({},n)).join("")!==o;})?function(t,r){for(var u=s(t),l=arguments.length,f=1,p=o.f,h=a.f;l>f;)for(var m,g=c(arguments[f++]),y=p?d(i(g),p(g)):i(g),v=y.length,b=0;v>b;)m=y[b++],e&&!n(h,g,m)||(u[m]=g[m]);return u;}:u,Mu;}function Ku(){if(Fu)return Bu;Fu=1;var e=to(),t=q(),n=Pt(),r=function(){if(Du)return Nu;Du=1;var e=Gt(),t=zo();return Nu=function(n,r,i,o){try{return o?r(e(i)[0],i[1]):r(i);}catch(a){t(n,"throw",a);}};}(),i=Uo(),o=Ar(),a=zn(),s=Ir(),c=$o(),u=jo(),l=Array;return Bu=function(d){var f=n(d),p=o(this),h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m;g&&(m=e(m,h>2?arguments[2]:void 0));var y,v,b,_,w,k,S=u(f),x=0;if(!S||this===l&&i(S))for(y=a(f),v=p?new this(y):l(y);y>x;x++)k=g?m(f[x],x):f[x],s(v,x,k);else for(v=p?new this():[],w=(_=c(f,S)).next;!(b=t(w,_)).done;x++)k=g?r(_,m,[b.value,x],!0):b.value,s(v,x,k);return v.length=x,v;},Bu;}function Xu(){if(ju)return Uu;ju=1;var e=De(),t=2147483647,n=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",o=RangeError,a=e(r.exec),s=Math.floor,c=String.fromCharCode,u=e("".charCodeAt),l=e([].join),d=e([].push),f=e("".replace),p=e("".split),h=e("".toLowerCase),m=function(e){return e+22+75*(e<26);},g=function(e,t,n){var r=0;for(e=n?s(e/700):e>>1,e+=s(e/t);e>455;)e=s(e/35),r+=36;return s(r+36*e/(e+38));},y=function(e){var n=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=u(e,n++);if(i>=55296&&i<=56319&&n<r){var o=u(e,n++);56320==(64512&o)?d(t,((1023&i)<<10)+(1023&o)+65536):(d(t,i),n--);}else d(t,i);}return t;}(e);var r,a,f=e.length,p=128,h=0,y=72;for(r=0;r<e.length;r++)(a=e[r])<128&&d(n,c(a));var v=n.length,b=v;for(v&&d(n,"-");b<f;){var _=t;for(r=0;r<e.length;r++)(a=e[r])>=p&&a<_&&(_=a);var w=b+1;if(_-p>s((t-h)/w))throw new o(i);for(h+=(_-p)*w,p=_,r=0;r<e.length;r++){if((a=e[r])<p&&++h>t)throw new o(i);if(a===p){for(var k=h,S=36;;){var x=S<=y?1:S>=y+26?26:S-y;if(k<x)break;var E=k-x,C=36-x;d(n,c(m(x+E%C))),k=s(E/C),S+=36;}d(n,c(m(k))),y=g(h,w,b===v),h=0,b++;}}h++,p++;}return l(n,"");};return Uu=function(e){var t,i,o=[],s=p(f(h(e),r,"."),".");for(t=0;t<s.length;t++)i=s[t],d(o,a(n,i)?"xn--"+y(i):i);return l(o,".");};}function Zu(){if(zu)return $u;zu=1;var e=ro(),t=Math.floor,n=function(r,i){var o=r.length;if(o<8)for(var a,s,c=1;c<o;){for(s=c,a=r[c];s&&i(r[s-1],a)>0;)r[s]=r[--s];s!==c++&&(r[s]=a);}else for(var u=t(o/2),l=n(e(r,0,u),i),d=n(e(r,u),i),f=l.length,p=d.length,h=0,m=0;h<f||m<p;)r[h+m]=h<f&&m<p?i(l[h],d[m])<=0?l[h++]:d[m++]:h<f?l[h++]:d[m++];return r;};return $u=n;}function Qu(){if(Wu)return Hu;Wu=1,eu();var e=Er(),t=O(),n=so(),r=q(),i=De(),o=H(),a=Yu(),s=_n(),c=Yi(),u=lu(),l=Gi(),d=Xc(),f=vn(),p=Ki(),h=ze(),m=At(),g=to(),y=Pr(),v=Gt(),b=He(),_=Ma(),w=Ya(),k=Ne(),S=$o(),x=jo(),E=Qc(),C=io(),I=Ot(),T=Zu(),P=I("iterator"),A="URLSearchParams",R=A+"Iterator",M=f.set,L=f.getterFor(A),N=f.getterFor(R),D=n("fetch"),B=n("Request"),F=n("Headers"),U=B&&B.prototype,j=F&&F.prototype,$=t.RegExp,z=t.TypeError,W=t.decodeURIComponent,V=t.encodeURIComponent,G=i("".charAt),Y=i([].join),J=i([].push),K=i("".replace),X=i([].shift),Z=i([].splice),Q=i("".split),ee=i("".slice),te=/\+/g,ne=Array(4),re=function(e){return ne[e-1]||(ne[e-1]=$("((?:%[\\da-f]{2}){"+e+"})","gi"));},ie=function(e){try{return W(e);}catch(t){return e;}},oe=function(e){var t=K(e,te," "),n=4;try{return W(t);}catch(r){for(;n;)t=K(t,re(n--),ie);return t;}},ae=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ce=function(e){return se[e];},ue=function(e){return K(V(e),ae,ce);},le=d(function(e,t){M(this,{type:R,target:L(e).entries,index:0,kind:t});},A,function(){var e=N(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,E(void 0,!0);var r=t[n];switch(e.kind){case"keys":return E(r.key,!1);case"values":return E(r.value,!1);}return E([r.key,r.value],!1);},!0),de=function(e){this.entries=[],this.url=null,void 0!==e&&(b(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?ee(e,1):e:_(e)));};de.prototype={type:A,bindURL:function(e){this.url=e,this.update();},parseObject:function(e){var t,n,i,o,a,s,c,u=this.entries,l=x(e);if(l)for(n=(t=S(e,l)).next;!(i=r(n,t)).done;){if(a=(o=S(v(i.value))).next,(s=r(a,o)).done||(c=r(a,o)).done||!r(a,o).done)throw new z("Expected sequence with length 2");J(u,{key:_(s.value),value:_(c.value)});}else for(var d in e)m(e,d)&&J(u,{key:d,value:_(e[d])});},parseQuery:function(e){if(e)for(var t,n,r=this.entries,i=Q(e,"&"),o=0;o<i.length;)(t=i[o++]).length&&(n=Q(t,"="),J(r,{key:oe(X(n)),value:oe(Y(n,"="))}));},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],J(n,ue(e.key)+"="+ue(e.value));return Y(n,"&");},update:function(){this.entries.length=0,this.parseQuery(this.url.query);},updateURL:function(){this.url&&this.url.update();}};var fe=function(){p(this,pe);var e=M(this,new de(arguments.length>0?arguments[0]:void 0));o||(this.size=e.entries.length);},pe=fe.prototype;if(u(pe,{append:function(e,t){var n=L(this);C(arguments.length,2),J(n.entries,{key:_(e),value:_(t)}),o||this.length++,n.updateURL();},delete:function(e){for(var t=L(this),n=C(arguments.length,1),r=t.entries,i=_(e),a=n<2?void 0:arguments[1],s=void 0===a?a:_(a),c=0;c<r.length;){var u=r[c];if(u.key!==i||void 0!==s&&u.value!==s)c++;else if(Z(r,c,1),void 0!==s)break;}o||(this.size=r.length),t.updateURL();},get:function(e){var t=L(this).entries;C(arguments.length,1);for(var n=_(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null;},getAll:function(e){var t=L(this).entries;C(arguments.length,1);for(var n=_(e),r=[],i=0;i<t.length;i++)t[i].key===n&&J(r,t[i].value);return r;},has:function(e){for(var t=L(this).entries,n=C(arguments.length,1),r=_(e),i=n<2?void 0:arguments[1],o=void 0===i?i:_(i),a=0;a<t.length;){var s=t[a++];if(s.key===r&&(void 0===o||s.value===o))return!0;}return!1;},set:function(e,t){var n=L(this);C(arguments.length,1);for(var r,i=n.entries,a=!1,s=_(e),c=_(t),u=0;u<i.length;u++)(r=i[u]).key===s&&(a?Z(i,u--,1):(a=!0,r.value=c));a||J(i,{key:s,value:c}),o||(this.size=i.length),n.updateURL();},sort:function(){var e=L(this);T(e.entries,function(e,t){return e.key>t.key?1:-1;}),e.updateURL();},forEach:function(e){for(var t,n=L(this).entries,r=g(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this);},keys:function(){return new le(this,"keys");},values:function(){return new le(this,"values");},entries:function(){return new le(this,"entries");}},{enumerable:!0}),s(pe,P,pe.entries,{name:"entries"}),s(pe,"toString",function(){return L(this).serialize();},{enumerable:!0}),o&&c(pe,"size",{get:function(){return L(this).entries.length;},configurable:!0,enumerable:!0}),l(fe,A),e({global:!0,constructor:!0,forced:!a},{URLSearchParams:fe}),!a&&h(F)){var he=i(j.has),me=i(j.set),ge=function(e){if(b(e)){var t,n=e.body;if(y(n)===A)return t=e.headers?new F(e.headers):new F(),he(t,"content-type")||me(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),w(e,{body:k(0,_(n)),headers:k(0,t)});}return e;};if(h(D)&&e({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return D(e,arguments.length>1?ge(arguments[1]):{});}}),h(B)){var ye=function(e){return p(this,U),new B(e,arguments.length>1?ge(arguments[1]):{});};U.constructor=ye,ye.prototype=U,e({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ye});}}return Hu={URLSearchParams:fe,getState:L};}function el(){if(qu)return Gu;qu=1,ru();var e,t=Er(),n=H(),r=Yu(),i=O(),o=to(),a=De(),s=_n(),c=Yi(),u=Ki(),l=At(),d=Ju(),f=Ku(),p=ro(),h=gs().codeAt,m=Xu(),g=Ma(),y=Gi(),v=io(),b=Qu(),_=vn(),w=_.set,k=_.getterFor("URL"),S=b.URLSearchParams,x=b.getState,E=i.URL,C=i.TypeError,I=i.parseInt,T=Math.floor,P=Math.pow,A=a("".charAt),R=a(/./.exec),M=a([].join),L=a(1..toString),N=a([].pop),D=a([].push),B=a("".replace),F=a([].shift),U=a("".split),j=a("".slice),$=a("".toLowerCase),z=a([].unshift),W="Invalid scheme",q="Invalid host",V="Invalid port",G=/[a-z]/i,Y=/[\d+-.a-z]/i,J=/\d/,K=/^0x/i,X=/^[0-7]+$/,Z=/^\d+$/,Q=/^[\da-f]+$/i,ee=/[\0\t\n\r #%/:<>?@[\\\]^|]/,te=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+/,re=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ie=/[\t\n\r]/g,oe=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)z(t,e%256),e=T(e/256);return M(t,".");}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t;}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=L(e[n],16),n<7&&(t+=":")));return"["+t+"]";}return e;},ae={},se=d({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=d({},se,{"#":1,"?":1,"{":1,"}":1}),ue=d({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var n=h(e,0);return n>32&&n<127&&!l(t,e)?e:encodeURIComponent(e);},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var n;return 2===e.length&&R(G,A(e,0))&&(":"===(n=A(e,1))||!t&&"|"===n);},pe=function(e){var t;return e.length>1&&fe(j(e,0,2))&&(2===e.length||"/"===(t=A(e,2))||"\\"===t||"?"===t||"#"===t);},he=function(e){return"."===e||"%2e"===$(e);},me=function(e){return".."===(e=$(e))||"%2e."===e||".%2e"===e||"%2e%2e"===e;},ge={},ye={},ve={},be={},_e={},we={},ke={},Se={},xe={},Ee={},Ce={},Ie={},Te={},Pe={},Ae={},Re={},Oe={},Me={},Le={},Ne={},Be={},Fe=function(e,t,n){var r,i,o,a=g(e);if(t){if(i=this.parse(a))throw new C(i);this.searchParams=null;}else{if(void 0!==n&&(r=new Fe(n,!0)),i=this.parse(a,null,r))throw new C(i);(o=x(new S())).bindURL(this),this.searchParams=o;}};Fe.prototype={type:"URL",parse:function(t,n,r){var i,o,a,s,c=this,u=n||ge,d=0,h="",m=!1,y=!1,v=!1;for(t=g(t),n||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=B(t,ne,""),t=B(t,re,"$1")),t=B(t,ie,""),i=f(t);d<=i.length;){switch(o=i[d],u){case ge:if(!o||!R(G,o)){if(n)return W;u=ve;continue;}h+=$(o),u=ye;break;case ye:if(o&&(R(Y,o)||"+"===o||"-"===o||"."===o))h+=$(o);else{if(":"!==o){if(n)return W;h="",u=ve,d=0;continue;}if(n&&(c.isSpecial()!==l(de,h)||"file"===h&&(c.includesCredentials()||null!==c.port)||"file"===c.scheme&&!c.host))return;if(c.scheme=h,n)return void(c.isSpecial()&&de[c.scheme]===c.port&&(c.port=null));h="","file"===c.scheme?u=Pe:c.isSpecial()&&r&&r.scheme===c.scheme?u=be:c.isSpecial()?u=Se:"/"===i[d+1]?(u=_e,d++):(c.cannotBeABaseURL=!0,D(c.path,""),u=Le);}break;case ve:if(!r||r.cannotBeABaseURL&&"#"!==o)return W;if(r.cannotBeABaseURL&&"#"===o){c.scheme=r.scheme,c.path=p(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,u=Be;break;}u="file"===r.scheme?Pe:we;continue;case be:if("/"!==o||"/"!==i[d+1]){u=we;continue;}u=xe,d++;break;case _e:if("/"===o){u=Ee;break;}u=Me;continue;case we:if(c.scheme=r.scheme,o===e)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=p(r.path),c.query=r.query;else if("/"===o||"\\"===o&&c.isSpecial())u=ke;else if("?"===o)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=p(r.path),c.query="",u=Ne;else{if("#"!==o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=p(r.path),c.path.length--,u=Me;continue;}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=p(r.path),c.query=r.query,c.fragment="",u=Be;}break;case ke:if(!c.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,u=Me;continue;}u=Ee;}else u=xe;break;case Se:if(u=xe,"/"!==o||"/"!==A(h,d+1))continue;d++;break;case xe:if("/"!==o&&"\\"!==o){u=Ee;continue;}break;case Ee:if("@"===o){m&&(h="%40"+h),m=!0,a=f(h);for(var b=0;b<a.length;b++){var _=a[b];if(":"!==_||v){var w=le(_,ue);v?c.password+=w:c.username+=w;}else v=!0;}h="";}else if(o===e||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(m&&""===h)return"Invalid authority";d-=f(h).length+1,h="",u=Ce;}else h+=o;break;case Ce:case Ie:if(n&&"file"===c.scheme){u=Re;continue;}if(":"!==o||y){if(o===e||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(c.isSpecial()&&""===h)return q;if(n&&""===h&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(h))return s;if(h="",u=Oe,n)return;continue;}"["===o?y=!0:"]"===o&&(y=!1),h+=o;}else{if(""===h)return q;if(s=c.parseHost(h))return s;if(h="",u=Te,n===Ie)return;}break;case Te:if(!R(J,o)){if(o===e||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()||n){if(""!==h){var k=I(h,10);if(k>65535)return V;c.port=c.isSpecial()&&k===de[c.scheme]?null:k,h="";}if(n)return;u=Oe;continue;}return V;}h+=o;break;case Pe:if(c.scheme="file","/"===o||"\\"===o)u=Ae;else{if(!r||"file"!==r.scheme){u=Me;continue;}switch(o){case e:c.host=r.host,c.path=p(r.path),c.query=r.query;break;case"?":c.host=r.host,c.path=p(r.path),c.query="",u=Ne;break;case"#":c.host=r.host,c.path=p(r.path),c.query=r.query,c.fragment="",u=Be;break;default:pe(M(p(i,d),""))||(c.host=r.host,c.path=p(r.path),c.shortenPath()),u=Me;continue;}}break;case Ae:if("/"===o||"\\"===o){u=Re;break;}r&&"file"===r.scheme&&!pe(M(p(i,d),""))&&(fe(r.path[0],!0)?D(c.path,r.path[0]):c.host=r.host),u=Me;continue;case Re:if(o===e||"/"===o||"\\"===o||"?"===o||"#"===o){if(!n&&fe(h))u=Me;else if(""===h){if(c.host="",n)return;u=Oe;}else{if(s=c.parseHost(h))return s;if("localhost"===c.host&&(c.host=""),n)return;h="",u=Oe;}continue;}h+=o;break;case Oe:if(c.isSpecial()){if(u=Me,"/"!==o&&"\\"!==o)continue;}else if(n||"?"!==o){if(n||"#"!==o){if(o!==e&&(u=Me,"/"!==o))continue;}else c.fragment="",u=Be;}else c.query="",u=Ne;break;case Me:if(o===e||"/"===o||"\\"===o&&c.isSpecial()||!n&&("?"===o||"#"===o)){if(me(h)?(c.shortenPath(),"/"===o||"\\"===o&&c.isSpecial()||D(c.path,"")):he(h)?"/"===o||"\\"===o&&c.isSpecial()||D(c.path,""):("file"===c.scheme&&!c.path.length&&fe(h)&&(c.host&&(c.host=""),h=A(h,0)+":"),D(c.path,h)),h="","file"===c.scheme&&(o===e||"?"===o||"#"===o))for(;c.path.length>1&&""===c.path[0];)F(c.path);"?"===o?(c.query="",u=Ne):"#"===o&&(c.fragment="",u=Be);}else h+=le(o,ce);break;case Le:"?"===o?(c.query="",u=Ne):"#"===o?(c.fragment="",u=Be):o!==e&&(c.path[0]+=le(o,ae));break;case Ne:n||"#"!==o?o!==e&&("'"===o&&c.isSpecial()?c.query+="%27":c.query+="#"===o?"%23":le(o,ae)):(c.fragment="",u=Be);break;case Be:o!==e&&(c.fragment+=le(o,se));}d++;}},parseHost:function(e){var t,n,r;if("["===A(e,0)){if("]"!==A(e,e.length-1))return q;if(t=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,f=function(){return A(e,d);};if(":"===f()){if(":"!==A(e,1))return;d+=2,l=++u;}for(;f();){if(8===u)return;if(":"!==f()){for(t=n=0;n<4&&R(Q,f());)t=16*t+I(f(),16),d++,n++;if("."===f()){if(0===n)return;if(d-=n,u>6)return;for(r=0;f();){if(i=null,r>0){if(!("."===f()&&r<4))return;d++;}if(!R(J,f()))return;for(;R(J,f());){if(o=I(f(),10),null===i)i=o;else{if(0===i)return;i=10*i+o;}if(i>255)return;d++;}c[u]=256*c[u]+i,2!=++r&&4!==r||u++;}if(4!==r)return;break;}if(":"===f()){if(d++,!f())return;}else if(f())return;c[u++]=t;}else{if(null!==l)return;d++,l=++u;}}if(null!==l)for(a=u-l,u=7;0!==u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!==u)return;return c;}(j(e,1,-1)),!t)return q;this.host=t;}else if(this.isSpecial()){if(e=m(e),R(ee,e))return q;if(t=function(e){var t,n,r,i,o,a,s,c=U(e,".");if(c.length&&""===c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(i=c[r]))return e;if(o=10,i.length>1&&"0"===A(i,0)&&(o=R(K,i)?16:8,i=j(i,8===o?1:2)),""===i)a=0;else{if(!R(10===o?Z:8===o?X:Q,i))return e;a=I(i,o);}D(n,a);}for(r=0;r<t;r++)if(a=n[r],r===t-1){if(a>=P(256,5-t))return null;}else if(a>255)return null;for(s=N(n),r=0;r<n.length;r++)s+=n[r]*P(256,3-r);return s;}(e),null===t)return q;this.host=t;}else{if(R(te,e))return q;for(t="",n=f(e),r=0;r<n.length;r++)t+=le(n[r],ae);this.host=t;}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme;},includesCredentials:function(){return""!==this.username||""!==this.password;},isSpecial:function(){return l(de,this.scheme);},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&fe(e[0],!0)||e.length--;},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=oe(i),null!==o&&(u+=":"+o)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+M(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u;},setHref:function(e){var t=this.parse(e);if(t)throw new C(t);this.searchParams.update();},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new Ue(e.path[0]).origin;}catch(n){return"null";}return"file"!==e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null";},getProtocol:function(){return this.scheme+":";},setProtocol:function(e){this.parse(g(e)+":",ge);},getUsername:function(){return this.username;},setUsername:function(e){var t=f(g(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=le(t[n],ue);}},getPassword:function(){return this.password;},setPassword:function(e){var t=f(g(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=le(t[n],ue);}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t;},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ce);},getHostname:function(){var e=this.host;return null===e?"":oe(e);},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ie);},getPort:function(){var e=this.port;return null===e?"":g(e);},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=g(e))?this.port=null:this.parse(e,Te));},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+M(e,"/"):"";},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Oe));},getSearch:function(){var e=this.query;return e?"?"+e:"";},setSearch:function(e){""===(e=g(e))?this.query=null:("?"===A(e,0)&&(e=j(e,1)),this.query="",this.parse(e,Ne)),this.searchParams.update();},getSearchParams:function(){return this.searchParams.facade;},getHash:function(){var e=this.fragment;return e?"#"+e:"";},setHash:function(e){""!==(e=g(e))?("#"===A(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,Be)):this.fragment=null;},update:function(){this.query=this.searchParams.serialize()||null;}};var Ue=function(e){var t=u(this,je),r=v(arguments.length,1)>1?arguments[1]:void 0,i=w(t,new Fe(e,!1,r));n||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash());},je=Ue.prototype,$e=function(e,t){return{get:function(){return k(this)[e]();},set:t&&function(e){return k(this)[t](e);},configurable:!0,enumerable:!0};};if(n&&(c(je,"href",$e("serialize","setHref")),c(je,"origin",$e("getOrigin")),c(je,"protocol",$e("getProtocol","setProtocol")),c(je,"username",$e("getUsername","setUsername")),c(je,"password",$e("getPassword","setPassword")),c(je,"host",$e("getHost","setHost")),c(je,"hostname",$e("getHostname","setHostname")),c(je,"port",$e("getPort","setPort")),c(je,"pathname",$e("getPathname","setPathname")),c(je,"search",$e("getSearch","setSearch")),c(je,"searchParams",$e("getSearchParams")),c(je,"hash",$e("getHash","setHash"))),s(je,"toJSON",function(){return k(this).serialize();},{enumerable:!0}),s(je,"toString",function(){return k(this).serialize();},{enumerable:!0}),E){var ze=E.createObjectURL,He=E.revokeObjectURL;ze&&s(Ue,"createObjectURL",o(ze,E)),He&&s(Ue,"revokeObjectURL",o(He,E));}return y(Ue,"URL"),t({global:!0,constructor:!0,forced:!r,sham:!n},{URL:Ue}),Gu;}!function(){Vu||(Vu=1,el());}();var tl,nl={};!function(){if(tl)return nl;tl=1;var e=Er(),t=q();e({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return t(URL.prototype.toString,this);}});}();var rl;!function(){rl||(rl=1,Qu());}();var il,ol=new WeakMap(),al=function(){return d(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return atob(e);};a(this,e),c(this,ol,void 0),this.release=t,this.scriptSource=n,this.decrypt=r,u(ol,this,this.getCdnUrl());},[{key:"isActive",value:function(){var e=this.decrypt("c29saWRnYXRl"),t=window.location.toString(),n=this.scriptSource.includes(e),r=t.includes("payment-form/src/sdk/index.html")&&!t.includes("nobrand");return n||r;}},{key:"getIsBrandedLogoParameterName",value:function(){return this.decrypt("aXNTb2xpZExvZ29WaXNpYmxl");}},{key:"getSentryDSN",value:function(){return this.decrypt("aHR0cHM6Ly8zMTFjNmRlNjlmMTE5MmQyNzE2OGM0MDdlZmI2ZTFkMkBzbnRyLnNvbGlkZ2F0ZS1kZXYuY29tLzQ=");}},{key:"getTrackingUrl",value:function(){return this.decrypt("aHR0cHM6Ly90cmFjay1leHQuc29saWRnYXRlLmNvbS8=");}},{key:"getPaymentFormUrl",value:function(){return this.decrypt("aHR0cHM6Ly9mb3JtLXYyLnNvbGlkZ2F0ZS5jb20=");}},{key:"getAltGateBaseUrl",value:function(){return this.decrypt("aHR0cHM6Ly9nYXRlLnNvbGlkZ2F0ZS5jb20v");}},{key:"getCdnList",value:function(){return[this.getCdnUrl()];}},{key:"getSdkInitType",value:function(){return window[this.decrypt("X19TT0xJREdBVEVfUFJJVkFURV9fU0RLX0lOSVRfVFlQRQ==")];}},{key:"getDefaultFormId",value:function(){return this.decrypt("c29saWQtcGF5bWVudC1mb3JtLWNvbnRhaW5lcg==");}},{key:"getIframeId",value:function(){return this.decrypt("c29saWQtcGF5bWVudC1mb3JtLWlmcmFtZQ==");}},{key:"getIframeUrl",value:function(){return"".concat(this.decrypt("aHR0cHM6Ly9mb3JtLXYyLnNvbGlkZ2F0ZS5jb20="),"/version/").concat(this.release);}},{key:"getCdnUrl",value:function(){return s(ol,this)||this.scriptSource&&u(ol,this,new URL(this.scriptSource||"").hostname),s(ol,this);}}]);}(),sl=new WeakMap(),cl=function(){return d(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return atob(e);};a(this,e),c(this,sl,void 0),this.release=t,this.decrypt=r,u(sl,this,new al(t,n,r));},[{key:"getIsBrandedLogoParameterName",value:function(){return s(sl,this).getIsBrandedLogoParameterName();}},{key:"getSentryDSN",value:function(){var e=s(sl,this).getSentryDSN(),t=s(sl,this).getCdnUrl().split(".")[1];return e.replace(this.decrypt("c29saWRnYXRlLWRldg=="),t);}},{key:"getTrackingUrl",value:function(){return this.decrypt("aHR0cHM6Ly90cmFjay5jaGFyZ2UtYXV0aC5jb20v");}},{key:"getPaymentFormUrl",value:function(){return this.decrypt("aHR0cHM6Ly9mb3JtLXYyLmNoYXJnZS1hdXRoLmNvbQ==");}},{key:"getAltGateBaseUrl",value:function(){return this.decrypt("aHR0cHM6Ly9nYXRlLmNoYXJnZS1hdXRoLmNvbS8=");}},{key:"getCdnList",value:function(){return s(sl,this).getCdnList();}},{key:"getSdkInitType",value:function(){return s(sl,this).getSdkInitType();}},{key:"getDefaultFormId",value:function(){return"none";}},{key:"getIframeId",value:function(){return"payment-form-iframe";}},{key:"getIframeUrl",value:function(){return"".concat(this.decrypt("aHR0cHM6Ly9mb3JtLXYyLmNoYXJnZS1hdXRoLmNvbQ=="),"/version/").concat(this.release);}}]);}(),ul=function(){return d(function e(){a(this,e);},[{key:"getBranding",value:function(e,t){var n=new al(e,t);return n.isActive()?n:new cl(e,t);}}]);}(),ll=function(e){function t(e){var n;return a(this,t),(n=o(this,t,[e])).name="BootstrapError",n;}return g(t,e),d(t);}(C(Error)),dl={};!function(){if(il)return dl;il=1;var e=Er(),t=ga().entries;e({target:"Object",stat:!0},{entries:function(e){return t(e);}});}();var fl,pl={};!function(){if(fl)return pl;fl=1;var e=Er(),t=eo(),n=Hn().indexOf,r=Rs(),i=t([].indexOf),o=!!i&&1/i([1],1,-0)<0;e({target:"Array",proto:!0,forced:o||!r("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return o?i(this,e,t)||0:n(this,e,t);}});}();var hl="?",ml=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gl=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,yl=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,vl=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,bl=/\((\S*)(?::(\d+))(?::(\d+))\)/,_l=/Minified React error #\d+;/i;function wl(e){var t=null,n=0;e&&("number"==typeof e.framesToPop?n=e.framesToPop:_l.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),a=[],s=0;s<o.length;s+=2){var c=null;(t=r.exec(o[s]))?c={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=i.exec(o[s]))&&(c={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),c&&(!c.func&&c.line&&(c.func=hl),a.push(c));}if(!a.length)return null;return{message:Sl(e),name:e.name,stack:a};}(e),t)return kl(t,n);}catch(r){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,i=[],o=e.stack.split("\n"),a=0;a<o.length;++a){if(n=ml.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=bl.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]);var c=n[2]&&0===n[2].indexOf("address at ")?n[2].substr(11):n[2],u=n[1]||hl,l=u.includes("safari-extension"),d=u.includes("safari-web-extension");(l||d)&&(u=u.includes("@")?u.split("@")[0]:hl,c=l?"safari-extension:".concat(c):"safari-web-extension:".concat(c)),r={url:c,func:u,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null};}else if(n=yl.exec(o[a]))r={url:n[2],func:n[1]||hl,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=gl.exec(o[a])))continue;n[3]&&n[3].includes(" > eval")&&(t=vl.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||hl,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null};}!r.func&&r.line&&(r.func=hl),i.push(r);}if(!i.length)return null;return{message:Sl(e),name:e.name,stack:i};}(e),t)return kl(t,n);}catch(r){}return{message:Sl(e),name:e&&e.name,stack:[],failed:!0};}function kl(e,t){try{return b(b({},e),{},{stack:e.stack.slice(t)});}catch(n){return e;}}function Sl(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message";}var xl,El={};!function(){if(xl)return El;xl=1;var e=Er(),t=De(),n=Cr(),r=t([].reverse),i=[1,2];e({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),r(this);}});}();var Cl=50;function Il(e){var t=function(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return(n.includes("captureMessage")||n.includes("captureException"))&&(t=t.slice(1)),r.includes("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,Cl).map(function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line};}).reverse();}(e.stack),n={type:e.name,value:e.message};return t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n;}function Tl(){return Date.now()/1e3;}var Pl=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0;a(this,e),this.releaseVersion=n,this.environment=r,this.isProduction=i,this.ignoreErrors=o,this.beforeSend=c,this.sampleRates=e.defaultSampleRates,this.dsn="",this.envelopeUrl="",this.publicKey="",this.init(t,null!=s?s:{}),this.tracer=new ac(r,n,this.envelopeUrl,i?this.sampleRates.productionTraceSampleRate:this.sampleRates.traceSampleRate);}return d(e,[{key:"warning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.log(e,t,"warning");}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.log(e,t,"error");}},{key:"debug",value:function(e){console.debug(e);}},{key:"trace",value:function(e){return this.tracer.trace(e);}},{key:"withinContext",value:function(e,t){var n=this.tracer.currentTrace;this.tracer.currentTrace=e,t(),this.tracer.currentTrace=n;}},{key:"log",value:function(t){var n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;if(this.allowBySampleRate()){this.dsn&&this.publicKey||console.error(t,o);var s=ka.wrap(t,"TinySentry");if(!this.ignoreErrors.some(function(e){return s.message.includes(e);})){var c=ac.sentryId(),u=this.parseException(t),l=u.exception,d=u.fileName,f=u.debugId,p={event_id:c,sent_at:function(){return new Date().toISOString();},sdk:{name:"payments.tiny-sdk",version:"2.0.0"},trace:{environment:this.environment,release:this.releaseVersion,public_key:this.publicKey,trace_id:null===(n=this.tracer.currentTrace)||void 0===n?void 0:n.id,sample_rate:"1",transaction:null===(r=this.tracer.currentTrace)||void 0===r?void 0:r.name,sampled:"true"}},h={exception:{values:[l]},level:a,event_id:c,platform:"javascript",request:this.getRequest(),timestamp:Tl(),environment:this.environment,release:this.releaseVersion,sdk:{name:"payments.tiny-sdk",version:"2.0.0"},transaction:null===(i=this.tracer.currentTrace)||void 0===i?void 0:i.name,debug_meta:{images:[{type:"sourcemap",code_file:d,debug_id:f}]},contexts:void 0,extra:o,user:void 0};if(this.tracer.currentTrace&&(h.contexts={trace:{trace_id:this.tracer.currentTrace.traceId,span_id:this.tracer.currentTrace.getLastSpanId()}}),this.beforeSend){var m=this.beforeSend({type:void 0,message:s.message,timestamp:h.timestamp,level:h.level,environment:h.environment,transaction:h.transaction,extra:h.extra});if(!m)return;void 0!==m.message&&(h.exception.values[0].value=m.message),e.applyIfExists(h,"timestamp",m.timestamp),void 0!==m.level&&(h.level=e.simplifyErrorLevel(m.level)),e.applyIfExists(h,"environment",m.environment),e.applyIfExists(h,"transaction",m.transaction),e.applyIfExists(h,"extra",m.extra),e.applyIfExists(h,"user",m.user);}var g=JSON.stringify(p);g+="\n",g+=JSON.stringify({type:"event"}),g+="\n",g+=JSON.stringify(h),g+="\n",this.request(g,this.envelopeUrl);}}}},{key:"parseException",value:function(e){var t,n,r=Il(wl(e)),i=(null===(t=r.stacktrace)||void 0===t?void 0:t.frames)&&(null===(n=r.stacktrace.frames[0])||void 0===n?void 0:n.filename)||"",o="";try{var a=Object.entries(window._sentryDebugIds),s=a.find(function(e){return k(e,1)[0].includes(i);})||["",""];if(!(o=k(s,2)[1])){var c=a.find(function(e){return k(e,1)[0].includes("form");})||["",""];o=k(c,2)[1];}}catch(u){o="";}return{exception:r,fileName:i,debugId:o};}},{key:"init",value:function(t,n){this.dsn=t;var r=ac.parseDsn(t),i=r.envelopeUrl,o=r.publicKey;this.envelopeUrl=i,this.publicKey=o,this.sampleRates=b(b({},e.defaultSampleRates),n);}},{key:"request",value:function(e,t){if(t&&e){var n=new XMLHttpRequest();n.open("post",t,!0),n.send(e);}}},{key:"getRequest",value:function(){return{url:window.location.href,headers:{"User-Agent":navigator.userAgent}};}},{key:"allowBySampleRate",value:function(){return Math.random()<(this.isProduction?this.sampleRates.productionErrorSampleRate:this.sampleRates.errorSampleRate);}}],[{key:"simplifyErrorLevel",value:function(e){return"fatal"===e||"error"===e?"error":"warning";}},{key:"applyIfExists",value:function(e,t,n){void 0!==n&&(e[t]=n);}}]);}();Pl.defaultSampleRates={traceSampleRate:1,errorSampleRate:1,productionTraceSampleRate:.2,productionErrorSampleRate:1};var Al,Rl=function(e){return e.Mounted="mounted",e.PaymentDetails="paymentDetails",e.ProviderToken="_providerToken",e.UpdatePaymentIntent="updateInitPayment",e.FormInitialization="initialization",e.ExternalFormInitialization="externalFormInitialization",e.SetPaymentIntent="processor.message.setPaymentIntent",e.SetResignIntent="processor.message.setResignIntent",e.BrowserWindowLocked="processor.message.browserWindowLocked",e.SubmitRequest="processor.message.submitRequest",e.Resize="resize",e.ApplePayPaymentAuthorized="applePay:onpaymentauthorized",e.PaypalCreateOrder="paypalCreateOrder",e.PaypalOrderProcessed="paypalOrderProcessed",e.StartApmStatusPooling="startApmStatusPooling",e.PerformVerifyResult="processor.message.performVerifyResult",e.ApplyCoupon="applyCoupon",e.ApmIntegrationUrlErrorReceived="apmIntegrationUrlError",e.ApmIntegrationProcessing="apmIntegrationProcessing",e.RequestSize="processor.message.requestSize",e.TokenResponse="processor.message.tokenResponse",e.Interaction="interaction",e.LoadConfirmationRequest="processor.message.loadConfirmationRequest",e.LockInteractions="lockInteractions",e.StartCardStatusPooling="startCardStatusPooling",e;}(Rl||{}),Ol={};!function(){if(Al)return Ol;Al=1;var e=Er(),t=Ku();e({target:"Array",stat:!0,forced:!Wo()(function(e){Array.from(e);})},{from:t});}();var Ml,Ll,Nl,Dl,Bl,Fl={};!function(){if(Bl)return Fl;Bl=1;var e=Er(),t=function(){if(Ll)return Ml;Ll=1;var e=De(),t=$n(),n=Ma(),r=ns(),i=je(),o=e(r),a=e("".slice),s=Math.ceil,c=function(e){return function(r,c,u){var l,d,f=n(i(r)),p=t(c),h=f.length,m=void 0===u?" ":n(u);return p<=h||""===m?f:((d=o(m,s((l=p-h)/m.length))).length>l&&(d=a(d,0,l)),e?f+d:d+f);};};return Ml={start:c(!1),end:c(!0)};}().start;e({target:"String",proto:!0,forced:function(){if(Dl)return Nl;Dl=1;var e=Ve();return Nl=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(e);}()},{padStart:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0);}});}();var Ul=function(){return d(function e(t){var n,r;a(this,e),this.cb=null,this.cb=null,this.listeners=[],this.onSend=null==t?void 0:t.onSend,this.eventName=null!==(n=null==t?void 0:t.eventName)&&void 0!==n?n:"processor.payment.form.private",this.key=null!==(r=null==t?void 0:t.key)&&void 0!==r?r:"processor.payment.form.private.key",this.startListening();},[{key:"destroy",value:function(){this.cb&&(window.removeEventListener("message",this.cb),this.cb=null),this.listeners=[];}},{key:"sendPublicMessage",value:function(e,t){this.sendMessage(e,t);}},{key:"sendPrivateMessage",value:function(e,t){this.sendMessage({type:this.eventName,payload:this.encryptXor(this.key,JSON.stringify(e))},t);}},{key:"subscribeForPrivate",value:function(e){this.subscribe(e);}},{key:"subscribeForPublic",value:function(e){this.subscribe(e);}},{key:"unsubscribe",value:function(e){this.listeners=this.listeners.filter(function(t){return t!==e;});}},{key:"encrypt",value:function(e){return this.encryptXor(this.key,e);}},{key:"decrypt",value:function(e){return this.decryptXor(this.key,e);}},{key:"sendMessage",value:function(e,t){t?t.postMessage(e,"*"):window.parent?window.parent.postMessage(e,"*"):window.top?window.top.postMessage(e,"*"):window.postMessage(e,"*"),this.onSend&&this.onSend(e);}},{key:"subscribe",value:function(e){this.listeners.push(e);}},{key:"startListening",value:function(){var e=this;this.cb=function(t){if(t.data.type){var n=t;t.data.type===e.eventName&&(n=JSON.parse(e.decryptXor(e.key,t.data.payload))),e.listeners.forEach(function(e){e(n);});}},window.addEventListener("message",this.cb);}},{key:"decryptXor",value:function(e,t){try{for(var n=(t.match(/.{1,2}/g)||[]).map(function(e){return parseInt(e,16);}),r=[],i=0;i<n.length;i++)r.push(this.padStart((n[i]^e.charCodeAt(Math.floor(i%e.length))).toString(16),2,"0"));return decodeURIComponent("%"+(r.join("").match(/.{1,2}/g)||[]).join("%"));}catch(o){return"";}}},{key:"encryptXor",value:function(e,t){for(var n=this,r=[],i=(Array.from(t).map(function(e){return e.charCodeAt(0)<128?n.padStart(e.charCodeAt(0).toString(16),2,"0"):encodeURIComponent(e).replace(/%/g,"").toLowerCase();}).join("").match(/.{1,2}/g)||[]).map(function(e){return parseInt(e,16);}),o=0;o<i.length;o++)r.push(i[o]^e.charCodeAt(Math.floor(o%e.length)));return(r=r.map(function(e){return n.padStart(e.toString(16),2,"0");})).join("");}},{key:"padStart",value:function(e,t,n){return t|=0,n=String(n||" "),e.length>t?e:((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),n.slice(0,t)+String(e));}}]);}(),jl="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||{},$l="URLSearchParams"in jl,zl="Symbol"in jl&&"iterator"in Symbol,Hl="FileReader"in jl&&"Blob"in jl&&function(){try{return new Blob(),!0;}catch(e){return!1;}}(),Wl="FormData"in jl,ql="ArrayBuffer"in jl;if(ql)var Vl=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Gl=ArrayBuffer.isView||function(e){return e&&Vl.indexOf(Object.prototype.toString.call(e))>-1;};function Yl(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase();}function Jl(e){return"string"!=typeof e&&(e=String(e)),e;}function Kl(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t};}};return zl&&(t[Symbol.iterator]=function(){return t;}),t;}function Xl(e){this.map={},e instanceof Xl?e.forEach(function(e,t){this.append(t,e);},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1]);},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t]);},this);}function Zl(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0);}function Ql(e){return new Promise(function(t,n){e.onload=function(){t(e.result);},e.onerror=function(){n(e.error);};});}function ed(e){var t=new FileReader(),n=Ql(t);return t.readAsArrayBuffer(e),n;}function td(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer;}function nd(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:Hl&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Wl&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:$l&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():ql&&Hl&&function(e){return e&&DataView.prototype.isPrototypeOf(e);}(e)?(this._bodyArrayBuffer=td(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):ql&&(ArrayBuffer.prototype.isPrototypeOf(e)||Gl(e))?this._bodyArrayBuffer=td(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):$l&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"));},Hl&&(this.blob=function(){var e=Zl(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]));}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=Zl(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));}if(Hl)return this.blob().then(ed);throw new Error("could not read as ArrayBuffer");},this.text=function(){var e=Zl(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader(),n=Ql(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n;}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("");}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText);},Wl&&(this.formData=function(){return this.text().then(od);}),this.json=function(){return this.text().then(JSON.parse);},this;}Xl.prototype.append=function(e,t){e=Yl(e),t=Jl(t);var n=this.map[e];this.map[e]=n?n+", "+t:t;},Xl.prototype.delete=function(e){delete this.map[Yl(e)];},Xl.prototype.get=function(e){return e=Yl(e),this.has(e)?this.map[e]:null;},Xl.prototype.has=function(e){return this.map.hasOwnProperty(Yl(e));},Xl.prototype.set=function(e,t){this.map[Yl(e)]=Jl(t);},Xl.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this);},Xl.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n);}),Kl(e);},Xl.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t);}),Kl(e);},Xl.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t]);}),Kl(e);},zl&&(Xl.prototype[Symbol.iterator]=Xl.prototype.entries);var rd=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function id(e,t){if(!(this instanceof id))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof id){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Xl(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0);}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Xl(t.headers)),this.method=function(e){var t=e.toUpperCase();return rd.indexOf(t)>-1?t:e;}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in jl)return new AbortController().signal;}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime();}}}function od(e){var t=new FormData();return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i));}}),t;}function ad(e){var t=new Xl();return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e;}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i);}catch(o){console.warn("Response "+o.message);}}}),t;}function sd(e,t){if(!(this instanceof sd))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new Xl(t.headers),this.url=t.url||"",this._initBody(e);}id.prototype.clone=function(){return new id(this,{body:this._bodyInit});},nd.call(id.prototype),nd.call(sd.prototype),sd.prototype.clone=function(){return new sd(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Xl(this.headers),url:this.url});},sd.error=function(){var e=new sd(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e;};var cd=[301,302,303,307,308];sd.redirect=function(e,t){if(-1===cd.indexOf(t))throw new RangeError("Invalid status code");return new sd(null,{status:t,headers:{location:e}});};var ud=jl.DOMException;try{new ud();}catch(HD){(ud=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack;}).prototype=Object.create(Error.prototype),ud.prototype.constructor=ud;}function ld(e,t){return new Promise(function(n,r){var i=new id(e,t);if(i.signal&&i.signal.aborted)return r(new ud("Aborted","AbortError"));var o=new XMLHttpRequest();function a(){o.abort();}if(o.onload=function(){var e={statusText:o.statusText,headers:ad(o.getAllResponseHeaders()||"")};0===i.url.indexOf("file://")&&(o.status<200||o.status>599)?e.status=200:e.status=o.status,e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;setTimeout(function(){n(new sd(t,e));},0);},o.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"));},0);},o.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"));},0);},o.onabort=function(){setTimeout(function(){r(new ud("Aborted","AbortError"));},0);},o.open(i.method,function(e){try{return""===e&&jl.location.href?jl.location.href:e;}catch(t){return e;}}(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(Hl?o.responseType="blob":ql&&(o.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof Xl||jl.Headers&&t.headers instanceof jl.Headers)){var s=[];Object.getOwnPropertyNames(t.headers).forEach(function(e){s.push(Yl(e)),o.setRequestHeader(e,Jl(t.headers[e]));}),i.headers.forEach(function(e,t){-1===s.indexOf(t)&&o.setRequestHeader(t,e);});}else i.headers.forEach(function(e,t){o.setRequestHeader(t,e);});i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a);}),o.send(void 0===i._bodyInit?null:i._bodyInit);});}ld.polyfill=!0,jl.fetch||(jl.fetch=ld,jl.Headers=Xl,jl.Request=id,jl.Response=sd);var dd,fd,pd,hd,md,gd,yd,vd,bd,_d,wd,kd,Sd,xd,Ed,Cd,Id,Td={};function Pd(){return fd?dd:(fd=1,dd="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView);}function Ad(){if(hd)return pd;hd=1;var e=Un(),t=$n(),n=RangeError;return pd=function(r){if(void 0===r)return 0;var i=e(r),o=t(i);if(i!==o)throw new n("Wrong length or index");return o;};}function Rd(){if(vd)return yd;vd=1;var e=function(){return gd?md:(gd=1,md=Math.sign||function(e){var t=+e;return 0===t||t!=t?t:t<0?-1:1;});}(),t=Math.abs,n=2220446049250313e-31,r=1/n;return yd=function(i,o,a,s){var c=+i,u=t(c),l=e(c);if(u<s)return l*function(e){return e+r-r;}(u/s/o)*s*o;var d=(1+o/n)*u,f=d-(d-u);return f>a||f!=f?l*(1/0):l*f;};}function Od(){if(xd)return Sd;xd=1;var e=Pt(),t=jn(),n=zn();return Sd=function(r){for(var i=e(this),o=n(i),a=arguments.length,s=t(a>1?arguments[1]:void 0,o),c=a>2?arguments[2]:void 0,u=void 0===c?o:t(c,o);u>s;)i[s++]=r;return i;},Sd;}function Md(){if(Cd)return Ed;Cd=1;var e=O(),t=De(),n=H(),r=Pd(),i=pn(),o=Jt(),a=Yi(),s=lu(),c=z(),u=Ki(),l=Un(),d=$n(),f=Ad(),p=function(){if(_d)return bd;_d=1;var e=Rd();return bd=Math.fround||function(t){return e(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54);};}(),h=function(){if(kd)return wd;kd=1;var e=Array,t=Math.abs,n=Math.pow,r=Math.floor,i=Math.log,o=Math.LN2;return wd={pack:function(a,s,c){var u,l,d,f=e(c),p=8*c-s-1,h=(1<<p)-1,m=h>>1,g=23===s?n(2,-24)-n(2,-77):0,y=a<0||0===a&&1/a<0?1:0,v=0;for((a=t(a))!=a||a===1/0?(l=a!=a?1:0,u=h):(u=r(i(a)/o),a*(d=n(2,-u))<1&&(u--,d*=2),(a+=u+m>=1?g/d:g*n(2,1-m))*d>=2&&(u++,d/=2),u+m>=h?(l=0,u=h):u+m>=1?(l=(a*d-1)*n(2,s),u+=m):(l=a*n(2,m-1)*n(2,s),u=0));s>=8;)f[v++]=255&l,l/=256,s-=8;for(u=u<<s|l,p+=s;p>0;)f[v++]=255&u,u/=256,p-=8;return f[--v]|=128*y,f;},unpack:function(e,t){var r,i=e.length,o=8*i-t-1,a=(1<<o)-1,s=a>>1,c=o-7,u=i-1,l=e[u--],d=127&l;for(l>>=7;c>0;)d=256*d+e[u--],c-=8;for(r=d&(1<<-c)-1,d>>=-c,c+=t;c>0;)r=256*r+e[u--],c-=8;if(0===d)d=1-s;else{if(d===a)return r?NaN:l?-1/0:1/0;r+=n(2,t),d-=s;}return(l?-1:1)*r*n(2,d-t);}};}(),m=ha(),g=Vi(),y=Od(),v=ro(),b=Tc(),_=Sr(),w=Gi(),k=vn(),S=i.PROPER,x=i.CONFIGURABLE,E="ArrayBuffer",C="DataView",I="prototype",T="Wrong index",P=k.getterFor(E),A=k.getterFor(C),R=k.set,M=e[E],L=M,N=L&&L[I],D=e[C],B=D&&D[I],F=Object.prototype,U=e.Array,j=e.RangeError,$=t(y),W=t([].reverse),q=h.pack,V=h.unpack,G=function(e){return[255&e];},Y=function(e){return[255&e,e>>8&255];},J=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255];},K=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0];},X=function(e){return q(p(e),23,4);},Z=function(e){return q(e,52,8);},Q=function(e,t,n){a(e[I],t,{configurable:!0,get:function(){return n(this)[t];}});},ee=function(e,t,n,r){var i=A(e),o=f(n),a=!!r;if(o+t>i.byteLength)throw new j(T);var s=i.bytes,c=o+i.byteOffset,u=v(s,c,c+t);return a?u:W(u);},te=function(e,t,n,r,i,o){var a=A(e),s=f(n),c=r(+i),u=!!o;if(s+t>a.byteLength)throw new j(T);for(var l=a.bytes,d=s+a.byteOffset,p=0;p<t;p++)l[d+p]=c[u?p:t-p-1];};if(r){var ne=S&&M.name!==E;c(function(){M(1);})&&c(function(){new M(-1);})&&!c(function(){return new M(),new M(1.5),new M(NaN),1!==M.length||ne&&!x;})?ne&&x&&o(M,"name",E):((L=function(e){return u(this,N),b(new M(f(e)),this,L);})[I]=N,N.constructor=L,_(L,M)),g&&m(B)!==F&&g(B,F);var re=new D(new L(2)),ie=t(B.setInt8);re.setInt8(0,2147483648),re.setInt8(1,2147483649),!re.getInt8(0)&&re.getInt8(1)||s(B,{setInt8:function(e,t){ie(this,e,t<<24>>24);},setUint8:function(e,t){ie(this,e,t<<24>>24);}},{unsafe:!0});}else N=(L=function(e){u(this,N);var t=f(e);R(this,{type:E,bytes:$(U(t),0),byteLength:t}),n||(this.byteLength=t,this.detached=!1);})[I],B=(D=function(e,t,r){u(this,B),u(e,N);var i=P(e),o=i.byteLength,a=l(t);if(a<0||a>o)throw new j("Wrong offset");if(a+(r=void 0===r?o-a:d(r))>o)throw new j("Wrong length");R(this,{type:C,buffer:e,byteLength:r,byteOffset:a,bytes:i.bytes}),n||(this.buffer=e,this.byteLength=r,this.byteOffset=a);})[I],n&&(Q(L,"byteLength",P),Q(D,"buffer",A),Q(D,"byteLength",A),Q(D,"byteOffset",A)),s(B,{getInt8:function(e){return ee(this,1,e)[0]<<24>>24;},getUint8:function(e){return ee(this,1,e)[0];},getInt16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return(t[1]<<8|t[0])<<16>>16;},getUint16:function(e){var t=ee(this,2,e,arguments.length>1&&arguments[1]);return t[1]<<8|t[0];},getInt32:function(e){return K(ee(this,4,e,arguments.length>1&&arguments[1]));},getUint32:function(e){return K(ee(this,4,e,arguments.length>1&&arguments[1]))>>>0;},getFloat32:function(e){return V(ee(this,4,e,arguments.length>1&&arguments[1]),23);},getFloat64:function(e){return V(ee(this,8,e,arguments.length>1&&arguments[1]),52);},setInt8:function(e,t){te(this,1,e,G,t);},setUint8:function(e,t){te(this,1,e,G,t);},setInt16:function(e,t){te(this,2,e,Y,t,arguments.length>2&&arguments[2]);},setUint16:function(e,t){te(this,2,e,Y,t,arguments.length>2&&arguments[2]);},setInt32:function(e,t){te(this,4,e,J,t,arguments.length>2&&arguments[2]);},setUint32:function(e,t){te(this,4,e,J,t,arguments.length>2&&arguments[2]);},setFloat32:function(e,t){te(this,4,e,X,t,arguments.length>2&&arguments[2]);},setFloat64:function(e,t){te(this,8,e,Z,t,arguments.length>2&&arguments[2]);}});return w(L,E),w(D,C),Ed={ArrayBuffer:L,DataView:D};}!function(){if(Id)return Td;Id=1;var e=Er(),t=eo(),n=z(),r=Md(),i=Gt(),o=jn(),a=$n(),s=Zi(),c=r.ArrayBuffer,u=r.DataView,l=u.prototype,d=t(c.prototype.slice),f=t(l.getUint8),p=t(l.setUint8);e({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:n(function(){return!new c(2).slice(1,void 0).byteLength;})},{slice:function(e,t){if(d&&void 0===t)return d(i(this),e);for(var n=i(this).byteLength,r=o(e,n),l=o(void 0===t?n:t,n),h=new(s(this,c))(a(l-r)),m=new u(this),g=new u(h),y=0;r<l;)p(g,y++,f(m,r++));return h;}});}();var Ld,Nd,Dd,Bd,Fd,Ud,jd,$d,zd,Hd,Wd,qd,Vd,Gd,Yd,Jd,Kd,Xd,Zd,Qd,ef,tf,nf={exports:{}};function rf(){if(Nd)return Ld;Nd=1;var e,t,n,r=Pd(),i=H(),o=O(),a=ze(),s=He(),c=At(),u=Pr(),l=Xe(),d=Jt(),f=_n(),p=Yi(),h=qe(),m=ha(),g=Vi(),y=Ot(),v=Rt(),b=vn(),_=b.enforce,w=b.get,k=o.Int8Array,S=k&&k.prototype,x=o.Uint8ClampedArray,E=x&&x.prototype,C=k&&m(k),I=S&&m(S),T=Object.prototype,P=o.TypeError,A=y("toStringTag"),R=v("TYPED_ARRAY_TAG"),M="TypedArrayConstructor",L=r&&!!g&&"Opera"!==u(o.opera),N=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},F=function(e){var t=m(e);if(s(t)){var n=w(t);return n&&c(n,M)?n[M]:F(t);}},U=function(e){if(!s(e))return!1;var t=u(e);return c(D,t)||c(B,t);};for(e in D)(n=(t=o[e])&&t.prototype)?_(n)[M]=t:L=!1;for(e in B)(n=(t=o[e])&&t.prototype)&&(_(n)[M]=t);if((!L||!a(C)||C===Function.prototype)&&(C=function(){throw new P("Incorrect invocation");},L))for(e in D)o[e]&&g(o[e],C);if((!L||!I||I===T)&&(I=C.prototype,L))for(e in D)o[e]&&g(o[e].prototype,I);if(L&&m(E)!==I&&g(E,I),i&&!c(I,A))for(e in N=!0,p(I,A,{configurable:!0,get:function(){return s(this)?this[R]:void 0;}}),D)o[e]&&d(o[e],R,e);return Ld={NATIVE_ARRAY_BUFFER_VIEWS:L,TYPED_ARRAY_TAG:N&&R,aTypedArray:function(e){if(U(e))return e;throw new P("Target is not a typed array");},aTypedArrayConstructor:function(e){if(a(e)&&(!g||h(C,e)))return e;throw new P(l(e)+" is not a typed array constructor");},exportTypedArrayMethod:function(e,t,n,r){if(i){if(n)for(var a in D){var s=o[a];if(s&&c(s.prototype,e))try{delete s.prototype[e];}catch(u){try{s.prototype[e]=t;}catch(l){}}}I[e]&&!n||f(I,e,n?t:L&&S[e]||t,r);}},exportTypedArrayStaticMethod:function(e,t,n){var r,a;if(i){if(g){if(n)for(r in D)if((a=o[r])&&c(a,e))try{delete a[e];}catch(s){}if(C[e]&&!n)return;try{return f(C,e,n?t:L&&C[e]||t);}catch(s){}}for(r in D)!(a=o[r])||a[e]&&!n||f(a,e,t);}},getTypedArrayConstructor:F,isView:function(e){if(!s(e))return!1;var t=u(e);return"DataView"===t||c(D,t)||c(B,t);},isTypedArray:U,TypedArray:C,TypedArrayPrototype:I};}function of(){if(Hd)return zd;Hd=1;var e=function(){if($d)return jd;$d=1;var e=Un(),t=RangeError;return jd=function(n){var r=e(n);if(r<0)throw new t("The argument can't be less than 0");return r;};}(),t=RangeError;return zd=function(n,r){var i=e(n);if(i%r)throw new t("Wrong offset");return i;};}function af(){if(Jd)return Yd;Jd=1;var e=Mt(),t=TypeError;return Yd=function(n){var r=e(n,"number");if("number"==typeof r)throw new t("Can't convert number to bigint");return BigInt(r);};}function sf(){if(Xd)return Kd;Xd=1;var e=to(),t=q(),n=Xi(),r=Pt(),i=zn(),o=$o(),a=jo(),s=Uo(),c=function(){if(Gd)return Vd;Gd=1;var e=Pr();return Vd=function(t){var n=e(t);return"BigInt64Array"===n||"BigUint64Array"===n;};}(),u=rf().aTypedArrayConstructor,l=af();return Kd=function(d){var f,p,h,m,g,y,v,b,_=n(this),w=r(d),k=arguments.length,S=k>1?arguments[1]:void 0,x=void 0!==S,E=a(w);if(E&&!s(E))for(b=(v=o(w,E)).next,w=[];!(y=t(b,v)).done;)w.push(y.value);for(x&&k>2&&(S=e(S,arguments[2])),p=i(w),h=new(u(_))(p),m=c(h),f=0;p>f;f++)g=x?S(w[f],f):w[f],h[f]=m?l(g):+g;return h;},Kd;}function cf(){if(Qd)return Zd;Qd=1;var e=zn();return Zd=function(t,n,r){for(var i=0,o=arguments.length>2?r:e(n),a=new t(o);o>i;)a[i]=n[i++];return a;},Zd;}function uf(){if(ef)return nf.exports;ef=1;var e=Er(),t=O(),n=q(),r=H(),i=function(){if(Bd)return Dd;Bd=1;var e=O(),t=z(),n=Wo(),r=rf().NATIVE_ARRAY_BUFFER_VIEWS,i=e.ArrayBuffer,o=e.Int8Array;return Dd=!r||!t(function(){o(1);})||!t(function(){new o(-1);})||!n(function(e){new o(),new o(null),new o(1.5),new o(e);},!0)||t(function(){return 1!==new o(new i(2),1,void 0).length;});}(),o=rf(),a=Md(),s=Ki(),c=Ne(),u=Jt(),l=function(){if(Ud)return Fd;Ud=1;var e=He(),t=Math.floor;return Fd=Number.isInteger||function(n){return!e(n)&&isFinite(n)&&t(n)===n;};}(),d=$n(),f=Ad(),p=of(),h=function(){if(qd)return Wd;qd=1;var e=Math.round;return Wd=function(t){var n=e(t);return n<0?0:n>255?255:255&n;};}(),m=Lt(),g=At(),y=Pr(),v=He(),b=Ke(),_=Ya(),w=qe(),k=Vi(),S=Vn().f,x=sf(),E=Ea().forEach,C=Ji(),I=Yi(),T=Yt(),P=Bt(),A=cf(),R=vn(),M=Tc(),L=R.get,N=R.set,D=R.enforce,B=T.f,F=P.f,U=t.RangeError,j=a.ArrayBuffer,$=j.prototype,W=a.DataView,V=o.NATIVE_ARRAY_BUFFER_VIEWS,G=o.TYPED_ARRAY_TAG,Y=o.TypedArray,J=o.TypedArrayPrototype,K=o.isTypedArray,X="BYTES_PER_ELEMENT",Z="Wrong length",Q=function(e,t){I(e,t,{configurable:!0,get:function(){return L(this)[t];}});},ee=function(e){var t;return w($,e)||"ArrayBuffer"===(t=y(e))||"SharedArrayBuffer"===t;},te=function(e,t){return K(e)&&!b(t)&&t in e&&l(+t)&&t>=0;},ne=function(e,t){return t=m(t),te(e,t)?c(2,e[t]):F(e,t);},re=function(e,t,n){return t=m(t),!(te(e,t)&&v(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?B(e,t,n):(e[t]=n.value,e);};return r?(V||(P.f=ne,T.f=re,Q(J,"buffer"),Q(J,"byteOffset"),Q(J,"byteLength"),Q(J,"length")),e({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:ne,defineProperty:re}),nf.exports=function(r,o,a){var c=r.match(/\d+/)[0]/8,l=r+(a?"Clamped":"")+"Array",m="get"+r,g="set"+r,y=t[l],b=y,w=b&&b.prototype,I={},T=function(e,t){B(e,t,{get:function(){return function(e,t){var n=L(e);return n.view[m](t*c+n.byteOffset,!0);}(this,t);},set:function(e){return function(e,t,n){var r=L(e);r.view[g](t*c+r.byteOffset,a?h(n):n,!0);}(this,t,e);},enumerable:!0});};V?i&&(b=o(function(e,t,r,i){return s(e,w),M(function(){return v(t)?ee(t)?void 0!==i?new y(t,p(r,c),i):void 0!==r?new y(t,p(r,c)):new y(t):K(t)?A(b,t):n(x,b,t):new y(f(t));}(),e,b);}),k&&k(b,Y),E(S(y),function(e){e in b||u(b,e,y[e]);}),b.prototype=w):(b=o(function(e,t,r,i){s(e,w);var o,a,u,l=0,h=0;if(v(t)){if(!ee(t))return K(t)?A(b,t):n(x,b,t);o=t,h=p(r,c);var m=t.byteLength;if(void 0===i){if(m%c)throw new U(Z);if((a=m-h)<0)throw new U(Z);}else if((a=d(i)*c)+h>m)throw new U(Z);u=a/c;}else u=f(t),o=new j(a=u*c);for(N(e,{buffer:o,byteOffset:h,byteLength:a,length:u,view:new W(o)});l<u;)T(e,l++);}),k&&k(b,Y),w=b.prototype=_(J)),w.constructor!==b&&u(w,"constructor",b),D(w).TypedArrayConstructor=b,G&&u(w,G,l);var P=b!==y;I[l]=b,e({global:!0,constructor:!0,forced:P,sham:!V},I),X in b||u(b,X,c),X in w||u(w,X,c),C(l);}):nf.exports=function(){},nf.exports;}!function(){tf||(tf=1,uf()("Uint8",function(e){return function(t,n,r){return e(this,t,n,r);};}));}();var lf,df,ff,pf,hf,mf={};function gf(){if(pf)return ff;pf=1;var e=Pt(),t=jn(),n=zn(),r=function(){if(df)return lf;df=1;var e=Xe(),t=TypeError;return lf=function(n,r){if(!delete n[r])throw new t("Cannot delete property "+e(r)+" of "+e(n));};}(),i=Math.min;return ff=[].copyWithin||function(o,a){var s=e(this),c=n(s),u=t(o,c),l=t(a,c),d=arguments.length>2?arguments[2]:void 0,f=i((void 0===d?c:t(d,c))-l,c-u),p=1;for(l<u&&u<l+f&&(p=-1,l+=f-1,u+=f-1);f-->0;)l in s?s[u]=s[l]:r(s,u),u+=p,l+=p;return s;},ff;}!function(){if(hf)return mf;hf=1;var e=De(),t=rf(),n=e(gf()),r=t.aTypedArray;(0,t.exportTypedArrayMethod)("copyWithin",function(e,t){return n(r(this),e,t,arguments.length>2?arguments[2]:void 0);});}();var yf,vf={};!function(){if(yf)return vf;yf=1;var e=rf(),t=Ea().every,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("every",function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0);});}();var bf,_f={};!function(){if(bf)return _f;bf=1;var e=rf(),t=Od(),n=af(),r=Pr(),i=q(),o=De(),a=z(),s=e.aTypedArray,c=e.exportTypedArrayMethod,u=o("".slice);c("fill",function(e){var o=arguments.length;s(this);var a="Big"===u(r(this),0,3)?n(e):+e;return i(t,this,a,o>1?arguments[1]:void 0,o>2?arguments[2]:void 0);},a(function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++;}}),1!==e;}));}();var wf,kf,Sf,xf,Ef,Cf={};function If(){if(kf)return wf;kf=1;var e=rf(),t=Zi(),n=e.aTypedArrayConstructor,r=e.getTypedArrayConstructor;return wf=function(e){return n(t(e,r(e)));};}!function(){if(Ef)return Cf;Ef=1;var e=rf(),t=Ea().filter,n=function(){if(xf)return Sf;xf=1;var e=cf(),t=If();return Sf=function(n,r){return e(t(n),r);};}(),r=e.aTypedArray;(0,e.exportTypedArrayMethod)("filter",function(e){var i=t(r(this),e,arguments.length>1?arguments[1]:void 0);return n(this,i);});}();var Tf,Pf={};!function(){if(Tf)return Pf;Tf=1;var e=rf(),t=Ea().find,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("find",function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0);});}();var Af,Rf={};!function(){if(Af)return Rf;Af=1;var e=rf(),t=Ea().findIndex,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("findIndex",function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0);});}();var Of,Mf={};!function(){if(Of)return Mf;Of=1;var e=rf(),t=Ea().forEach,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("forEach",function(e){t(n(this),e,arguments.length>1?arguments[1]:void 0);});}();var Lf,Nf={};!function(){if(Lf)return Nf;Lf=1;var e=rf(),t=Hn().includes,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("includes",function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0);});}();var Df,Bf={};!function(){if(Df)return Bf;Df=1;var e=rf(),t=Hn().indexOf,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("indexOf",function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0);});}();var Ff,Uf={};!function(){if(Ff)return Uf;Ff=1;var e=O(),t=z(),n=De(),r=rf(),i=eu(),o=Ot()("iterator"),a=e.Uint8Array,s=n(i.values),c=n(i.keys),u=n(i.entries),l=r.aTypedArray,d=r.exportTypedArrayMethod,f=a&&a.prototype,p=!t(function(){f[o].call([1]);}),h=!!f&&f.values&&f[o]===f.values&&"values"===f.values.name,m=function(){return s(l(this));};d("entries",function(){return u(l(this));},p),d("keys",function(){return c(l(this));},p),d("values",m,p||!h,{name:"values"}),d(o,m,p||!h,{name:"values"});}();var jf,$f={};!function(){if(jf)return $f;jf=1;var e=rf(),t=De(),n=e.aTypedArray,r=e.exportTypedArrayMethod,i=t([].join);r("join",function(e){return i(n(this),e);});}();var zf,Hf,Wf,qf={};!function(){if(Wf)return qf;Wf=1;var e=rf(),t=Qi(),n=function(){if(Hf)return zf;Hf=1;var e=Qi(),t=$e(),n=Un(),r=zn(),i=Rs(),o=Math.min,a=[].lastIndexOf,s=!!a&&1/[1].lastIndexOf(1,-0)<0,c=i("lastIndexOf");return zf=s||!c?function(i){if(s)return e(a,this,arguments)||0;var c=t(this),u=r(c);if(0===u)return-1;var l=u-1;for(arguments.length>1&&(l=o(l,n(arguments[1]))),l<0&&(l=u+l);l>=0;l--)if(l in c&&c[l]===i)return l||0;return-1;}:a,zf;}(),r=e.aTypedArray;(0,e.exportTypedArrayMethod)("lastIndexOf",function(e){var i=arguments.length;return t(n,r(this),i>1?[e,arguments[1]]:[e]);});}();var Vf,Gf={};!function(){if(Vf)return Gf;Vf=1;var e=rf(),t=Ea().map,n=If(),r=e.aTypedArray;(0,e.exportTypedArrayMethod)("map",function(e){return t(r(this),e,arguments.length>1?arguments[1]:void 0,function(e,t){return new(n(e))(t);});});}();var Yf,Jf={};!function(){if(Yf)return Jf;Yf=1;var e=rf(),t=yc().left,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("reduce",function(e){var r=arguments.length;return t(n(this),e,r,r>1?arguments[1]:void 0);});}();var Kf,Xf={};!function(){if(Kf)return Xf;Kf=1;var e=rf(),t=yc().right,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("reduceRight",function(e){var r=arguments.length;return t(n(this),e,r,r>1?arguments[1]:void 0);});}();var Zf,Qf={};!function(){if(Zf)return Qf;Zf=1;var e=rf(),t=e.aTypedArray,n=e.exportTypedArrayMethod,r=Math.floor;n("reverse",function(){for(var e,n=this,i=t(n).length,o=r(i/2),a=0;a<o;)e=n[a],n[a++]=n[--i],n[i]=e;return n;});}();var ep,tp={};!function(){if(ep)return tp;ep=1;var e=O(),t=q(),n=rf(),r=zn(),i=of(),o=Pt(),a=z(),s=e.RangeError,c=e.Int8Array,u=c&&c.prototype,l=u&&u.set,d=n.aTypedArray,f=n.exportTypedArrayMethod,p=!a(function(){var e=new Uint8ClampedArray(2);return t(l,e,{length:1,0:3},1),3!==e[1];}),h=p&&n.NATIVE_ARRAY_BUFFER_VIEWS&&a(function(){var e=new c(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1];});f("set",function(e){d(this);var n=i(arguments.length>1?arguments[1]:void 0,1),a=o(e);if(p)return t(l,this,a,n);var c=this.length,u=r(a),f=0;if(u+n>c)throw new s("Wrong length");for(;f<u;)this[n+f]=a[f++];},!p||h);}();var np,rp={};!function(){if(np)return rp;np=1;var e=rf(),t=If(),n=z(),r=ro(),i=e.aTypedArray;(0,e.exportTypedArrayMethod)("slice",function(e,n){for(var o=r(i(this),e,n),a=t(this),s=0,c=o.length,u=new a(c);c>s;)u[s]=o[s++];return u;},n(function(){new Int8Array(1).slice();}));}();var ip,op={};!function(){if(ip)return op;ip=1;var e=rf(),t=Ea().some,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("some",function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0);});}();var ap,sp,cp,up,lp,dp,fp,pp={};!function(){if(fp)return pp;fp=1;var e=O(),t=eo(),n=z(),r=Ze(),i=Zu(),o=rf(),a=function(){if(sp)return ap;sp=1;var e=Ve().match(/firefox\/(\d+)/i);return ap=!!e&&+e[1];}(),s=function(){if(up)return cp;up=1;var e=Ve();return cp=/MSIE|Trident/.test(e);}(),c=Ge(),u=function(){if(dp)return lp;dp=1;var e=Ve().match(/AppleWebKit\/(\d+)\./);return lp=!!e&&+e[1];}(),l=o.aTypedArray,d=o.exportTypedArrayMethod,f=e.Uint16Array,p=f&&t(f.prototype.sort),h=!(!p||n(function(){p(new f(2),null);})&&n(function(){p(new f(2),{});})),m=!!p&&!n(function(){if(c)return c<74;if(a)return a<67;if(s)return!0;if(u)return u<602;var e,t,n=new f(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(p(n,function(e,t){return(e/4|0)-(t/4|0);}),e=0;e<516;e++)if(n[e]!==r[e])return!0;});d("sort",function(e){return void 0!==e&&r(e),m?p(this,e):i(l(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n;};}(e));},!m||h);}();var hp,mp={};!function(){if(hp)return mp;hp=1;var e=O(),t=Qi(),n=rf(),r=z(),i=ro(),o=e.Int8Array,a=n.aTypedArray,s=n.exportTypedArrayMethod,c=[].toLocaleString,u=!!o&&r(function(){c.call(new o(1));});s("toLocaleString",function(){return t(c,u?i(a(this)):a(this),i(arguments));},r(function(){return[1,2].toLocaleString()!==new o([1,2]).toLocaleString();})||!r(function(){o.prototype.toLocaleString.call([1,2]);}));}();var gp,yp={};function vp(e){return bp.apply(this,arguments);}function bp(){return(bp=i(_().mark(function e(t){var n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new TextEncoder().encode(t),e.next=3,crypto.subtle.digest({name:"SHA-256"},n);case 3:return r=e.sent,e.abrupt("return",new Uint8Array(r));case 5:case"end":return e.stop();}},e);}))).apply(this,arguments);}!function(){if(gp)return yp;gp=1;var e=rf().exportTypedArrayMethod,t=z(),n=O(),r=De(),i=n.Uint8Array,o=i&&i.prototype||{},a=[].toString,s=r([].join);t(function(){a.call({});})&&(a=function(){return s(this);});var c=o.toString!==a;e("toString",a,c);}();var _p,wp=function(e){return e.InvalidDifficulty="INVALID_DIFFICULTY",e.MaxSolveTimeReached="MAX_SOLVE_TIME_REACHED",e;}(wp||{}),kp=function(){return d(function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2500;a(this,e),this.maxSolveTime=t;},[{key:"solve",value:function(){var e=i(_().mark(function e(t){var n,r,i,o,a,s,c,u,l,d,f,p;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.timestamp,r=t.difficulty,i=t.nonce,o=t.ip,a=t.hmac,!(!Number.isInteger(r)||r<0||r>256)){e.next=3;break;}throw new Sa("INVALID_DIFFICULTY",{difficulty:r});case 3:s="".concat(i,":").concat(r,":").concat(o,":").concat(n),c="0".repeat(r),u="",l=-1,d=performance.now();case 8:if(!(performance.now()-d>this.maxSolveTime)){e.next=10;break;}throw new Sa("MAX_SOLVE_TIME_REACHED");case 10:return l++,e.next=13,vp("".concat(s,":").concat(l));case 13:f=e.sent,p=Array.from(f),u=p.map(function(e){return e.toString(2).padStart(8,"0");}).join("");case 16:if(u.slice(0,r)!==c){e.next=8;break;}case 17:return e.abrupt("return","".concat(i,"//").concat(r,"//").concat(n,"//").concat(a,"//").concat(l));case 18:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()}]);}(),Sp=function(e){return"object"==typeof e&&null!==e&&"challenge"in e&&"error"in e&&"object"==typeof e.challenge&&"object"==typeof e.error;},xp=function(){function e(t){var n=this;a(this,e),this.callbacks=t,this.challengeSolver=new kp(e.DEFAULT_SOLVING_TIMEOUT),this.solution=null,this.fetch=function(){var t=i(_().mark(function t(r,i){var o,a,s,c,u,l,d=arguments;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((o=d.length>2&&void 0!==d[2]?d[2]:0)>=e.MAX_SOLVE_TRIES)){t.next=3;break;}throw new Sa("MAX_TRY_COUNT_REACHED",{tryCount:o});case 3:return t.next=5,fetch(r,b(b({},i),{},{headers:n.getHeaders(i)}));case 5:if(403!==(a=t.sent).status){t.next=37;break;}return s=a.clone(),t.prev=8,t.next=11,s.json();case 11:c=t.sent,t.next=17;break;case 14:return t.prev=14,t.t0=t.catch(8),t.abrupt("return",a);case 17:if(!Sp(c)){t.next=37;break;}return null!==(u=n.callbacks)&&void 0!==u&&u.onChallengeRequested&&n.callbacks.onChallengeRequested(c.challenge.difficulty,o),t.prev=19,t.next=22,n.solveChallenge(c);case 22:return t.next=24,fetch(r,b(b({},i),{},{headers:n.getHeaders(i)}));case 24:case 33:return t.abrupt("return",t.sent);case 27:if(t.prev=27,t.t1=t.catch(19),!Sa.isOfType(wp.MaxSolveTimeReached,t.t1)){t.next=36;break;}return null!==(l=n.callbacks)&&void 0!==l&&l.onSolvingTimeExceeded&&n.callbacks.onSolvingTimeExceeded(),t.next=33,n.fetch(r,i,o+1);case 36:throw t.t1;case 37:return t.abrupt("return",a);case 38:case"end":return t.stop();}},t,null,[[8,14],[19,27]]);}));return function(e,n){return t.apply(this,arguments);};}();}return d(e,[{key:"getSolution",value:function(){return this.solution;}},{key:"setSolution",value:function(e){this.solution=e;}},{key:"solveChallenge",value:function(){var e=i(_().mark(function e(t){var n,r,i,o,a,s,c,u,l,d;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.challenge,i=r.nonce,o=r.difficulty,a=r.ip,s=r.timestamp,c=r.hmac,u=performance.now(),e.next=5,this.challengeSolver.solve({nonce:i,difficulty:o,ip:a,timestamp:s,hmac:c});case 5:this.solution=e.sent,l=performance.now(),d=l-u,null!==(n=this.callbacks)&&void 0!==n&&n.onChallengeSolved&&this.callbacks.onChallengeSolved(this.solution,o,d);case 9:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"getHeaders",value:function(t){return b(b({},null==t?void 0:t.headers),this.solution?p({},e.POW_HEADER,this.solution):{});}}]);}();(_p=xp).POW_HEADER="Provider-Proof-of-Work",_p.MAX_SOLVE_TRIES=3,_p.DEFAULT_SOLVING_TIMEOUT=4e3;var Ep,Cp=function(e){return e.Success="success",e.Fail="fail",e.Redirect="formRedirect",e.Verify="verify",e.StartCheckStatus="startCheckStatus",e.Card="card",e.CustomStylesAppended="customStylesAppended",e.PaymentButtonsInit="_paymentButtonsInit",e.FormReady="processor.private.event.formReady",e.PrivateResize="_resize",e.PrivateResizeWithIntegrity="_resizeWithIntegrity",e.AppleCompletePayment="_appleCompletePayment",e.Tracking="processor.private.event.tracking",e.PerformVerifyFlow="processor.private.performVerifyFlow",e.UpdateComplete="processor.private.updateComplete",e.StatusPageShown="processor.private.statusPageShown",e.ModalStatusShown="processor.private.modalStatusShown",e.TokenRequest="processor.private.tokenRequest",e.OrderStatus="orderStatus",e.CouponApplied="couponApplied",e.FormLoadingError="__provider_form_loading_error__",e.PrivateInteraction="processor.private.interaction",e.PaypalOrderToken="paypalOrderToken",e.PixFormSubmit="pixFormSubmit",e.MBWayFormSubmit="mbwayFormSubmit",e.LoadConfirmationResponse="processor.private.loadConfirmationResponse",e.ApmIntegrationUrl="apmIntegrationUrl",e.ApmIntegrationProcessed="apmIntegrationProcessed",e.ClosePixForm="closePixForm",e.CloseMBWayForm="closeMBWayForm",e.LockInteractions="lockInteractions",e.StartCardStatusPooling="startCardStatusPooling",e.CloseClick2PayForm="closeClick2PayForm",e.PoWSolutionUpdated="powSolutionUpdated",e;}(Cp||{}),Ip=function(e){return e.Submit="submit",e.Error="error",e;}(Ip||{}),Tp=function(e){function t(e){var n;return a(this,t),(n=o(this,t,[e])).name="EventListenersError",n;}return g(t,e),d(t);}(C(Error)),Pp=function(){return d(function e(t){a(this,e),this.merchantLogger=t,this.listeners={},this.allowedEventNames=[Rl.Mounted,Ip.Error,Ip.Submit,Cp.Success,Cp.Fail,Cp.StartCheckStatus,Cp.AppleCompletePayment,Cp.PaymentButtonsInit,Cp.PrivateResize,Rl.Resize,Cp.OrderStatus,Cp.Redirect,Cp.Card,Cp.Verify,Rl.Interaction,Rl.PaymentDetails,Cp.CustomStylesAppended],this.suspendedEventNames=[Cp.StartCheckStatus,Cp.AppleCompletePayment,Cp.PaymentButtonsInit,Cp.PrivateResize];},[{key:"on",value:function(e,t){if(this.isValidSubscriberArguments(e,t)){var n=function(n){n.data.type===e&&t(n);};this.unsubscribe(e),this.listeners[e]=n,window.addEventListener("message",n);}}},{key:"unsubscribe",value:function(e){this.isValidEventName(e)&&(window.removeEventListener("message",this.listeners[e]),delete this.listeners[e]);}},{key:"unsubscribeAll",value:function(){var e=this;Object.keys(this.listeners).forEach(function(t){window.removeEventListener("message",e.listeners[t]),delete e.listeners[t];});}},{key:"isValidEventName",value:function(e){return this.allowedEventNames.includes(e)||this.merchantLogger.error(new Tp("Event ".concat(e," does not exist"))),this.suspendedEventNames.includes(e)&&this.merchantLogger.warning(new Tp("Event ".concat(e," designed for private use only and might be changed any time. Please, dont rely on it."))),!0;}},{key:"isValidSubscriberArguments",value:function(e,t){return"function"!=typeof t?(this.merchantLogger.error(new Tp("Subscriber for event ".concat(e," is not a function"))),!1):this.isValidEventName(e);}}]);}(),Ap={};!function(){if(Ep)return Ap;Ep=1;var e=Er(),t=Ju();e({target:"Object",stat:!0,arity:2,forced:Object.assign!==t},{assign:t});}();var Rp=function(e){function t(e){var n;return a(this,t),(n=o(this,t,[e])).name="IframeError",n;}return g(t,e),d(t,[{key:"is",value:function(e){return e instanceof t;}}],[{key:"DoesNotExist",value:function(e){return new t("Container for payment form with id: ".concat(e," does not exist"));}}]);}(C(Error)),Op=function(){return d(function e(t){var n=this;a(this,e),this.resolveResult=null,this.result=new Promise(function(e){return n.resolveResult=e;}),this.intervalId=setInterval(function(){t.isPresentInDOM()||(n.resolveResult(),clearInterval(n.intervalId));},50);},[{key:"destroy",value:function(){clearInterval(this.intervalId),this.resolveResult();}}]);}(),Mp=function(){function e(t,n,r,i,o){var s=this;a(this,e),this.id=t,this.defaultContainerId=r,this.merchantLogger=i,this.messageBus=o,this.state="Initial",this.isHidden=!0,this.containerId=this.defaultContainerId,this.integrityToken="",this.unmountObservers=[],this.loadCallbacks=[],this.loadErrorCallbacks=[],this.loadErrorValue="",this.element=document.createElement("iframe"),this.element.id=this.id,this.element.name=this.id,this.element.allow="payment *",Object.assign(this.element.style,this.applyVisibility({transition:"none",opacity:"0",position:"absolute"})),this.element.setAttribute("src",n),this.element.onload=function(){s.state="Loaded",s.runLoadedProbe();},this.state="Created";}return d(e,[{key:"mount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultContainerId,n=arguments.length>2?arguments[2]:void 0,r=document.getElementById(t);if(!r)return this.merchantLogger.error(Rp.DoesNotExist(t)),void(this.state="NoElement");r.appendChild(this.element),this.containerId=t,this.element.dataset.integrityToken=e,this.integrityToken=e,this.defaultWidth=n,this.state="Mounted";}},{key:"width",get:function(){var e;return(null===(e=this.element)||void 0===e?void 0:e.width)||"";}},{key:"height",get:function(){var e;return(null===(e=this.element)||void 0===e?void 0:e.height)||"";}},{key:"setIntentMetadata",value:function(e,t,n){this.element.dataset.intentId=e,this.element.dataset.intentHost=t,this.element.dataset.paymentType=n;}},{key:"resize",value:function(e){var t=e.height,n=e.width;this.element&&(this.element.height="".concat(t,"px"),this.element.width=this.defaultWidth?this.defaultWidth:"".concat(n,"px"));}},{key:"isPresentInDOM",value:function(){if("Destroyed"===this.state)return!1;var e=!1;if(this.element)try{var t=document.getElementById(this.element.id)||null;t&&(e=t.dataset.integrityToken===this.integrityToken);}catch(n){}return e||(this.state="Destroyed"),e;}},{key:"enableTransitions",value:function(){this.element&&Object.assign(this.element.style,this.applyVisibility({transition:"all 100ms"}));}},{key:"show",value:function(){this.isHidden=!1,this.element&&(Object.assign(this.element.style,this.applyVisibility({opacity:"1",position:"relative"})),this.element.style.height="",this.element.getBoundingClientRect());}},{key:"getWindow",value:function(){return window.frames[this.id];}},{key:"onLoad",value:function(e){this.element&&("LoadConfirmed"===this.state?e():this.loadCallbacks.push(e));}},{key:"onError",value:function(e){this.element&&("LoadFailed"===this.state?e(this.loadErrorValue):this.loadErrorCallbacks.push(e));}},{key:"destroy",value:function(){this.state="Destroyed",this.element.src="about:blank",this.unmountObservers.forEach(function(e){e.destroy();}),this.element&&this.element.remove();}},{key:"unmounted",value:function(){var e=new Op(this);return this.unmountObservers.push(e),e.result;}},{key:"handleLoadConfirmed",value:function(){this.state="LoadConfirmed",this.loadCallbacks.forEach(function(e){e();});}},{key:"handleLoadFailed",value:function(e){"Destroyed"!==this.state&&(this.loadErrorValue=e,this.state="LoadFailed",this.loadErrorCallbacks.forEach(function(t){t(e);}));}},{key:"applyVisibility",value:function(e){return this.isHidden?b(b({},e),{},{height:"0px"}):e;}},{key:"runLoadedProbe",value:function(){var t=this,n=null,r=null,i=e.getLoadConfirmationRequestSchedule(),o=function e(i){if(i.data&&i.data.type===Cp.LoadConfirmationResponse)return i.data.integrity===t.integrityToken?(t.handleLoadConfirmed(),t.messageBus.unsubscribe(e),n&&clearTimeout(n),void(r&&clearTimeout(r))):void 0;};n=setTimeout(function(){t.handleLoadFailed("Load confirmation timeout"),t.messageBus.unsubscribe(o),r&&clearTimeout(r);},e.LoadConfirmationTimeout),this.messageBus.subscribeForPublic(o);!function e(){var n=i.shift();void 0!==n&&(r=setTimeout(function(){t.messageBus.sendPublicMessage({type:Rl.LoadConfirmationRequest,integrity:t.integrityToken},t.getWindow()),e();},n));}();}}],[{key:"getLoadConfirmationRequestSchedule",value:function(){for(var t=[],n=0,r=0;n<e.LoadConfirmationTimeout;){var i=0;i=r<10?10:r<20?20:100,t.push(i),n+=i,r+=1;}return t;}}]);}();Mp.LoadConfirmationTimeout=5e3;var Lp,Np,Dp,Bp,Fp,Up,jp,$p,zp=function(){return d(function e(t,n,r){a(this,e),this.config=t,this.merchantLogger=n,this.messageBus=r,this.preloadIframe(),this.pendingIframe=this.makePendingIframe();},[{key:"getIframe",value:function(){var e=this.pendingIframe;return this.pendingIframe=this.makePendingIframe(),e;}},{key:"makePendingIframe",value:function(){var e=this.config,t=e.id,n=e.url,r=e.defaultContainerId;return new Mp(t,n,r,this.merchantLogger,this.messageBus);}},{key:"preloadIframe",value:function(){var e=this.config.url,t=document.createElement("link");t.rel="preload",t.as="document",t.href=e;}}]);}(),Hp=function(){return d(function e(){a(this,e);},[{key:"getSdkReferrer",value:function(){return document.referrer;}},{key:"getPageUrl",value:function(){var e;try{e=window.self!==window.top;}catch(t){e=!0;}return e?this.getPageUrlForIframe():this.getPageUrlForUsualPage();}},{key:"getPageUrlForIframe",value:function(){return document.referrer||this.getPageUrlForUsualPage();}},{key:"getPageUrlForUsualPage",value:function(){return window.location.href;}}]);}(),Wp={},qp={};function Vp(){if(Lp)return qp;Lp=1;var e=Ot();return qp.f=e,qp;}function Gp(){if(Dp)return Np;Dp=1;var e=O();return Np=e;}function Yp(){if($p)return Wp;$p=1;var e=Er(),t=O(),n=q(),r=De(),i=Et(),o=H(),a=Ye(),s=z(),c=At(),u=qe(),l=Gt(),d=$e(),f=Lt(),p=Ma(),h=Ne(),m=Ya(),g=ma(),y=Vn(),v=Eu(),b=kr(),_=Bt(),w=Yt(),k=Ga(),S=Le(),x=_n(),E=Yi(),C=Tt(),I=gn(),T=yn(),P=Rt(),A=Ot(),R=Vp(),M=function(){if(Fp)return Bp;Fp=1;var e=Gp(),t=At(),n=Vp(),r=Yt().f;return Bp=function(i){var o=e.Symbol||(e.Symbol={});t(o,i)||r(o,i,{value:n.f(i)});};}(),L=function(){if(jp)return Up;jp=1;var e=q(),t=We(),n=Ot(),r=_n();return Up=function(){var i=t("Symbol"),o=i&&i.prototype,a=o&&o.valueOf,s=n("toPrimitive");o&&!o[s]&&r(o,s,function(t){return e(a,this);},{arity:1});};}(),N=Gi(),D=vn(),B=Ea().forEach,F=I("hidden"),U="Symbol",j="prototype",$=D.set,W=D.getterFor(U),V=Object[j],G=t.Symbol,Y=G&&G[j],J=t.RangeError,K=t.TypeError,X=t.QObject,Z=_.f,Q=w.f,ee=v.f,te=S.f,ne=r([].push),re=C("symbols"),ie=C("op-symbols"),oe=C("wks"),ae=!X||!X[j]||!X[j].findChild,se=function(e,t,n){var r=Z(V,t);r&&delete V[t],Q(e,t,n),r&&e!==V&&Q(V,t,r);},ce=o&&s(function(){return 7!==m(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a;}})).a;})?se:Q,ue=function(e,t){var n=re[e]=m(Y);return $(n,{type:U,tag:e,description:t}),o||(n.description=t),n;},le=function(e,t,n){e===V&&le(ie,t,n),l(e);var r=f(t);return l(n),c(re,r)?(n.enumerable?(c(e,F)&&e[F][r]&&(e[F][r]=!1),n=m(n,{enumerable:h(0,!1)})):(c(e,F)||Q(e,F,h(1,m(null))),e[F][r]=!0),ce(e,r,n)):Q(e,r,n);},de=function(e,t){l(e);var r=d(t),i=g(r).concat(me(r));return B(i,function(t){o&&!n(fe,r,t)||le(e,t,r[t]);}),e;},fe=function(e){var t=f(e),r=n(te,this,t);return!(this===V&&c(re,t)&&!c(ie,t))&&(!(r||!c(this,t)||!c(re,t)||c(this,F)&&this[F][t])||r);},pe=function(e,t){var n=d(e),r=f(t);if(n!==V||!c(re,r)||c(ie,r)){var i=Z(n,r);return!i||!c(re,r)||c(n,F)&&n[F][r]||(i.enumerable=!0),i;}},he=function(e){var t=ee(d(e)),n=[];return B(t,function(e){c(re,e)||c(T,e)||ne(n,e);}),n;},me=function(e){var t=e===V,n=ee(t?ie:d(e)),r=[];return B(n,function(e){!c(re,e)||t&&!c(V,e)||ne(r,re[e]);}),r;};return a||(G=function(){if(u(Y,this))throw new K("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?p(arguments[0]):void 0,r=P(e),i=function(e){var o=void 0===this?t:this;o===V&&n(i,ie,e),c(o,F)&&c(o[F],r)&&(o[F][r]=!1);var a=h(1,e);try{ce(o,r,a);}catch(s){if(!(s instanceof J))throw s;se(o,r,a);}};return o&&ae&&ce(V,r,{configurable:!0,set:i}),ue(r,e);},x(Y=G[j],"toString",function(){return W(this).tag;}),x(G,"withoutSetter",function(e){return ue(P(e),e);}),S.f=fe,w.f=le,k.f=de,_.f=pe,y.f=v.f=he,b.f=me,R.f=function(e){return ue(A(e),e);},o&&(E(Y,"description",{configurable:!0,get:function(){return W(this).description;}}),i||x(V,"propertyIsEnumerable",fe,{unsafe:!0}))),e({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:G}),B(g(oe),function(e){M(e);}),e({target:U,stat:!0,forced:!a},{useSetter:function(){ae=!0;},useSimple:function(){ae=!1;}}),e({target:"Object",stat:!0,forced:!a,sham:!o},{create:function(e,t){return void 0===t?m(e):de(m(e),t);},defineProperty:le,defineProperties:de,getOwnPropertyDescriptor:pe}),e({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:he}),L(),N(G,U),T[F]=!0,Wp;}var Jp,Kp,Xp,Zp={};function Qp(){if(Kp)return Jp;Kp=1;var e=Ye();return Jp=e&&!!Symbol.for&&!!Symbol.keyFor;}var eh,th={};var nh,rh,ih,oh={};function ah(){if(ih)return oh;ih=1;var e=Er(),t=We(),n=Qi(),r=q(),i=De(),o=z(),a=ze(),s=Ke(),c=ro(),u=function(){if(rh)return nh;rh=1;var e=De(),t=Cr(),n=ze(),r=Be(),i=Ma(),o=e([].push);return nh=function(e){if(n(e))return e;if(t(e)){for(var a=e.length,s=[],c=0;c<a;c++){var u=e[c];"string"==typeof u?o(s,u):"number"!=typeof u&&"Number"!==r(u)&&"String"!==r(u)||o(s,i(u));}var l=s.length,d=!0;return function(e,n){if(d)return d=!1,n;if(t(this))return n;for(var r=0;r<l;r++)if(s[r]===e)return n;};}};}(),l=Ye(),d=String,f=t("JSON","stringify"),p=i(/./.exec),h=i("".charAt),m=i("".charCodeAt),g=i("".replace),y=i(1..toString),v=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,w=!l||o(function(){var e=t("Symbol")("stringify detection");return"[null]"!==f([e])||"{}"!==f({a:e})||"{}"!==f(Object(e));}),k=o(function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead");}),S=function(e,t){var i=c(arguments),o=u(t);if(a(o)||void 0!==e&&!s(e))return i[1]=function(e,t){if(a(o)&&(t=r(o,this,d(e),t)),!s(t))return t;},n(f,null,i);},x=function(e,t,n){var r=h(n,t-1),i=h(n,t+1);return p(b,e)&&!p(_,i)||p(_,e)&&!p(b,r)?"\\u"+y(m(e,0),16):e;};return f&&e({target:"JSON",stat:!0,arity:3,forced:w||k},{stringify:function(e,t,r){var i=c(arguments),o=n(w?S:f,null,i);return k&&"string"==typeof o?g(o,v,x):o;}}),oh;}var sh,ch,uh={};!function(){ch||(ch=1,Yp(),function(){if(Xp)return Zp;Xp=1;var e=Er(),t=We(),n=At(),r=Ma(),i=Tt(),o=Qp(),a=i("string-to-symbol-registry"),s=i("symbol-to-string-registry");e({target:"Symbol",stat:!0,forced:!o},{for:function(e){var i=r(e);if(n(a,i))return a[i];var o=t("Symbol")(i);return a[i]=o,s[o]=i,o;}});}(),function(){if(eh)return th;eh=1;var e=Er(),t=At(),n=Ke(),r=Xe(),i=Tt(),o=Qp(),a=i("symbol-to-string-registry");e({target:"Symbol",stat:!0,forced:!o},{keyFor:function(e){if(!n(e))throw new TypeError(r(e)+" is not a symbol");if(t(a,e))return a[e];}});}(),ah(),function(){if(sh)return uh;sh=1;var e=Er(),t=Ye(),n=z(),r=kr(),i=Pt();e({target:"Object",stat:!0,forced:!t||n(function(){r.f(1);})},{getOwnPropertySymbols:function(e){var t=r.f;return t?t(i(e)):[];}});}());}();var lh,dh={};!function(){if(lh)return dh;lh=1;var e=Er(),t=H(),n=O(),r=De(),i=At(),o=ze(),a=qe(),s=Ma(),c=Yi(),u=Sr(),l=n.Symbol,d=l&&l.prototype;if(t&&o(l)&&(!("description"in d)||void 0!==l().description)){var f={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),t=a(d,this)?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t;};u(p,l),p.prototype=d,d.constructor=p;var h="Symbol(description detection)"===String(l("description detection")),m=r(d.valueOf),g=r(d.toString),y=/^Symbol\((.*)\)[^)]+$/,v=r("".replace),b=r("".slice);c(d,"description",{configurable:!0,get:function(){var e=m(this);if(i(f,e))return"";var t=g(e),n=h?b(t,7,-1):v(t,y,"$1");return""===n?void 0:n;}}),e({global:!0,constructor:!0,forced:!0},{Symbol:p});}}();var fh=function(e){return!!e.url;};function ph(e,t){return Object.keys(e).some(function(n){return e[n]===t;});}var hh,mh=function(e){return e.FormSubmit="form_v2_submitted",e;}(mh||{}),gh=function(e){return e.Loading="form_loading",e.Filling="form_filling",e.Submit="form_submit",e.Form3d="form_3D",e.FormDSRP="form_dsrp",e.Errors="form_errors",e.After="form_after",e;}(gh||{}),yh=function(e){return e.Events="form_events",e;}(yh||{}),vh=function(){function e(t,n){var r=this;a(this,e),this.api=t,this.scriptSource=n,this.lastFormShownTime=0,this.lastGooglePayShowTime=0,this.lastApplePayShownTime=0,this.scriptLoadTimeEventsSend=0,this.formEventCustomization=p({},mh.FormSubmit,function(e){return b(b({},e),{},{value:"".concat(r.lastFormShownTime?Date.now()-r.lastFormShownTime:0)});});}return d(e,[{key:"getScriptLoadTime",value:function(){var e=this,t=this.getPerformance();if(!t||!t.getEntriesByType)return 0;var n=t.getEntriesByType("resource").find(function(t){return t.name===e.scriptSource;});return(null==n?void 0:n.duration)||null;}},{key:"getPerformance",value:function(){return window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||null;}},{key:"getPerformanceNow",value:function(){var e=this.getPerformance();try{var t;return(null==e||null===(t=e.now)||void 0===t?void 0:t.call(e))||0;}catch(n){return 0;}}},{key:"fromForm",value:function(e){var t=b({},e);delete t.type,Object.values(mh).includes(t.event)?this.api.send(this.formEventCustomization[t.event](t)):this.api.send(t);}},{key:"init",value:function(t,n,r){this.api.init({signature:t,entityValue:n,merchant:r,entityName:e.entityName});}},{key:"clear",value:function(){this.api.clear(),this.scriptLoadTimeEventsSend=0;}},{key:"cdnTest",value:function(e){var t=window?window._PAYMENT_PROVIDER_CDN_SPLIT_TEST_GROUP_:"";t&&this.api.send({event:"form_v2_cdn_split",category:yh.Events,level:gh.Loading,context:t,value:e});}},{key:"scriptLoadTime",value:function(){if(!(this.scriptLoadTimeEventsSend>=10)){this.scriptLoadTimeEventsSend=this.scriptLoadTimeEventsSend+1;var e=this.getScriptLoadTime();null!==e&&this.api.send({event:"form_v2_script_load_time",category:yh.Events,level:gh.Loading,value:e.toString(10)});}}},{key:"initNetworkError",value:function(e){e>0&&this.api.send({event:"form_v2_init_network_error",category:yh.Events,level:gh.Loading,value:e.toString(10)});}},{key:"resignInitTime",value:function(){var e=this,t=this.getPerformanceNow();return t?function(){e.lastFormShownTime=Date.now();var n=e.getPerformanceNow();e.api.send({event:"form_v2_resign_init_time",category:yh.Events,level:gh.Loading,value:(t-n).toString(10)});}:function(){};}},{key:"initTime",value:function(){var e=this,t=this.getPerformanceNow();return t?function(){e.lastFormShownTime=Date.now(),e.api.send({event:"form_v2_init_time",category:yh.Events,level:gh.Loading,value:(e.getPerformanceNow()-t).toString(10),context:(e.getPerformanceNow()-t).toString(10)});}:function(){};}},{key:"updateTime",value:function(){var e=this,t=this.getPerformanceNow();return t?function(){e.api.send({event:"form_v2_update_init",category:yh.Events,level:gh.Loading,value:(e.getPerformanceNow()-t).toString(10)});}:function(){};}},{key:"appleButtonMountTime",value:function(){var e=this,t=this.getPerformanceNow();return t?function(n){e.lastApplePayShownTime=Date.now(),e.api.send({event:"applebtn_mounted",category:yh.Events,level:gh.Loading,context:n,value:(e.getPerformanceNow()-t).toString(10)});}:function(){};}},{key:"googleButtonMountTime",value:function(){var e=this,t=this.getPerformanceNow();return t?function(){e.lastGooglePayShowTime=Date.now(),e.api.send({event:"googlebtn_mounted",category:yh.Events,level:gh.Loading,value:(e.getPerformanceNow()-t).toString(10)});}:function(){};}},{key:"paypalButtonMountTime",value:function(){var e=this,t=this.getPerformanceNow();return t?function(){e.api.send({event:"paypalbtn_mounted",category:yh.Events,level:gh.Loading,value:(e.getPerformanceNow()-t).toString(10)});}:function(){};}},{key:"paymentButtonClicked",value:function(e){this.api.send({event:"clicktopay"===e?"clicktopaybtn_clicked":"".concat(e,"btn_click"),category:yh.Events,level:gh.FormDSRP});}},{key:"paymentButtonPageOpened",value:function(e){this.api.send({event:"google"===e?"googlebtn_page_opened":"".concat(e,"btn_opened"),category:yh.Events,level:gh.FormDSRP});}},{key:"paymentButtonPageClosed",value:function(e){this.api.send({event:"google"===e?"googlebtn_page_closed":"".concat(e,"btn_closed"),category:yh.Events,level:gh.FormDSRP});}},{key:"paymentButtonSubmitted",value:function(e){this.api.send({event:"applepay"===e?"applepay_submitted":"google"===e?"googlebtn_page_submitted":"".concat(e,"btn_submitted"),category:yh.Events,level:gh.Submit,value:"applepay"===e?"".concat(this.lastApplePayShownTime?Date.now()-this.lastApplePayShownTime:0):"google"===e?"".concat(this.lastGooglePayShowTime?Date.now()-this.lastGooglePayShowTime:0):void 0});}},{key:"paymentButtonMounted",value:function(e){this.api.send({event:"".concat(e,"btn_mounted"),category:yh.Events,level:gh.Loading});}},{key:"updateIntentStarted",value:function(){this.api.send({event:"form_v2_intent_update",level:gh.Loading,category:yh.Events});}},{key:"domainsUsage",value:function(e){this.api.send({event:"request_v2_from_domain",level:gh.Loading,category:yh.Events,context:e.sdkReferrer,value:this.getDomainName(e.pageUrl)}),this.api.send({event:"request_v2_from_url",level:gh.Loading,context:e.sdkReferrer,category:yh.Events,value:e.pageUrl});}},{key:"powChallengeRequested",value:function(e,t){this.api.send({event:"form_v2_pow_challenge_requested",level:gh.Loading,category:yh.Events,value:e.toString(),context:t.toString()});}},{key:"powChallengeSolved",value:function(e,t){this.api.send({event:"form_v2_pow_challenge_solved",level:gh.Loading,category:yh.Events,value:e.toString(),context:t.toString()});}},{key:"powChallengeSolvingTimeExceeded",value:function(){this.api.send({event:"form_v2_pow_challenge_solving_time_exceeded",level:gh.Loading,category:yh.Events});}},{key:"getDomainName",value:function(e){if(e){var t=new URL(e).hostname.split(".").reverse();return t.length>=3&&t[1].match(/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i)?"".concat(t[2],".").concat(t[1],".").concat(t[0]):"".concat(t[1],".").concat(t[0]);}return"";}}]);}();vh.entityName="track_id";var bh=function(){function e(t,n,r,i){var o=this;a(this,e),this.context=t,this.tracking=n,this.logger=r,this.messageBus=i,this.messageBus.subscribeForPublic(function(e){o.withLogger(function(){o.processPublicMessage(e);});}),this.messageBus.subscribeForPrivate(function(e){o.withLogger(function(){o.processMessage(e,!0);});});}return d(e,[{key:"reset",value:function(){this.context.paymentButtonsInteractivity.release(e.START_CHECK_STATUS_INTERACTIVITY_LOCK),this.context.paymentButtonsInteractivity.release(e.EXTERNAL_INTERACTIVITY_LOCK);}},{key:"withLogger",value:function(e){try{e();}catch(t){t instanceof Error&&this.logger.error(ka.wrap(t,"Failed to process message"));}}},{key:"processPublicMessage",value:function(t){t.data&&t.data.type&&(ph(Cp,t.data.type)||ph(Rl,t.data.type)||ph(Ip,t.data.type))&&this.processMessage(t.data,e.isCrossOriginMessage(t));}},{key:"processMessage",value:function(e,t){switch(e.type){case Cp.Fail:this.handleFail();break;case Cp.Success:this.handleSuccess();break;case Cp.PrivateResize:this.handlePrivateResize(e,t);break;case Cp.Redirect:this.handleRedirect();break;case Cp.StartCheckStatus:this.handleStartCheckStatus(e);break;case Cp.AppleCompletePayment:this.handleAppleCompletePayment(e);break;case Cp.FormLoadingError:this.handleFormLoadingError(e);break;case Cp.PrivateInteraction:this.handleInteraction(e);break;case Cp.ModalStatusShown:this.handleModalStatusShown();break;case Cp.StatusPageShown:this.handleStatusPageShown();break;case Cp.PerformVerifyFlow:this.handlePerformVerifyFlow(e);break;case Cp.TokenRequest:this.handleTokenRequest(e);break;case Cp.Tracking:this.handleTracking(e);break;case Cp.ApmIntegrationUrl:this.handleApmIntegrationReturnUrl(e);break;case Cp.StartCardStatusPooling:this.handleStartCardStatusPooling(e);break;case Cp.LockInteractions:this.handleLockInteractions(e);break;case Cp.PoWSolutionUpdated:this.handlePoWSolutionUpdated(e);}}},{key:"handleFail",value:function(){var e,t;null===(e=this.context.threeDSFlow)||void 0===e||e.close(),null===(t=this.context.apmExternalIntegration)||void 0===t||t.close(),this.context.universalLinkHandler.close();}},{key:"handleSuccess",value:function(){var e,t;null===(e=this.context.threeDSFlow)||void 0===e||e.close(),null===(t=this.context.apmExternalIntegration)||void 0===t||t.close(),this.context.universalLinkHandler.close();}},{key:"handlePrivateResize",value:function(e,t){if(t){var n=this.context.resize(e),r=n.width,i=n.height;n.visible&&this.messageBus.sendPublicMessage({type:Rl.Resize,width:r,height:i});}}},{key:"handleRedirect",value:function(){var e,t;null===(e=this.context.paymentsButtons)||void 0===e||e.destroy(),null===(t=this.context.iframe)||void 0===t||t.show();}},{key:"handleStartCheckStatus",value:function(t){t.value?this.context.paymentButtonsInteractivity.acquire(e.START_CHECK_STATUS_INTERACTIVITY_LOCK):this.context.paymentButtonsInteractivity.release(e.START_CHECK_STATUS_INTERACTIVITY_LOCK);}},{key:"handleStartCardStatusPooling",value:function(e){var t;this.messageBus.sendPrivateMessage({type:Rl.StartCardStatusPooling},null===(t=this.context.iframe)||void 0===t?void 0:t.getWindow());}},{key:"handleLockInteractions",value:function(t){var n;this.messageBus.sendPrivateMessage({type:Rl.LockInteractions,value:t.value},null===(n=this.context.iframe)||void 0===n?void 0:n.getWindow()),t.value?this.context.paymentButtonsInteractivity.acquire(e.EXTERNAL_INTERACTIVITY_LOCK):this.context.paymentButtonsInteractivity.release(e.EXTERNAL_INTERACTIVITY_LOCK);}},{key:"handleAppleCompletePayment",value:function(e){var t;null===(t=this.context.paymentsButtons)||void 0===t||t.completeApplePayment(e.success);}},{key:"handleFormLoadingError",value:function(e){this.logger.error(new ka("Form loading error",{message:e.message}));}},{key:"handleInteraction",value:function(e){var t;null===(t=this.context.interactionsNotifier)||void 0===t||t.processFormMessage(e);}},{key:"handleModalStatusShown",value:function(){var e;null===(e=this.context.threeDSFlow)||void 0===e||e.close();}},{key:"handleStatusPageShown",value:function(){var e,t;null===(e=this.context.paymentsButtons)||void 0===e||e.destroy(),null===(t=this.context.iframe)||void 0===t||t.show();}},{key:"handlePerformVerifyFlow",value:function(e){this.context.choose3DSFlowScenario(e.verifyType,e.url,e.message);}},{key:"handleApmIntegrationReturnUrl",value:function(e){if(fh(e)&&e.integrity===this.context.integrityToken)this.context.openApmExternalIntegration(e.url);else if(function(e){return!!e.error;}(e)&&e.integrity===this.context.integrityToken){var t;this.messageBus.sendPrivateMessage({type:Rl.ApmIntegrationUrlErrorReceived,integrity:this.context.integrityToken,error:e.error},null===(t=this.context.iframe)||void 0===t?void 0:t.getWindow());}}},{key:"handleTokenRequest",value:function(e){this.context.sendTokenToForm(e.intentId);}},{key:"handleTracking",value:function(e){var t=this.context.getLastKnownIntentTracking();this.tracking.fromForm(b(b({},e),{},{entityName:vh.entityName,entityValue:null==t?void 0:t.trackId,signature:null==t?void 0:t.trackSignature}));}},{key:"handlePoWSolutionUpdated",value:function(e){e.integrity===this.context.integrityToken&&(this.context.powSolution=e.solution);}}],[{key:"isCrossOriginMessage",value:function(e){return!!window.location.origin&&e.origin!==window.location.origin;}}]);}();(hh=bh).START_CHECK_STATUS_INTERACTIVITY_LOCK=Symbol("start_check_status"),hh.EXTERNAL_INTERACTIVITY_LOCK=Symbol("external_interactivity");var _h,wh=function(e){return e.Default="default",e.Modal="modal",e.Tab="tab",e;}(wh||{}),kh=function(e){function t(e){var n;return a(this,t),(n=o(this,t,["Unable to init payment: ".concat(JSON.stringify(e))])).name="InitPaymentError",n.details=e,n;}return g(t,e),d(t);}(C(Error)),Sh={position:"relative",backgroundColor:"white",height:"100%",width:"100%"},xh={display:"none",transition:"opacity 0.2s ease-in",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:"2147483647",height:"100vh",width:"100vw",position:"fixed",opacity:"0",top:"0",left:"0",backgroundColor:"rgba(0, 0, 0, 0.8)"},Eh={height:"100%",width:"100%",borderRadius:"inherit",border:"none"},Ch=function(){return d(function e(t,n){a(this,e),this.iframeId=t,this.styles=n,this.iframe=null,this.modal=this.createModal();},[{key:"open",value:function(e){var t=this,n=e.url,r=e.onSuccess;this.iframe&&(this.iframe.src=n),r&&r(),this.modal.style.display="flex",setTimeout(function(){t.modal.style.opacity="1";},40);}},{key:"close",value:function(){var e=this;this.modal&&(setTimeout(function(){e.modal.style.opacity="0";},40),setTimeout(function(){try{Boolean(document)&&Boolean(document.body)&&document.body.contains(e.modal)&&document.body.removeChild(e.modal),e.iframe=null;}catch(t){}},300));}},{key:"getWindow",value:function(){return window.frames[this.iframeId];}},{key:"createModal",value:function(){var e,t,n=this.createIframe(),r=document.createElement("div");null!==(e=this.styles)&&void 0!==e&&e.modalBody&&Object.assign(r.style,this.styles.modalBody),r.appendChild(n);var i=document.createElement("div");return i.appendChild(r),null!==(t=this.styles)&&void 0!==t&&t.backdrop&&Object.assign(i.style,this.styles.backdrop),document.body.appendChild(i),i;}},{key:"createIframe",value:function(){var e,t=document.createElement("iframe");return t.setAttribute("test-id","iframe-modal-service-test-id"),t.id=this.iframeId,t.name=this.iframeId,t.allow="payment *",null!==(e=this.styles)&&void 0!==e&&e.iframe&&Object.assign(t.style,this.styles.iframe),this.iframe=t,t;}}]);}(),Ih=function(){return d(function e(t){a(this,e),this.uuid=t,this.modalService=new Ch("external-integration-tab-".concat(this.uuid()),{iframe:Eh,modalBody:Sh,backdrop:xh});},[{key:"open",value:function(e){this.modalService.open({url:e});}},{key:"close",value:function(){this.modalService.close();}}]);}(),Th=function(){return d(function e(){a(this,e),this.openedTab=null;},[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank";if(this.close(),this.openedTab=window.open(e,t),!this.openedTab||!this.openedTab.opener)throw new ka("Failed to open new tab",{url:e,target:t,reason:"Tab was blocked or failed to open"});}},{key:"close",value:function(){if(this.openedTab&&!this.openedTab.closed)try{this.openedTab.close();}catch(e){}this.openedTab=null;}},{key:"getOpenedTab",value:function(){return this.openedTab;}},{key:"isTabOpen",value:function(){return null!==this.openedTab&&!this.openedTab.closed;}}]);}(),Ph=function(){return d(function e(){a(this,e),this.tabService=new Th();},[{key:"open",value:function(e){this.tabService.open(e);}},{key:"close",value:function(){this.tabService.close();}}]);}(),Ah=function(){return d(function e(){a(this,e);},null,[{key:"getIntegration",value:function(e,t){return e.includes("pixvariant=modal")?new Ih(t):new Ph();}}]);}(),Rh=d(function e(){a(this,e);});(_h=Rh).toSnakeCase=function(e){return e.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase());});},_h.toCamelCase=function(e){return e.replace(/([-_][a-z])/gi,function(e){return e.toUpperCase().replace("-","").replace("_","");});};var Oh,Mh,Lh,Nh,Dh,Bh,Fh,Uh={};function jh(){return Mh?Oh:(Mh=1,Oh="\t\n\v\f\r                　\u2028\u2029\ufeff");}function $h(){if(Nh)return Lh;Nh=1;var e=De(),t=je(),n=Ma(),r=jh(),i=e("".replace),o=RegExp("^["+r+"]+"),a=RegExp("(^|[^"+r+"])["+r+"]+$"),s=function(e){return function(r){var s=n(t(r));return 1&e&&(s=i(s,o,"")),2&e&&(s=i(s,a,"$1")),s;};};return Lh={start:s(1),end:s(2),trim:s(3)};}function zh(){if(Bh)return Dh;Bh=1;var e=pn().PROPER,t=z(),n=jh();return Dh=function(r){return t(function(){return!!n[r]()||"​᠎"!=="​᠎"[r]()||e&&n[r].name!==r;});};}!function(){if(Fh)return Uh;Fh=1;var e=Er(),t=$h().trim;e({target:"String",proto:!0,forced:zh()("trim")},{trim:function(){return t(this);}});}();var Hh={type:"text",maxLength:100,mask:function(e){return e;},regexp:"^(?=.*\\S.{4,})[\\w\\s.,!?:;'\"()\\-]+$"};var Wh={type:"tel",maxLength:14,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{3})/,"$1.").replace(/(.{7})/,"$1.").replace(/(.{11})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{11,14}",validator:function(e){var t,n=e.replace(/[^\d]+/g,""),r=1;if(11!==n.length)return!1;for(t=0;t<n.length-1;t++)if(n.charAt(t)!==n.charAt(t+1)){r=0;break;}if(1===r)return!1;var i=n.substring(0,9),o=n.substring(9),a=0;for(t=10;t>1;t--)a+=parseInt(i.charAt(10-t))*t;var s=a%11<2?0:11-a%11;if(s.toString()!==o.charAt(0))return!1;for(i=n.substring(0,10),a=0,t=11;t>1;t--)a+=parseInt(i.charAt(11-t))*t;return(s=a%11<2?0:11-a%11).toString()===o.charAt(1);}};var qh,Vh,Gh,Yh,Jh,Kh,Xh,Zh,Qh,em,tm,nm,rm,im,om,am,sm,cm,um,lm,dm,fm,pm,hm,mm,gm,ym,vm;function bm(){if(Kh)return Jh;Kh=1;var e=function(){return Yh?Gh:(Yh=1,Gh=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break;}return t;};});}()();return Jh=e;}function _m(){if(em)return Qh;em=1;var e="object"==typeof I&&I&&I.Object===Object&&I;return Qh=e;}function wm(){if(nm)return tm;nm=1;var e=_m(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return tm=n;}function km(){if(im)return rm;im=1;var e=wm().Symbol;return rm=e;}function Sm(){if(lm)return um;lm=1;var e=km(),t=function(){if(am)return om;am=1;var e=km(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;return om=function(e){var t=n.call(e,i),o=e[i];try{e[i]=void 0;var a=!0;}catch(c){}var s=r.call(e);return a&&(t?e[i]=o:delete e[i]),s;};}(),n=function(){if(cm)return sm;cm=1;var e=Object.prototype.toString;return sm=function(t){return e.call(t);};}(),r=e?e.toStringTag:void 0;return um=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e);};}function xm(){if(fm)return dm;return fm=1,dm=function(e){return null!=e&&"object"==typeof e;};}function Em(){if(gm)return mm;gm=1;var e=function(){if(hm)return pm;hm=1;var e=Sm(),t=xm();return pm=function(n){return t(n)&&"[object Arguments]"==e(n);};}(),t=xm(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments;}())?e:function(e){return t(e)&&r.call(e,"callee")&&!i.call(e,"callee");};return mm=o;}var Cm,Im,Tm,Pm,Am,Rm,Om,Mm,Lm,Nm,Dm,Bm={exports:{}};function Fm(){return Tm||(Tm=1,function(e,t){var n=wm(),r=function(){return Im?Cm:(Im=1,Cm=function(){return!1;});}(),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;e.exports=s;}(Bm,Bm.exports)),Bm.exports;}function Um(){if(Om)return Rm;Om=1;return Rm=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991;};}Bm.exports;var jm,$m,zm,Hm,Wm,qm,Vm,Gm,Ym,Jm,Km,Xm,Zm,Qm,eg,tg,ng,rg,ig,og,ag,sg,cg,ug,lg,dg,fg,pg,hg,mg,gg,yg={exports:{}};function vg(){if(zm)return $m;zm=1;var e=function(){if(Lm)return Mm;Lm=1;var e=Sm(),t=Um(),n=xm(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,Mm=function(i){return n(i)&&t(i.length)&&!!r[e(i)];};}(),t=function(){return Dm?Nm:(Dm=1,Nm=function(e){return function(t){return e(t);};});}(),n=function(){return jm||(jm=1,function(e,t){var n=_m(),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,a=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util");}catch(e){}}();e.exports=a;}(yg,yg.exports)),yg.exports;}(),r=n&&n.isTypedArray,i=r?t(r):e;return $m=i;}function bg(){if(Wm)return Hm;Wm=1;var e=function(){return Zh?Xh:(Zh=1,Xh=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r;});}(),t=Em(),n=function(){if(vm)return ym;vm=1;var e=Array.isArray;return ym=e;}(),r=Fm(),i=function(){if(Am)return Pm;Am=1;var e=/^(?:0|[1-9]\d*)$/;return Pm=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n;};}(),o=vg(),a=Object.prototype.hasOwnProperty;return Hm=function(s,c){var u=n(s),l=!u&&t(s),d=!u&&!l&&r(s),f=!u&&!l&&!d&&o(s),p=u||l||d||f,h=p?e(s.length,String):[],m=h.length;for(var g in s)!c&&!a.call(s,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,m))||h.push(g);return h;};}function _g(){if(Km)return Jm;Km=1;var e=function(){return Ym?Gm:(Ym=1,Gm=function(e,t){return function(n){return e(t(n));};});}()(Object.keys,Object);return Jm=e;}function wg(){if(Zm)return Xm;Zm=1;var e=function(){if(Vm)return qm;Vm=1;var e=Object.prototype;return qm=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e);};}(),t=_g(),n=Object.prototype.hasOwnProperty;return Xm=function(r){if(!e(r))return t(r);var i=[];for(var o in Object(r))n.call(r,o)&&"constructor"!=o&&i.push(o);return i;};}function kg(){if(ng)return tg;ng=1;var e=Sm(),t=function(){return eg?Qm:(eg=1,Qm=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t);});}();return tg=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r;};}function Sg(){if(ag)return og;ag=1;var e=bg(),t=wg(),n=function(){if(ig)return rg;ig=1;var e=kg(),t=Um();return rg=function(n){return null!=n&&t(n.length)&&!e(n);};}();return og=function(r){return n(r)?e(r):t(r);};}function xg(){if(lg)return ug;lg=1;var e=function(){if(cg)return sg;cg=1;var e=bm(),t=Sg();return sg=function(n,r){return n&&e(n,r,t);};}();return ug=function(t,n,r,i){return e(t,function(e,t,o){n(i,r(e),t,o);}),i;};}yg.exports;var Eg=T(function(){if(gg)return mg;gg=1;var e=function(){return Vh?qh:(Vh=1,qh=function(e){return function(){return e;};});}(),t=function(){if(fg)return dg;fg=1;var e=xg();return dg=function(t,n){return function(r,i){return e(r,t,n(i),{});};};}(),n=function(){return hg?pg:(hg=1,pg=function(e){return e;});}(),r=Object.prototype.toString,i=t(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=r.call(t)),e[t]=n;},e(n));return mg=i;}());var Cg=new function(e){var t,n=e?e.preset:"ru",r={"а":"a","б":"b","в":"v","д":"d","з":"z","й":"y","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","ь":""};"ru"===n?Object.assign(r,{"г":"g","и":"i","ъ":"","ы":"i","э":"e"}):"uk"===n?Object.assign(r,{"г":"h","ґ":"g","е":"e","и":"y","і":"i","'":"","’":"","ʼ":""}):"mn"===n&&Object.assign(r,{"г":"g","ө":"o","ү":"u","и":"i","ы":"y","э":"e","ъ":""}),"ru"===n?t=Object.assign(Eg(r),{i:"и","":""}):("uk"===n||"mn"===n)&&(t=Object.assign(Eg(r),{"":""}));var i,o="ru"===n?{"е":"ye"}:{"є":"ye","ї":"yi"},a={"ё":"yo","ж":"zh","х":"kh","ц":"ts","ч":"ch","ш":"sh","щ":"shch","ю":"yu","я":"ya"},s=Object.assign({},a,o),c=Object.assign(Eg(s)),u=Object.assign(r,s),l=Object.assign({},r,{"й":"i"});"ru"===n?Object.assign(l,{"е":"e"}):"uk"===n?Object.assign(l,{"ї":"i"}):"mn"===n&&Object.assign(l,{"е":"e"}),"ru"===n?i=Object.assign(Eg(r),{i:"и",y:"ы",e:"е","":""}):"uk"===n&&(i=Object.assign(Eg(r),{"":""}));var d={};"uk"===n&&(d={"є":"ie","ю":"iu","я":"ia"});var f=Object.assign(a,d),p=Object.assign(Eg(f)),h=Object.assign(l,f);return{transform:function(e,t){if(!e)return"";for(var r=e.normalize(),i="",o=!1,a=0;a<r.length;a++){var s=r[a]===r[a].toUpperCase(),c=r[a].toLowerCase();if(" "!==c){var l=void 0;"uk"===n&&"зг"===r.slice(a-1,a+1).toLowerCase()?l="gh":0===a||o?(l=u[c],o=!1):l=h[c],void 0===l?i+=s?c.toUpperCase():c:s?l.length>1?i+=l[0].toUpperCase()+l.slice(1):i+=l.toUpperCase():i+=l;}else i+=t||" ",o=!0;}return i;},reverse:function(e,n){if(!e)return"";for(var r=e.normalize(),o="",a=!1,s=0;s<r.length;){var u=r[s]===r[s].toUpperCase(),l=r[s].toLowerCase(),d=s;if(" "!==l&&l!==n){var f=void 0,h=r.slice(s,s+2).toLowerCase();0===s||a?((f=c[h])?s+=2:(f=t[l],s++),a=!1):(f=p[h])?s+=2:(f=i[l],s++),"shch"===r.slice(d,d+4).toLowerCase()?(f="щ",s=d+4):"zgh"===r.slice(d-1,d+2).toLowerCase()&&(f="г",s=d+2),void 0===f?o+=u?l.toUpperCase():l:u?f.length>1?o+=f[0].toUpperCase()+f.slice(1):o+=f.toUpperCase():o+=f;}else o+=" ",a=!0,s++;}return o;}};}();var Ig={type:"text",maxLength:50,mask:function(e){return Cg.transform(e).replace(/\s\s+/g," ").replace(/^[^a-zA-Z]|\./g,"").replace(/[^a-zA-Z'\-. ]/g,"").toUpperCase();},regexp:"^\\w.{1,48}\\w$"};var Tg,Pg,Ag,Rg,Og={},Mg={};function Lg(){if(Pg)return Tg;Pg=1;var e=$h().start,t=zh();return Tg=t("trimStart")?function(){return e(this);}:"".trimStart;}!function(){if(Rg)return Og;Rg=1,function(){if(Ag)return Mg;Ag=1;var e=Er(),t=Lg();e({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==t},{trimLeft:t});}();var e=Er(),t=Lg();e({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==t},{trimStart:t});}();var Ng,Dg,Bg,Fg,Ug={cardPin:{type:"tel",maxLength:4,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{4}"},zip:{type:"tel",maxLength:function(e){return"USA"===(null==e?void 0:e.country)?10:5;},mask:function(e,t){return"USA"===(null==t?void 0:t.country)?e.replace(/[^\d]/g,"").replace(/(.{5})/,"$1-").replace(/\.$|-$/,""):e.replace(/[^\d]/g,"");},regexp:function(e){return"USA"===(null==e?void 0:e.country)?"^[0-9]{5}(?:[0-9]{4})?$":"[0-9]{5}";}},billingAddress:Hh,billingCity:{type:"text",maxLength:100,mask:function(e){return e;},regexp:"^(?=(.*[a-zA-Z]){2})[a-zA-Z\\s'-]+$"},billingState:{type:"text",maxLength:100,mask:function(e){return e;},regexp:"^(?=(.*[a-zA-Z]){2})[a-zA-Z\\s]+$"},cardHolder:Ig,argentinaDni:{type:"tel",maxLength:11,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{2})/,"$1.").replace(/(.{6})/,"$1.").replace(/\.$|-$/,"");},regexp:"[0-9]{7,9}"},bangladeshNic:{type:"tel",maxLength:19,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{3})/,"$1 ").replace(/(.{7})/,"$1 ").trim();},regexp:"[0-9]{13,17}"},boliviaCi:{type:"tel",maxLength:22,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{2})/,"$1.").replace(/(.{6})/,"$1.").replace(/\.$|-$/,"");},regexp:"[0-9]{5,20}"},brazilCpf:Wh,cameroonCni:{type:"tel",maxLength:8,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{8}"},chileCi:{type:"tel",maxLength:10,mask:function(e){var t=e.toUpperCase();return"-"===t.charAt(t.length-1)&&(t=t.slice(0,t.length-1)),8!==t.length||t.includes("-")||(t="".concat(t.slice(0,7),"-").concat(t.slice(7,8))),9!==t.length||t.includes("-")||(t="".concat(t.slice(0,8),"-").concat(t.slice(8,9))),"-"===(t=t.split("").filter(function(e,t){return!("-"===e&&![7,8].includes(t));}).join("")).charAt(7)&&"-"===t.charAt(8)&&(t="".concat(t.slice(0,7)).concat(t.slice(8,t.length))),"-"===t.charAt(7)&&10===t.length&&(t="".concat(t.slice(0,7)).concat(t.charAt(8),"-").concat(t.charAt(9))),t.replace(/[^a-zA-Z0-9-]/g,"");},regexp:"[a-zA-Z0-9]{8,9}"},chinaId:{type:"tel",maxLength:20,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{5,20}"},pakistanCnic:{type:"tel",maxLength:15,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{5})/,"$1-").replace(/(.{13})/,"$1-").replace(/-$/,"");},regexp:"^[0-9]{13}$"},colombiaCc:{type:"tel",maxLength:10,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{6,10}"},costaRicaCi:{type:"tel",maxLength:11,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{1})/,"$1 ").replace(/(.{6})/,"$1 ").trim();},regexp:"[0-9]{9}"},dominicanaId:{type:"tel",maxLength:13,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{3})/,"$1-").replace(/(.{11})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{11}"},ecuadorCi:{type:"tel",maxLength:22,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{4})/,"$1.").replace(/(.{7})/,"$1.").replace(/\.$|-$/,"");},regexp:"[0-9]{5,20}"},elSalvadorId:{type:"tel",maxLength:11,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{9,11}"},firstName:{type:"text",maxLength:100,mask:function(e){return e.replace(/[^A-Za-z\s]/g,"");},regexp:"^[A-Za-z\\s]{1,100}$"},lastName:{type:"text",maxLength:100,mask:function(e){return e.replace(/[^A-Za-z\s]/g,"");},regexp:"^[A-Za-z\\s]{1,100}$"},egyptId:{type:"tel",maxLength:19,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{1})/,"$1 ").replace(/(.{4})/,"$1 ").replace(/(.{7})/,"$1 ").replace(/(.{10})/,"$1 ").replace(/(.{13})/,"$1 ").trim();},regexp:"[0-9]{14}"},ghanaCard:{type:"tel",maxLength:13,mask:function(e){return e.replace(/[^\da-zA-Z]/g,"").toUpperCase();},regexp:"[a-zA-Z0-9]{13}"},guatemalaCui:{type:"tel",maxLength:15,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{4})/,"$1 ").replace(/(.{10})/,"$1 ").trim();},regexp:"[0-9]{13}"},indiaPan:{type:"text",maxLength:12,mask:function(e){return e.replace(/[^\da-zA-Z]/g,"").replace(/(.{5})/,"$1 ").replace(/(.{10})/,"$1 ").toUpperCase().trim();},regexp:"[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}"},indonesiaNik:{type:"tel",maxLength:20,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{2})/,"$1 ").replace(/(.{5})/,"$1 ").replace(/(.{8})/,"$1 ").replace(/(.{15})/,"$1 ").trim();},regexp:"[0-9]{16}"},japanId:{type:"tel",maxLength:12,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{12}"},kenyaId:{type:"tel",maxLength:8,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{8}"},malaysiaNric:{type:"tel",maxLength:14,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{6})/,"$1-").replace(/(.{9})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{12}"},mexicoCurp:{type:"text",maxLength:18,mask:function(e){return e.replace(/[^\da-zA-Z]/g,"").toUpperCase();},regexp:"[a-zA-Z0-9]{10,18}"},moroccoCnie:{type:"text",maxLength:20,mask:function(e){return e.replace(/[^\da-zA-Z]/g,"").toUpperCase();},regexp:"[a-zA-Z0-9]{5,20}"},nigeriaNin:{type:"tel",maxLength:11,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{11}"},panamaId:{type:"tel",maxLength:10,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{1})/,"$1-").replace(/(.{5})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{8}"},paraguayCi:{type:"tel",maxLength:20,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{5,20}"},peruDni:{type:"tel",maxLength:9,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{8,9}"},philipinesPsn:{type:"tel",maxLength:14,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{4})/,"$1-").replace(/(.{12})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{12}"},senegalCni:{type:"tel",maxLength:17,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{13,17}"},southAfricaId:{type:"tel",maxLength:13,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{13}"},tanzaniaId:{type:"tel",maxLength:23,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{8})/,"$1-").replace(/(.{14})/,"$1-").replace(/(.{20})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{20}"},thailandId:{type:"tel",maxLength:17,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{1})/,"$1 ").replace(/(.{6})/,"$1 ").replace(/(.{12})/,"$1 ").replace(/(.{15})/,"$1 ").trim();},regexp:"[0-9]{13}"},turkeyTcKimlikNo:{type:"tel",maxLength:20,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{5,20}"},ugandaNic:{type:"tel",maxLength:14,mask:function(e){return e.replace(/[^\da-zA-Z]/g,"").toUpperCase();},regexp:"[a-zA-Z0-9]{14}"},uriguayCi:{type:"tel",maxLength:8,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{6,8}"},vietnamVnid:{type:"tel",maxLength:12,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"^[0-9]{9}$|^[0-9]{12}$"},indianCustomerPhone:{type:"tel",maxLength:15,regexp:"(\\+91[\\-\\s]?)?[0]?(91)?[789]\\d{9}",mask:function(e){return e.replace(/[^+?\-?(?)?\d?]/,"");}},gbrPostalCode:{type:"tel",maxLength:8,mask:function(e){var t=e.replace(/[^\w]/gi,""),n=new RegExp("^[0-9]{1,8}$").test(t),r=e.replace(/[^\w ]/g,"").trimStart().toUpperCase();return n?r.slice(0,5):r;},regexp:function(){return"^(([A-Z]{1,2}\\d[A-Z\\d]?|ASCN|STHL|TDCU|BBND|[BFS]IQQ|PCRN|TKCA) ?\\d[A-Z]{2}|BFPO ?\\d{1,4}|(KY\\d|MSR|VG|AI)[ -]?\\d{4}|[A-Z]{2} ?\\d{2}|GE ?CX|GIR ?0A{2}|SAN ?TA1)$|^[0-9]{5}$";},isOptional:!0},brazilCustomerPhone:{type:"tel",maxLength:10,mask:function(e){return e.replace(/[^\d]/g,"").trim();},regexp:"^[0-9]{5}[0-9]{5}$"},brazilZip:{type:"text",maxLength:9,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{5})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{8}"},indiaZip:{type:"tel",maxLength:6,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{6}"},customerPhone:{type:"tel",maxLength:18,mask:function(e){return e.replace(/[^\d]/g,"").trim();},regexp:"^[0-9]{8,18}$"}},jg=function(e){return e.Verve="verve",e.Visa="visa",e.Mastercard="mastercard",e.Maestro="maestro",e.AmericanExpress="american-express",e.Jcb="jcb",e.DinersClub="diners-club",e.Discover="discover",e.Aura="aura",e.Elo="elo",e.Hipercard="hipercard",e.CartesBancaires="cartes-bancaires",e.Rupay="rupay",e.BCCard="bc-card",e.UnionPay="unionpay",e.Dankort="dankort",e.GPNCard="gpn-card",e.Troy="troy",e.ThaiPaymentNetwork="thai-payment-network",e.MADA="mada",e.Bancontact="bancontact",e.Interac="interac",e.Bajaj="bajaj",e.Paypal="paypal",e;}(jg||{}),$g=function(e){return e.Apple="apple",e.Google="google",e;}($g||{}),zg=Object.keys(Ug),Hg={};!function(){if(Bg)return Hg;Bg=1;var e=Er(),t=Et(),n=H(),r=O(),i=Gp(),o=De(),a=xr(),s=At(),c=Tc(),u=qe(),l=Ke(),d=Mt(),f=z(),p=Vn().f,h=Bt().f,m=Yt().f,g=function(){if(Dg)return Ng;Dg=1;var e=De();return Ng=e(1..valueOf);}(),y=$h().trim,v="Number",b=r[v],_=i[v],w=b.prototype,k=r.TypeError,S=o("".slice),x=o("".charCodeAt),E=function(e){var t,n,r,i,o,a,s,c,u=d(e,"number");if(l(u))throw new k("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=y(u),43===(t=x(u,0))||45===t){if(88===(n=x(u,2))||120===n)return NaN;}else if(48===t){switch(x(u,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u;}for(a=(o=S(u,2)).length,s=0;s<a;s++)if((c=x(o,s))<48||c>i)return NaN;return parseInt(o,r);}return+u;},C=a(v,!b(" 0o1")||!b("0b1")||b("+0x1")),I=function(e){var t=arguments.length<1?0:b(function(e){var t=d(e,"number");return"bigint"==typeof t?t:E(t);}(e));return function(e){return u(w,e)&&f(function(){g(e);});}(this)?c(Object(t),this,I):t;};I.prototype=w,C&&!t&&(w.constructor=I),e({global:!0,constructor:!0,wrap:!0,forced:C},{Number:I});var T=function(e,t){for(var r,i=n?p(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;i.length>o;o++)s(t,r=i[o])&&!s(e,r)&&m(e,r,h(t,r));};t&&_&&T(i[v],_),(C||t)&&T(i[v],b);}();var Wg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DEFAULT_CONFIG,r=arguments.length>2?arguments[2]:void 0;a(this,e),this.requestInit=t,this.config=n,this.injectedFetch=fetch.bind(window),r&&(this.injectedFetch=r),this.shouldRepeat=n.shouldRepeat||e.DEFAULT_CONFIG.shouldRepeat;}return d(e,[{key:"execute",value:function(){return this.doRequest(this.requestInit,this.config);}},{key:"isOnline",value:function(){return"undefined"==typeof window||!("onLine"in window.navigator)||window.navigator.onLine;}},{key:"doRequest",value:function(){var e=i(_().mark(function e(t,n){var r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.times<=0)){e.next=2;break;}return e.abrupt("return",Promise.reject());case 2:if(!this.config.whenOnline||this.isOnline()||!this.shouldRepeat(null)){e.next=4;break;}return e.abrupt("return",this.repeatWhenOnline(t,n));case 4:return e.prev=4,e.next=7,this.injectedFetch(t.url,t);case 7:r=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),r={ok:!1};case 13:if(!this.shouldRepeat(r.status||null)){e.next=18;break;}return e.abrupt("return",this.repeatWithTimeout(t,n));case 18:return e.abrupt("return",r);case 19:case"end":return e.stop();}},e,this,[[4,10]]);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"repeatWithTimeout",value:function(t,n){var r=this;return new Promise(function(i,o){setTimeout(function(){return r.doRequest(t,b(b({},n),{},{times:n.times-1,time:2*n.time})).then(i).catch(o);},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.floor(Math.random()*(e+t))+e;}(Math.min(n.time,n.maxTime||e.DEFAULT_CONFIG.maxTime)));});}},{key:"repeatWhenOnline",value:function(e,t){var n=this;return new Promise(function(r,i){window.addEventListener("online",function(){n.doRequest(e,t).then(r).catch(i);},{once:!0});});}}]);}();(Fg=Wg).DEFAULT_CONFIG={times:6,time:2e3,maxTime:Number.POSITIVE_INFINITY,whenOnline:!0,shouldRepeat:function(e){return null===e||e>=300;}},Fg.TOO_MANY_REQUESTS_CONFIG={times:5,time:100,maxTime:600,whenOnline:!1,shouldRepeat:function(e){return 429===e;}};var qg,Vg=function(){return d(function e(){a(this,e);},null,[{key:"appendStyles",value:function(e,t){var n=document.getElementById(e);n&&n.remove();var r=document.createElement("style");r.id=e,r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r);}}]);}(),Gg=function(){function e(t,n,r,i,o){var s=this;a(this,e),this.data=t,this.defaultMerchantName=n,this.callbacks=r,this.apiTransport=i,this.logger=o,this.defaultButtonType="default",this.session=null,this.resolveElement=function(){return null;},this.rejectElement=function(){return null;},this.elementPromise=new Promise(function(e,t){s.resolveElement=e,s.rejectElement=t;});var c=t.amount,u=t.countryCode,l=t.collectZipCode,d=t.currency,f=t.createSessionUrl,p=t.buttonColor,h=t.language,m=t.merchantName,g=t.supportedNetworks,y=t.collectEmail,v=t.collectCardholderName;this.merchantName=m||"",this.totalPrice=c,this.countryCode=u,this.currencyCode=d,this.buttonColor=p||e.defaultButtonColor,this.language=h,this.createSessionUrl=f,this.supportedNetworks=g||e.supportedNetworks,this.merchantCapabilities=["supports3DS"],this.collectEmail=y,this.collectZipCode=l,this.collectCardholderName=v;}return d(e,[{key:"element",get:function(){return this.elementPromise;}},{key:"buttonType",get:function(){return this.data.buttonType||this.defaultButtonType;}},{key:"init",value:function(){if(e.isPossibleToMakePayments()){this.callbacks.beforeMount(),this.appendApplePayStyles();var t=document.createElement("div");t.id=e.buttonId,t.className=this.getButtonClassName(),t.onclick=this.onApplePayClick.bind(this),this.language&&t.setAttribute("lang",this.language),this.resolveElement(t),this.callbacks.mounted();}else this.reject();}},{key:"destroy",value:function(){try{var e;null===(e=this.session)||void 0===e||e.abort();}catch(t){}}},{key:"completePayment",value:function(e){try{var t,n;if(e)null===(t=this.session)||void 0===t||t.completePayment(ApplePaySession.STATUS_SUCCESS);else null===(n=this.session)||void 0===n||n.completePayment(ApplePaySession.STATUS_FAILURE);}catch(r){}this.session=null;}},{key:"updateAmount",value:function(e){var t,n=String(e);this.totalPrice!==n&&(null===(t=this.session)||void 0===t||t.abort(),this.totalPrice=n);}},{key:"updateCurrency",value:function(e){var t;this.currencyCode!==e&&(null===(t=this.session)||void 0===t||t.abort(),this.currencyCode=e);}},{key:"updateAppearance",value:function(){var t=i(_().mark(function t(n){var r,i,o;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.elementPromise;case 2:(r=t.sent)&&(i=n.buttonType,o=n.buttonColor,this.buttonColor=o||e.defaultButtonColor,this.data.buttonType=i||this.defaultButtonType,r.className=this.getButtonClassName(),r.removeAttribute("style"),this.appendApplePayStyles());case 4:case"end":return t.stop();}},t,this);}));return function(e){return t.apply(this,arguments);};}()},{key:"reject",value:function(){this.rejectElement();}},{key:"onApplePayClick",value:function(){var e=this,t=this.totalPrice,n={countryCode:this.countryCode,currencyCode:this.currencyCode,supportedNetworks:this.supportedNetworks,merchantCapabilities:this.merchantCapabilities,requiredShippingContactFields:this.createRequiredShippingContactFields(),total:{label:this.merchantName||this.defaultMerchantName,amount:t}};this.collectZipCode&&(n.requiredBillingContactFields=["postalAddress"]),this.callbacks.click&&this.callbacks.click(),this.session=new ApplePaySession(3,n),this.session.begin(),this.session.onvalidatemerchant=this.onValidateMerchant.bind(this),this.session.onpaymentauthorized=this.onPaymentAuthorized.bind(this),this.session.oncancel=function(){e.session=null,e.callbacks.pageClosed();};}},{key:"createRequiredShippingContactFields",value:function(){var e=[];return this.collectEmail&&e.push("email"),this.collectCardholderName&&e.push("name"),e;}},{key:"onValidateMerchant",value:function(){var e=i(_().mark(function e(t){var n,r,i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.apiTransport({url:this.createSessionUrl,method:"POST",body:JSON.stringify({validationUrl:t.validationURL,domain:this.getTopWindowDomain()})});case 3:return r=e.sent,e.next=6,r.json();case 6:(n=e.sent)&&(null===(i=this.session)||void 0===i||i.completeMerchantValidation(n),this.callbacks.pageOpened()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),this.callbacks.pageClosed(),this.destroy();case 14:case"end":return e.stop();}},e,this,[[0,10]]);}));return function(t){return e.apply(this,arguments);};}()},{key:"onPaymentAuthorized",value:function(){var e=i(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.payment.token)this.callbacks.pay(b(b({},t.payment.token),{},{shippingContact:t.payment.shippingContact,billingContact:t.payment.billingContact}));else try{this.callbacks.pageClosed(),null===(n=this.session)||void 0===n||n.completePayment(ApplePaySession.STATUS_FAILURE);}catch(r){}case 1:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"getApplePayStyles",value:function(){var e=".apple-pay-button-".concat(this.buttonColor," {\n      background-image: -webkit-named-image(apple-pay-logo-black);\n      background-color: white;\n      border: .5px solid black;\n    }"),t=".apple-pay-button-".concat(this.buttonColor," {\n      background-image: -webkit-named-image(apple-pay-logo-").concat("white"===this.buttonColor?"black":"white",");\n      background-color: ").concat(this.buttonColor,";\n    }");return"\n    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}\n    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}\n\n    @supports (-webkit-appearance: -apple-pay-button) {\n      .apple-pay-button {\n        cursor: pointer;\n        height: inherit;\n        border-radius: 4px;\n        -webkit-appearance: -apple-pay-button;\n        -apple-pay-button-type: ".concat(this.buttonType,";\n      }\n      .apple-pay-button-").concat(this.buttonColor," {\n        -apple-pay-button-style: ").concat(this.buttonColor,";\n      }\n    }\n    @supports not (-webkit-appearance: -apple-pay-button) {\n      .apple-pay-button {\n        border-radius: 4px;\n        cursor: pointer;\n        background-size: 100% 60%;\n        background-repeat: no-repeat;\n        background-position: 50% 50%;\n        padding: 0;\n        box-sizing: border-box;\n        max-height: 640px;\n      }\n      ").concat("white-outline"===this.buttonColor?e:t,"\n    }\n  ");}},{key:"getButtonClassName",value:function(){return"apple-pay-button apple-pay-button-".concat(this.buttonColor);}},{key:"appendApplePayStyles",value:function(){Vg.appendStyles(e.applePayCssId,this.getApplePayStyles());}},{key:"getTopWindowDomain",value:function(){var e;try{e=window.self!==window.top;}catch(n){e=!0;}var t=e&&document.referrer||window.location.href;return new URL(t).hostname;}}],[{key:"isPossibleToMakePayments",value:function(){var e=!1;try{var t;e=!!window.ApplePaySession&&(null===(t=ApplePaySession)||void 0===t?void 0:t.canMakePayments());}catch(n){}return e;}}]);}();(qg=Gg).applePayCssId="apple-pay-style-id",qg.supportedNetworks=["visa","masterCard","amex","discover","jcb"],qg.forbiddenTypes=["donate","support","rent","contribute","tip"],qg.defaultButtonColor="default",qg.buttonId="apple-pay";var Yg,Jg=function(){return d(function e(){a(this,e);},null,[{key:"prefetch",value:function(e,t){if(!document.getElementById(t)){var n=document.createElement("link");n.rel="prefetch",n.id=t,n.href=e,document.head.appendChild(n);}}},{key:"loadScript",value:function(e,t,n){return new Promise(function(r,i){var o=document.getElementById(t);if(o)o.hasAttribute("loaded")?r():o.addEventListener("load",function(){return r();});else{var a=document.createElement("script");a.id=t,a.type="text/javascript",a.src=e,a.async=!0,a.defer=!0,Object.assign(a,n),a.onload=function(){a.setAttribute("loaded","true"),r();},a.onerror=function(e,t,n,r,o){i({source:t,lineno:n,colno:r,error:e,error2:o}),a.remove();};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(a,s);}});}},{key:"loadStyles",value:function(e,t){return new Promise(function(n,r){if(document.getElementById(t))n();else{var i=document.createElement("link");i.id=t,i.rel="stylesheet",i.href=e,i.onload=function(){return n();},i.onerror=function(e){return r(e);},document.head.appendChild(i);}});}}]);}(),Kg=function(e){function t(){var e;return a(this,t),(e=o(this,t,arguments)).defaultButtonType="plain",e;}return g(t,e),d(t,[{key:"init",value:function(){var e=this;this.callbacks.beforeMount(),Jg.loadScript(t.src,"apple-pay-script-id").then(function(){return e.onApplePayLoaded();}).catch(function(t){e.logger.error(new ka("load apple pay script"),t),e.reject();});}},{key:"onApplePayLoaded",value:function(){if(Gg.isPossibleToMakePayments()){this.addStyles();var e=document.createElement("apple-pay-button");e.setAttribute("type",this.buttonType),e.setAttribute("buttonstyle",this.buttonColor),e.style.height="inherit",e.addEventListener("click",this.onApplePayClick.bind(this)),this.language&&e.setAttribute("locale",this.language),this.resolveElement(e),this.callbacks.mounted();}else this.reject();}},{key:"updateAppearance",value:function(){var e=i(_().mark(function e(t){var n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementPromise;case 2:n=e.sent,t.buttonType&&n.setAttribute("type",t.buttonType),t.buttonColor&&n.setAttribute("buttonstyle",t.buttonColor);case 5:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"addStyles",value:function(){Vg.appendStyles("apple-pay-js-style","\n       apple-pay-button {\n        --apple-pay-button-height: 100%;\n      }\n    ");}}],[{key:"prefetch",value:function(){Jg.prefetch(this.src,"apple-pay-prefetch-id");}}]);}(Gg);Kg.src="https://applepay.cdn-apple.com/jsapi/1.latest/apple-pay-sdk.js";var Xg=function(){function e(t,n,r,i){var o=this;a(this,e),this.buttonCss=n,this.callbacks=r,this.paymentsClient=null,this.baseRequest={apiVersion:2,apiVersionMinor:0},this.tokenizationSpecification={type:"PAYMENT_GATEWAY",parameters:{gateway:atob("c29saWQ="),gatewayMerchantId:""}},this.logger={error:function(){},warning:function(){}},this.resolveElement=function(){return null;},this.rejectElement=function(){return null;},this.elementPromise=new Promise(function(e,t){o.resolveElement=e,o.rejectElement=t;});var s=t.amount,c=t.countryCode,u=t.currency,l=t.env,d=t.gatewayMerchantId,f=t.merchantId,p=t.merchantName,h=t.language,m=t.buttonColor,g=t.buttonType,y=t.allowedAuthMethods,v=t.emailRequired,b=t.zipCodeRequired,_=t.collectCardholderName;this.totalPrice=String(s),this.countryCode=c,this.currencyCode=u,this.env=l,this.merchantName=p,this.merchantId=f,this.language=h,this.buttonColor=m||"black",this.buttonType=g,this.emailRequired=v,this.zipCodeRequired=b,this.baseCardPaymentMethod=e.getBaseCardPaymentMethod(y),(!!_||this.zipCodeRequired)&&(this.baseCardPaymentMethod.parameters.billingAddressRequired=!0,this.baseCardPaymentMethod.parameters.billingAddressParameters={format:"MIN"}),this.tokenizationSpecification.parameters.gatewayMerchantId=d,i&&(this.logger=i);}return d(e,[{key:"element",get:function(){return this.elementPromise;}},{key:"init",value:function(){var t=this;this.callbacks.beforeMount(),this.buttonCss&&Vg.appendStyles("google-pay-style-id",this.buttonCss),Jg.loadScript(e.src,"google-pay-script-id").then(function(){return t.onGooglePayLoaded();}).catch(function(e){t.logger.error(new ka("load google pay script"),e),t.reject();});}},{key:"updateAmount",value:function(e){this.totalPrice=String(e);}},{key:"updateCurrency",value:function(e){this.currencyCode=e;}},{key:"reject",value:function(){this.callbacks.mountFailed&&this.callbacks.mountFailed(),this.rejectElement();}},{key:"onGooglePayLoaded",value:function(){var e=i(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(google){e.next=4;break;}return this.logger.error(new ka("Google pay loaded but no api")),this.reject(),e.abrupt("return");case 4:return e.prev=4,t=this.getGooglePaymentsClient(),e.next=8,t.isReadyToPay(this.getGoogleIsReadyToPayRequest());case 8:e.sent.result&&(this.addGooglePayButton(),this.prefetchGooglePaymentData()),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),this.reject(),this.logger.error(ka.wrap(e.t0,"while creating api",{err:e.t0}));case 16:case"end":return e.stop();}},e,this,[[4,12]]);}));return function(){return e.apply(this,arguments);};}()},{key:"getGooglePaymentsClient",value:function(){return null===this.paymentsClient&&(this.paymentsClient=new google.payments.api.PaymentsClient({environment:this.env})),this.paymentsClient;}},{key:"getGoogleIsReadyToPayRequest",value:function(){return b(b({},this.baseRequest),{},{allowedPaymentMethods:[this.baseCardPaymentMethod]});}},{key:"addGooglePayButton",value:function(){try{var e=this.getGooglePaymentsClient().createButton({onClick:this.onGooglePaymentButtonClicked.bind(this),buttonColor:this.buttonColor,buttonType:this.buttonType,buttonLocale:this.language,buttonSizeMode:"fill"});this.resolveElement(e),this.callbacks.mounted();}catch(t){this.logger.error(t),this.rejectElement();}}},{key:"onGooglePaymentButtonClicked",value:function(){var e=i(_().mark(function e(){var t,n,r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.getGooglePaymentDataRequest()).transactionInfo=this.getGoogleTransactionInfo(),e.prev=2,n=this.getGooglePaymentsClient(),this.callbacks.pageOpened(),e.next=7,n.loadPaymentData(t);case 7:r=e.sent,this.processPayment(r),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),this.logger.error(ka.wrap(e.t0,"while loading payment data",{err:e.t0})),this.callbacks.pageClosed();case 15:case"end":return e.stop();}},e,this,[[2,11]]);}));return function(){return e.apply(this,arguments);};}()},{key:"getGoogleTransactionInfo",value:function(){return{countryCode:this.countryCode,currencyCode:this.currencyCode,totalPriceStatus:e.TotalPriceStatus.final,totalPriceLabel:"Total",totalPrice:this.totalPrice};}},{key:"getGooglePaymentDataRequest",value:function(){return b(b({},this.baseRequest),{},{emailRequired:this.emailRequired,allowedPaymentMethods:[b(b({},this.baseCardPaymentMethod),{},{tokenizationSpecification:this.tokenizationSpecification})],transactionInfo:this.getGoogleTransactionInfo(),merchantInfo:{merchantName:this.merchantName,merchantId:this.merchantId}});}},{key:"prefetchGooglePaymentData",value:function(){var t=this.getGooglePaymentDataRequest();t.transactionInfo={totalPrice:"",totalPriceStatus:e.TotalPriceStatus.unknown,currencyCode:"USD"},this.getGooglePaymentsClient().prefetchPaymentData(t);}},{key:"processPayment",value:function(e){var t;this.callbacks.pay(JSON.stringify(b(b({},JSON.parse(e.paymentMethodData.tokenizationData.token)),{},{email:e.email,billingAddress:(null===(t=e.paymentMethodData.info)||void 0===t?void 0:t.billingAddress)||null})));}}],[{key:"getBaseCardPaymentMethod",value:function(e){return{type:"CARD",parameters:{allowedAuthMethods:e||["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","JCB","MASTERCARD","VISA"]}};}},{key:"prefetch",value:function(){Jg.prefetch(e.src,"google-pay-prefetch-id");}}]);}();(Yg=Xg).TotalPriceStatus={unknown:"NOT_CURRENTLY_KNOWN",final:"FINAL"},Yg.forbiddenTypes=["donate","book"],Yg.src="https://pay.google.com/gp/p/js/pay.js";var Zg,Qg={};!function(){if(Zg)return Qg;Zg=1;var e=Er(),t=Qi(),n=Ze(),r=Gt();e({target:"Reflect",stat:!0,forced:!z()(function(){Reflect.apply(function(){});})},{apply:function(e,i,o){return t(n(e),i,r(o));}});}();var ey=function(){var e=function(){},t=function(){},n=function(){return console.log("shippingAddressValidator is not defined. Use fallback flow - allow all addresses"),new Promise(function(e){e({allow:!0});});},r=null,o=null,a=null,s={},c=null,u={},l="checkout",d="vault",f="paypal-js-sdk",p="order-started-processing",h="order-approved",m="order-processed",g="order-already-processed",y="button-ready",v="button-click",b="button-error",w="button-cancel",k="paypal_create_order_error",S={},x=[p,h,m,g,y,v,b,w];function E(e,t){a&&a.dispatchEvent(new CustomEvent(e,{detail:t}));}function C(e){if(e&&e.stack&&e.message){var t=e.message;return-1!==t.indexOf("RATE_LIMIT_REACHED")&&(t="RATE_LIMIT_REACHED.Too many requests. Blocked due to rate limiting"),{message:t};}return e||{message:"Unknown error"};}function I(e){return e&&e.stack&&e.message?e.message:e?"Unknown error":"No errors";}function T(e,t,a,u,f,S,x){return"created"===u?function(t,a){var u={label:"buynow",shape:"pill",color:"gold"};if(a&&(["label","shape","color"].forEach(function(e){a[e]&&(u[e]=a[e]);}),["height"].forEach(function(e){a[e]&&(u[e]=parseInt(a[e],10));})),void 0!==a.shippingAddrValidatorFn){var g=a.shippingAddrValidatorFn;window[g]?n=window[g]:console.error("Function for validate address '"+g+"' not found");}var T="undefined",N={fundingSource:paypal.FUNDING.PAYPAL,style:u,onInit:function(){E(y,{}),A("payment_source_location_hostname",window.location.hostname),null!==S&&function(e,t,n,r){try{var i=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||null;if(!r||!i||!i.getEntriesByType)return;for(var o=i.getEntriesByType("resource");o.length;){var a=o.shift();if(a.name===r){A(e,a.duration.toString());break;}}}catch(s){}}("paypal_script_load_time",0,0,S),function(e){var t=!0;O(y)&&(R(y,"mounted"),t=!1),e&&e(t);}(x&&x.onInit);},onClick:function(){!function(e){var t=!0;O(v)&&(R(v,"interaction"),t=!1),e&&e(t);}(x&&x.onClick);},createOrder:function(){if(e===l)return E(v,{}),t().then(function(e){return T=e.apmGateToken;}).then(function(e){return fetch(r+"/paypal-direct/api/"+e+"/createOrder",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({fraudnet_session_id:f})});}).catch(function(e){throw A(k,I(e)),e;}).then(function(e){return e.json();}).then(function(e){if(null!=e.id)return e.id;if(null==e.id&&null!=e.error){var t="Error creating order: "+e.error;A(k,t),E(b,{error:C(t)}),x&&x.onCreateOrderError&&x.onCreateOrderError(t);}return null;});},createBillingAgreement:function(){if(e===d)return E(v,{}),t().then(function(e){return T=e.apmGateToken;}).then(function(e){return fetch(r+"/paypal-direct/api/"+e+"/createBaTmpToken",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({fraudnet_session_id:f})});}).catch(function(e){throw A("paypal_create_ba_error",I(e)),e;}).then(function(e){return e.json();}).then(function(e){return e.token_id;});},onShippingChange:function(){var e=i(_().mark(function e(t,r){var i,o,a,c,u;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x&&x.onShippingChange&&x.onShippingChange(),void 0!==(c=s[t.shipping_address.country_code])){e.next=5;break;}return console.error("Unknown country code:",t.shipping_address.country_code),e.abrupt("return",r.reject());case 5:return u={country_a3:c.IsoCodeA3,country_a2:t.shipping_address.country_code,state:null!==(i=t.shipping_address.state)&&void 0!==i?i:null,city:null!==(o=t.shipping_address.city)&&void 0!==o?o:null,zip:null!==(a=t.shipping_address.postal_code)&&void 0!==a?a:null},e.next=8,n(u).then(function(e){return"object"!=typeof e&&(console.error("Unknown response from address validator. Result must be an object"),r.reject()),"boolean"!=typeof e.allow&&(console.error('Unknown response from address validator. Key "allow" must contain a boolean value'),r.reject()),e.allow?r.resolve():r.reject();}).catch(function(e){console.error("Address validation error:",e),r.reject();});case 8:case"end":return e.stop();}},e);}));return function(t,n){return e.apply(this,arguments);};}(),onApprove:function(t){return e===l?"continue"===c?(M(x&&x.onStartProcessing),fetch(r+"/paypal-direct/api/"+T+"/onApprove",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({paypal_order_id:t.orderID})}).then(function(e){return e.json();}).then(function(e){return E(h,{data:e}),x&&x.onApprove&&x.onApprove(),null;})):(E(p,{}),M(x&&x.onStartProcessing),fetch(r+"/paypal-direct/api/"+T+"/captureOrder",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({paypal_order_id:t.orderID,fraudnet_session_id:f})}).then(function(e){return e.json();}).then(function(e){return console.log("Transaction completed"),E(m,{data:e}),L(x&&x.onOrderProcessed),null;})):e===d?(E(p,{}),M(x&&x.onStartProcessing),fetch(r+"/paypal-direct/api/"+T+"/createBaAndPay",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({billing_agreement_tmp_token:t.billingToken,fraudnet_session_id:f})}).then(function(e){return e.json();}).then(function(e){return E(m,{data:e}),L(x&&x.onOrderProcessed),console.log("Transaction completed"),null;})):void 0;},onError:function(e){if(console.log("error",e),A("paypal_button_error",I(e)),!(e&&"Expected an order id to be passed"===e.message||e&&"Detected popup close"===e.message||e&&"Component closed"===e.message||e&&"Document is ready and element #paypal-button does not exist"===e.message))return P(e),fetch(r+"/paypal-direct/api/"+T+"/processDeclineFlow",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({error_message:JSON.stringify(C(e))})});},onCancel:function(){console.log("raise on_cancel"),A("paypal_button_cancel"),E(w,{}),x&&x.onCancel&&x.onCancel();}};return e===d&&delete N.createOrder,e===l&&delete N.createBillingAgreement,paypal.Buttons(N).render("#"+o);}(t,a):(E(g,{}),Promise.resolve());}function P(t){try{e(t);}catch(n){console.log(n);}}function A(e,n){if(u&&u.entityName&&u.entityValue&&u.signature){var r={category:"direct_paypal_button",level:"button_loading",entity_name:u.entityName,entity_value:u.entityValue,event_time:new Date().toISOString()};"undefined"!==n&&(r.value=n),t(e,r,u.signature);}}function R(e,t){console.error("The PayPal button event '".concat(e,"' is outdated and will be removed in future releases.\nPlease use regular event by subscribing to it via 'sdk.on(\"").concat(t,"\", handler)'.\nSee more in the 'Form Events' section of the documentation.\n%cThe original, 'sdk.on(\"").concat(t,"\", handler)', event will not be called to prevent duplicates.%c"),"font-weight: bold","font-weight: normal");}function O(e){return x.includes(e)&&S[e]&&S[e]>0;}function M(e){var t=!0;O(p)&&(R(p,"submit"),t=!1),e&&e(t);}function L(e){var t=!0;O(m)&&(R(m,"success/fail"),t=!1),e&&e(t);}return{addExceptionListener:function(t){e=t;},addTrackEventListener:function(e){t=e;},setCountryParams:function(e){s=e;},updateCurrency:function(e){var t=document.getElementById(f);if(t){var n=t.src;if(n.includes("currency=")){var r=n.replace(/currency=([A-Z]{3})/,"currency="+e);t.src=r;}}},initSdkV1:function(e,t,n,i,s,p,h,m){return new Promise(function(g,y){r=e.replace(/\/$/,""),o=t;var v={apply:function(e,t,n){var r=n[0];return x.includes(r)&&(!function(e){void 0===S[e]?S[e]=1:S[e]++;}(r),console.error("The PayPal button event '".concat(r,"' is outdated and will be removed in future releases.\nPlease use regular form events by subscribing to them via 'sdk.on(eventName, handler)'.\nSee more in the 'Form Events' section of the documentation."))),Reflect.apply(e,t,n);}};(a=document.getElementById(t)).addEventListener=new Proxy(a.addEventListener,v);try{var _="https://www.paypal.com/sdk/js?client-id="+i.clientId+"&integration-date=2024-09-01&components=buttons,funding-eligibility";i.flow===d&&(_+="&vault=true&intent=tokenize"),i.flow===l&&(_+="&intent=capture",_+="&currency="+s.currency),_+="continue"===(c=s.paymentMethodData.userAction)?"&commit=false":"&commit=true",i.merchantId&&(_+="&merchant-id="+i.merchantId),u=s.trackData,function(e){return new Promise(function(t,n){var r=document.createElement("script");r.src=e,r.type="text/javascript",r.defer=!0,r.async=!0,r.id=f,document.getElementsByTagName("head").item(0).appendChild(r),r.onload=function(){t();},r.onerror=function(e,t,r,i,o){n(o?"PayPal SDK script error: "+o.toString():new Error("Failed to load PayPal SDK script"));};});}(_).then(function(){var e=T(i.flow,h,n,s.spOrderStatus,s.fraudnetSessionId,p,m).catch(function(e){throw A("paypal_button_general_error",I(e)),P(e),E(b,{error:C(e)}),e;});return function(e,t){var n={f:t,s:"SGATE_WIDGET_PAY_BTN",sandbox:e};return new Promise(function(e){for(var t=document.querySelectorAll("[fncls=fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99]"),r=0;r<t.length;r++)t[r].remove();var i=document.createElement("script");i.append(JSON.stringify(n)),i.type="application/json",i.setAttribute("fncls","fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99"),document.getElementsByTagName("head").item(0).appendChild(i),e();});}(i.sandbox,s.fraudnetSessionId).then(function(){return function(){return new Promise(function(e,t){var n=document.createElement("script");n.src="https://c.paypal.com/da/r/fb.js",n.type="text/javascript",document.getElementsByTagName("head").item(0).appendChild(n),n.onload=function(){e();},n.onerror=function(e,n,r,i,o){t(o?"PayPal FraudNet script error: "+o.toString():new Error("Failed to load PayPal FraudNet script"));};});}().then(function(){console.log("FraudNet loaded successfully");});}).catch(function(e){console.log("FraudNet loading error:",e);}),e;}).then(function(){g();}).catch(function(e){y(e);});}catch(HD){P(HD),y(HD);}});}};}();window.apmGatePayPalSdk=ey;var ty,ny="checkout",ry="vault",iy=function(){var e=function(){},t=function(){var t=i(_().mark(function t(n,r,o,a,s,c,u,l){var d,f,p,h,m,g,y,v,b;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(d=n.replace(/\/$/,""),f=a.flow,p=s.fraudnetSessionId,h="undefined",m=function(){var e=i(_().mark(function e(){var t,n,r,i,o,a;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==l||null===(t=l.onClick)||void 0===t||t.call(l,!0),f!==ny){e.next=17;break;}return e.next=4,u();case 4:return h=e.sent.apmGateToken,e.next=7,fetch(d+"/paypal-direct/api/"+h+"/createOrder",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({fraudnet_session_id:p})});case 7:return n=e.sent,e.next=10,n.json();case 10:if(null==(r=e.sent).id){e.next=13;break;}return e.abrupt("return",r.id);case 13:return null==r.id&&null!=r.error&&(null==l||null===(i=l.onCreateOrderError)||void 0===i||i.call(l,"Error creating order: "+r.error)),e.abrupt("return",null);case 17:if(f!==ry){e.next=30;break;}return e.next=20,u();case 20:return h=e.sent.apmGateToken,e.next=23,fetch(d+"/paypal-direct/api/"+h+"/createBaTmpToken",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({fraudnet_session_id:p})});case 23:return o=e.sent,e.next=26,o.json();case 26:return a=e.sent,e.abrupt("return",a.token_id);case 30:throw new Error("Unsupported flow: "+f);case 31:case"end":return e.stop();}},e);}));return function(){return e.apply(this,arguments);};}(),g=function(){var e=i(_().mark(function e(){var t,n,r,i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:if(n=e.sent,null==l||null===(t=l.onStartProcessing)||void 0===t||t.call(l,!0),e.prev=4,f===ny||f===ry){e.next=7;break;}throw new Error("Unsupported flow: "+f);case 7:if(f!==ny){e.next=13;break;}return e.next=10,fetch(d+"/paypal-direct/api/"+h+"/captureOrder",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({paypal_order_id:n,fraudnet_session_id:p})});case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,fetch(d+"/paypal-direct/api/"+h+"/createBaAndPay",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({billing_agreement_tmp_token:n,fraudnet_session_id:p})});case 15:e.t0=e.sent;case 16:return r=e.t0,e.next=19,r.json();case 19:return e.prev=19,console.log("Transaction completed"),null==l||null===(i=l.onOrderProcessed)||void 0===i||i.call(l,!0),e.finish(19);case 23:case"end":return e.stop();}},e,null,[[4,,19,23]]);}));return function(){return e.apply(this,arguments);};}(),t.prev=6,v=document.getElementById(r)){t.next=10;break;}throw new Error("Element with id "+r+" not found");case 10:v.innerHTML="",(b=document.createElement("button")).id="".concat(r,"-paypal-polymorph"),b.setAttribute("data-testid","".concat(r,"-paypal-polymorph")),b.innerText="Paypal Polymorph",b.onclick=g,v.appendChild(b),null==l||null===(y=l.onInit)||void 0===y||y.call(l,!0),t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(6),e(t.t0),t.t0;case 24:case"end":return t.stop();}},t,null,[[6,20]]);}));return function(e,n,r,i,o,a,s,c){return t.apply(this,arguments);};}();return{addExceptionListener:function(t){e=t;},addTrackEventListener:function(){},setCountryParams:function(){},updateCurrency:function(){},initSdkV1:t};}(),oy=function(){function e(t,n){var r=this;a(this,e),this.paypalData=t,this.callbacks=n,this.SDK=ey,this.sdkLoaded=!1,this.resolveElement=function(){return null;},this.elementPromise=new Promise(function(e){r.resolveElement=e;}),this.prepareOrder=i(_().mark(function e(){var t,n,i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.callbacks.onCreateOrder,e.next=3,t();case 3:return n=e.sent,i=n.token,e.abrupt("return",{apmGateToken:i});case 6:case"end":return e.stop();}},e);})),t.polymorph&&(this.SDK=iy);}return d(e,[{key:"element",get:function(){return this.elementPromise;}},{key:"init",value:function(){var t=document.createElement("div");t.id=e.containerId,t.className=e.className,this.resolveElement(t);}},{key:"appendButton",value:function(){var t=i(_().mark(function t(){var n,r,i,o,a,s,c;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.sdkLoaded){t.next=2;break;}return t.abrupt("return");case 2:return n=this.paypalData,r=n.baseApiPath,i=n.credentials,o=n.appearance,a=n.currency,s=n.userAction,c=n.antifraud,this.SDK.addExceptionListener(this.callbacks.onError),t.next=6,this.SDK.initSdkV1(r,e.containerId,{label:null==o?void 0:o.label,shape:null==o?void 0:o.shape,color:null==o?void 0:o.color,height:null==o?void 0:o.height},i,{currency:a,spOrderStatus:"created",fraudnetSessionId:c.sessionId,paymentMethodData:{userAction:s}},null,this.prepareOrder,this.callbacks);case 6:this.sdkLoaded=!0;case 7:case"end":return t.stop();}},t,this);}));return function(){return t.apply(this,arguments);};}()},{key:"updateCurrency",value:function(e){this.paypalData.currency=e;try{this.SDK.updateCurrency(e);}catch(t){this.callbacks.onError(t);}}}]);}();(ty=oy).containerId="paypal-button",ty.className="paypal-button";var ay,sy,cy=function(e){return e.PixMountError="PixMountError",e;}(cy||{}),uy=function(){return d(function e(t,n,r){var i=this;a(this,e),this.data=t,this.externalForm=n,this.callbacks=r,this.resolveElement=function(){return null;},this.rejectElement=function(){return null;},this.isCloseButtonDisabled=!1,this.elementPromise=new Promise(function(e,t){i.resolveElement=e,i.rejectElement=t;});var o=this.constructor;this.height=o.sanitizeHeight(this.data.appearance.height),o.addStyles();},[{key:"element",get:function(){return this.elementPromise;}},{key:"init",value:function(){var e=this;this.getButtonElement().then(function(t){e.resolveElement(t),e.callbacks.mounted();}).catch(function(){var t,n;e.rejectElement(),null===(t=(n=e.callbacks).mountFailed)||void 0===t||t.call(n);});}},{key:"destroy",value:function(){var e=this.constructor;this.externalForm.destroy(),this.setIsCloseButtonDisabled(!1);var t=document.getElementById(e.overlayId);t&&t.remove(),this.callbacks.pageClosed();}},{key:"setIsCloseButtonDisabled",value:function(e){var t=this.constructor,n=document.getElementById(t.closeButtonId);this.isCloseButtonDisabled=e,n&&(e?n.classList.add(t.overlayDisabledClass):n.classList.remove(t.overlayDisabledClass));}},{key:"getButtonElement",value:function(){var e=i(_().mark(function e(){var t,n,r,i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.constructor,(n=document.createElement("div")).className=t.buttonClass,n.style.height=this.height,n.onclick=this.onClick.bind(this),(r=document.createElement("div")).className=t.textClass,r.textContent=this.getButtonText(),n.appendChild(r),!t.hasLogo||!this.data.logoUrl){e.next=15;break;}return e.next=12,this.requestLogo();case 12:(i=e.sent).className=t.logoClass,n.appendChild(i);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"onClick",value:function(){var e=i(_().mark(function e(){var t,n,r,i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,null===(t=(n=this.callbacks).clicked)||void 0===t||t.call(n),this.initPaymentUI(),e.next=5,this.externalForm.init();case 5:this.callbacks.pageOpened(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),null===(r=(i=this.callbacks).mountFailed)||void 0===r||r.call(i,e.t0),this.destroy();case 12:case"end":return e.stop();}},e,this,[[0,8]]);}));return function(){return e.apply(this,arguments);};}()},{key:"requestLogo",value:function(){var e=i(_().mark(function e(){var t,n=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.constructor).hasLogo){e.next=3;break;}throw new ka("This payment button does not support a logo.");case 3:return e.abrupt("return",new Promise(function(e,r){var i,o=new Image();o.alt=t.paymentMethodName,o.style.height=t.logoHeight;var a=setTimeout(function(){r();},5e3);o.addEventListener("load",function(){clearTimeout(a),e(o);}),o.src=null!==(i=n.data.logoUrl)&&void 0!==i?i:"";}));case 4:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"initPaymentUI",value:function(){var e=this,t=this.constructor,n=document.getElementsByTagName("body")[0];if(!n)throw new Sa(t.errors.mountError);var r=t.getOverlay(),i=t.getExternalFormContainer();r.appendChild(i),n.appendChild(r);var o=document.getElementById(t.closeButtonId);o&&o.addEventListener("click",function(){e.handleCloseButtonClick();});}},{key:"handleCloseButtonClick",value:function(){this.isCloseButtonDisabled||this.destroy();}}],[{key:"addStyles",value:function(){if(!this.stylesAdded){var e=document.createElement("style");e.textContent="\n      ".concat(this.getButtonStyles(),"\n\n      ").concat(this.getTextStyles(),"\n\n      ").concat(this.getLogoStyles(),"\n\n      .").concat(this.overlayClass," {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100vw;\n        height: 100vh;\n        background: rgba(0, 0, 0, 0.8);\n        z-index: 2147483646;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .").concat(this.externalFormContainerClass," {\n        min-height: 400px;\n        min-width: 501px;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        border-radius: 12px;\n        background-color: #fff;\n      }\n\n      .").concat(this.externalFormContainerClass," iframe {\n        border: none;\n      }\n\n      .").concat(this.closeButtonClass," {\n        position: absolute;\n        top: 16px;\n        right: 16px;\n        width: 24px;\n        height: 24px;\n        cursor: pointer;\n        z-index: 2147483647;\n      }\n\n      .").concat(this.overlayDisabledClass," {\n        cursor: initial;\n        opacity: 0.5;\n      }\n\n      .").concat(this.closeButtonClass,":before,\n      .").concat(this.closeButtonClass,":after {\n        position: absolute;\n        left: 11px;\n        top: 2px;\n        content: ' ';\n        height: 20px;\n        width: 2px;\n        background-color: #fff;\n      }\n\n      .").concat(this.closeButtonClass,":before {\n        transform: rotate(45deg);\n      }\n\n      .").concat(this.closeButtonClass,":after {\n        transform: rotate(-45deg);\n      }\n\n      @media (max-width: ").concat(this.mobileWidth,"px) {\n        .").concat(this.externalFormContainerClass," {\n          min-height: 100vh;\n          min-width: 100%;\n          border-radius: 0;\n        }\n\n        .").concat(this.closeButtonClass," {\n          top: 20px;\n          right: 20px;\n        }\n\n        .").concat(this.closeButtonClass,":before,\n        .").concat(this.closeButtonClass,":after {\n          background-color: #000;\n        }\n      }\n    "),document.head.appendChild(e),this.stylesAdded=!0;}}},{key:"getButtonStyles",value:function(){return"\n      .".concat(this.buttonClass," {\n          height: ").concat(this.defaultHeight,";\n          width: 100%;\n          min-width: 170px;\n          border-radius: 4px;\n          padding: 0 16px;\n          background-color: #fff;\n          border: 1px solid #3c3c3c;\n          box-sizing: border-box;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-weight: bold;\n          cursor: pointer;\n        }\n    ");}},{key:"getTextStyles",value:function(){return"\n      .".concat(this.textClass," {\n        font-size: 18px;\n        font-family: sans-serif;\n        color: #3c3c3c;\n        font-weight: 400;\n        margin-right: 10px;\n      }\n    ");}},{key:"getLogoStyles",value:function(){return this.hasLogo?"\n          .".concat(this.logoClass," {\n            height: ").concat(this.logoHeight,";\n          }\n        "):"";}},{key:"sanitizeHeight",value:function(e){if(!e||"number"!=typeof e)return this.defaultHeight;var t=Math.min(Math.max(e,this.minHeight),this.maxHeight);return"".concat(t,"px");}},{key:"getExternalFormContainer",value:function(){var e=document.createElement("div");return e.id=this.externalFormContainerId,e.className=this.externalFormContainerClass,e;}},{key:"getOverlay",value:function(){var e=document.createElement("div");e.id=this.overlayId,e.className=this.overlayClass;var t=this.getCloseButton();return e.appendChild(t),e;}},{key:"getCloseButton",value:function(){var e=document.createElement("div");return e.id=this.closeButtonId,e.className=this.closeButtonClass,e;}}]);}();(ay=uy).externalFormContainerId="external-form-container",ay.externalFormId="external-form",ay.defaultHeight="52px",ay.minHeight=52,ay.maxHeight=60,ay.paymentMethodName="Pay",ay.hasLogo=!0,ay.logoHeight="26px",ay.overlayId="overlay",ay.closeButtonId="close-button",ay.buttonClass="button",ay.textClass="text",ay.logoClass="logo",ay.overlayClass="overlay",ay.overlayDisabledClass="overlay-disabled",ay.externalFormContainerClass="external-form-container",ay.closeButtonClass="close-button",ay.errors={mountError:"PaymentButtonMountError"},ay.mobileWidth=500,ay.stylesAdded=!1;var ly=function(e){function t(){return a(this,t),o(this,t,arguments);}return g(t,e),d(t,[{key:"getButtonText",value:function(){return"pix"===this.data.appearance.logoVariant?"PIX via OpenFinance":"Pagar com minha conta";}},{key:"updateAmount",value:function(){}},{key:"updateCurrency",value:function(){}}]);}(uy);(sy=ly).externalFormContainerId="pix-external-form-container",sy.externalFormId="pix-external-form",sy.defaultHeight="52px",sy.minHeight=52,sy.maxHeight=60,sy.paymentMethodName="Pix",sy.hasLogo=!0,sy.logoHeight="26px",sy.overlayId="pix-overlay",sy.closeButtonId="pix-close-button",sy.buttonClass="pix-button",sy.textClass="pix-text",sy.logoClass="pix-logo",sy.overlayClass="pix-overlay",sy.overlayDisabledClass="pix-overlay-disabled",sy.externalFormContainerClass="pix-external-form-container",sy.closeButtonClass="pix-close-button",sy.errors={mountError:cy.PixMountError};var dy,fy,py=function(e){return e.MBWayMountError="MBWayMountError",e;}(py||{}),hy=function(e){function t(){return a(this,t),o(this,t,arguments);}return g(t,e),d(t,[{key:"getButtonText",value:function(){return"MB WAY";}},{key:"updateAmount",value:function(){}},{key:"updateCurrency",value:function(){}}]);}(uy);(dy=hy).externalFormContainerId="mbway-external-form-container",dy.externalFormId="mbway-external-form",dy.defaultHeight="52px",dy.minHeight=52,dy.maxHeight=60,dy.paymentMethodName="MB WAY",dy.hasLogo=!0,dy.logoHeight="23px",dy.overlayId="mbway-overlay",dy.closeButtonId="mbway-close-button",dy.buttonClass="mbway-button",dy.textClass="mbway-text",dy.logoClass="mbway-logo",dy.overlayClass="mbway-overlay",dy.overlayDisabledClass="mbway-overlay-disabled",dy.externalFormContainerClass="mbway-external-form-container",dy.closeButtonClass="mbway-close-button",dy.errors={mountError:py.MBWayMountError};var my=function(){function e(t,n,r){var o=this;a(this,e),this.data=t,this.externalForm=n,this.callbacks=r,this.resolveElement=function(){return null;},this.uiKitLoadingPromise=null,this.elementPromise=new Promise(function(e){o.resolveElement=e;}),this.button=null,this.isFormInitializing=!1,this.isButtonMounted=!1,this.handleClick=i(_().mark(function e(){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o.isFormInitializing){e.next=2;break;}return e.abrupt("return");case 2:return o.isFormInitializing=!0,e.prev=3,o.callbacks.clicked(),e.next=7,o.externalForm.init();case 7:o.destroyButton(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),o.externalForm.destroy(),o.createButton();case 14:return e.prev=14,o.isFormInitializing=!1,e.finish(14);case 17:case"end":return e.stop();}},e,null,[[3,10,14,17]]);}));}return d(e,[{key:"element",get:function(){return this.elementPromise;}},{key:"init",value:function(){this.uiKitLoadingPromise||(this.uiKitLoadingPromise=Promise.all([e.loadUIKitScript(),e.loadUIKitStyles()])),this.resolveElement(e.createButtonContainer());}},{key:"destroy",value:function(){this.externalForm.destroy();var t=document.getElementById(e.buttonContainerId);t&&t.remove(),this.button&&this.button.removeEventListener("click",this.handleClick),this.button=null,this.isButtonMounted=!1;}},{key:"resetButton",value:function(){var e=i(_().mark(function e(){var t,n;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isButtonMounted){e.next=2;break;}return e.abrupt("return");case 2:return null===(t=this.externalForm)||void 0===t||t.destroy(),n=this.createButton(),e.next=6,this.element;case 6:e.sent.appendChild(n),this.isButtonMounted=!0;case 9:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"mountButton",value:function(){var e=i(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uiKitLoadingPromise;case 2:return t=this.createButton(),e.next=5,this.element;case 5:e.sent.appendChild(t),this.isButtonMounted=!0,this.callbacks.mounted();case 9:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"createButton",value:function(){var t=document.createElement("src-button");return t.id=e.buttonId,t.width=e.sanitizeWidth(this.data.appearance.width),t.height=e.sanitizeHeight(this.data.appearance.height),t.dark=this.data.appearance.dark,t.locale=this.data.appearance.locale,this.button=t,t.addEventListener("click",this.handleClick),t;}},{key:"destroyButton",value:function(){var t=document.getElementById(e.buttonId);t&&(t.removeEventListener("click",this.handleClick),t.remove()),this.button=null,this.isButtonMounted=!1;}}],[{key:"createButtonContainer",value:function(){var t=document.createElement("div");return t.id=e.buttonContainerId,t;}},{key:"loadUIKitScript",value:function(){var t=i(_().mark(function t(){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Jg.loadScript(e.uiKitScriptSrc,e.uiKitScriptId,{type:"module"}));case 1:case"end":return t.stop();}},t);}));return function(){return t.apply(this,arguments);};}()},{key:"loadUIKitStyles",value:function(){var t=i(_().mark(function t(){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Jg.loadStyles(e.uiKitStylesSrc,e.uiKitStylesId));case 1:case"end":return t.stop();}},t);}));return function(){return t.apply(this,arguments);};}()},{key:"sanitizeHeight",value:function(t){if("number"==typeof t){var n=Math.min(Math.max(t,e.minHeight),e.maxHeight);return"".concat(n);}}},{key:"sanitizeWidth",value:function(t){if("number"==typeof t){var n=Math.min(Math.max(t,e.minWidth),e.maxWidth);return"".concat(n);}}}]);}();(fy=my).buttonContainerId="click2pay-button-container",fy.buttonId="click2pay-button",fy.externalFormId="click2pay-external-form",fy.uiKitScriptId="click2pay-ui-kit-script",fy.uiKitStylesId="click2pay-ui-kit-styles",fy.uiKitScriptSrc="https://src.mastercard.com/srci/integration/components/src-ui-kit/src-ui-kit.esm.js",fy.uiKitStylesSrc="https://src.mastercard.com/srci/integration/components/src-ui-kit/src-ui-kit.css",fy.minHeight=32,fy.maxHeight=60,fy.minWidth=126,fy.maxWidth=500;var gy=function(e){return e.ApplePay="applebtn",e.GooglePay="googlebtn",e.Paypal="paypal",e.Pix="pix",e.MBWay="mbway",e.Form="form",e.Resign="resign",e;}(gy||{}),yy=function(){return d(function e(t,n,r,i,o,s,c,u,l,d){a(this,e),this.walletsConfig=t,this.clientConfig=n,this.language=r,this.buttonActions=i,this.iframe=o,this.tracking=s,this.logger=c,this.interactionsNotifier=u,this.messageBus=l,this.collectConfig=d,this.isDestroyed=!1,this.initializationPromise=null,this.buttonInstance=null;},[{key:"setIsDisabled",value:function(e){var t,n=this;this.isDestroyed||null===(t=this.initializationPromise)||void 0===t||t.then(function(){n.isDestroyed||n.buttonActions.setIsDisabled(e);});}},{key:"clear",value:function(){this.buttonInstance=null,this.initializationPromise=null;}},{key:"destroy",value:function(){this.isDestroyed=!0,this.clear();}}]);}(),vy=function(e){function t(e,n,r,i,s,c,u,l,d,f,p,h,m){var g;return a(this,t),(g=o(this,t,[e,n,c,u,l,d,f,p,h,m])).walletsConfig=e,g.clientConfig=n,g.appConfig=r,g.token=i,g.release=s,g.language=c,g.buttonActions=u,g.iframe=l,g.tracking=d,g.logger=f,g.interactionsNotifier=p,g.messageBus=h,g.collectConfig=m,g;}return g(t,e),d(t,[{key:"completeApplePayment",value:function(e){var t;null===(t=this.buttonInstance)||void 0===t||t.completePayment(e);}},{key:"append",value:function(){var e=this,n=this.clientConfig,r=this.getPayData();return r?(this.initializationPromise=new Promise(function(o){if(t.canAppend(r)){var a,s=e.tracking.appleButtonMountTime(),c="js"===(null==n?void 0:n.integrationType)?Kg:Gg,u=null!==(a=null==n?void 0:n.integrationType)&&void 0!==a?a:"css";e.buttonInstance=new c(r,t.defaultMerchantName,{beforeMount:function(){},mounted:function(){e.messageBus.sendPublicMessage({type:Rl.Mounted,entity:gy.ApplePay}),e.buttonActions.show(),s(u),o();},pageOpened:function(){e.tracking.paymentButtonPageOpened("applepay");},pageClosed:function(){e.tracking.paymentButtonPageClosed("applepay");},click:function(){var t;null===(t=e.interactionsNotifier)||void 0===t||t.processDsrpClick("applePay"),e.tracking.paymentButtonClicked("applepay");},pay:function(t){var n;e.messageBus.sendPrivateMessage({type:Rl.ProviderToken,value:JSON.stringify(t),dsrp:$g.Apple},null===(n=e.iframe)||void 0===n?void 0:n.getWindow()),e.messageBus.sendPublicMessage({type:Rl.ApplePayPaymentAuthorized,paymentMethod:t.paymentMethod}),e.tracking.paymentButtonSubmitted("applepay");}},function(){var t=i(_().mark(function t(n){var r;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Wg(b(b({},n),{},{headers:b(b({},n.headers||{}),{},{Authorization:"Bearer ".concat(e.token),"X-Release":e.release})}),{times:4,time:1e3,whenOnline:!1}),t.next=3,r.execute();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop();}},t);}));return function(e){return t.apply(this,arguments);};}(),e.logger),e.buttonInstance.init(),e.buttonInstance.element.then(function(t){e.isDestroyed||e.buttonActions.append(t,n);}).catch(function(){o();});}else o();}),this.initializationPromise):null;}},{key:"updatePrice",value:function(e){var t=this,n=e.amount,r=e.currency;this.isDestroyed||this.initializationPromise&&this.initializationPromise.then(function(){var e,i;t.isDestroyed||(null===(e=t.buttonInstance)||void 0===e||e.updateAmount(n),null===(i=t.buttonInstance)||void 0===i||i.updateCurrency(r));});}},{key:"updateAppearance",value:function(e){var t=this;this.isDestroyed||this.initializationPromise&&this.initializationPromise.then(function(){if(!t.isDestroyed){var n,r=e||{},i=r.buttonColor,o=r.buttonType;null===(n=t.buttonInstance)||void 0===n||n.updateAppearance({buttonColor:i,buttonType:o});}});}},{key:"clear",value:function(){var e;null===(e=this.buttonInstance)||void 0===e||e.destroy(),h(m(t.prototype),"clear",this).call(this);}},{key:"getPayData",value:function(){var e=this.clientConfig,t=this.walletsConfig;if(null!=t&&t.amount){var n,r,i=null==e?void 0:e.type,o=i&&!Object.values(Gg.forbiddenTypes).includes(i);return b(b({},t),{},{language:this.language,createSessionUrl:this.appConfig.createSessionUrl,buttonColor:null==e?void 0:e.color,collectZipCode:!(null===(n=this.collectConfig)||void 0===n||!n.zip),collectEmail:!(null===(r=this.collectConfig)||void 0===r||!r.email),buttonType:o?i:"plain"});}return null;}}],[{key:"canAppend",value:function(e){return!(!e||!e.createSessionUrl);}}]);}(yy);vy.defaultMerchantName="Seller";var by,_y={};!function(){if(by)return _y;by=1;var e=Er(),t=Et(),n=fo(),r=z(),i=We(),o=ze(),a=Zi(),s=ra(),c=_n(),u=n&&n.prototype;if(e({target:"Promise",proto:!0,real:!0,forced:!!n&&r(function(){u.finally.call({then:function(){}},function(){});})},{finally:function(e){var t=a(this,i("Promise")),n=o(e);return this.then(n?function(n){return s(t,e()).then(function(){return n;});}:e,n?function(n){return s(t,e()).then(function(){throw n;});}:e);}}),!t&&o(n)){var l=i("Promise").prototype.finally;u.finally!==l&&c(u,"finally",l,{unsafe:!0});}}();var wy=function(e){return e.Payment="payment",e.Resign="resign",e.Pix="pix",e.MBWay="mbway",e.Click2Pay="click2pay",e;}(wy||{}),ky=function(){return d(function e(t,n,r,i){a(this,e),this.getInitializationMessage=t,this.iframeConfig=n,this.merchantLogger=r,this.messageBus=i,this.iframe=null;var o=this.iframeConfig,s=o.id,c=o.url,u=o.containerId;this.iframePool=new zp({id:s,url:c,defaultContainerId:u},this.merchantLogger,this.messageBus);},[{key:"init",value:function(){var e=i(_().mark(function e(){var t,n,r=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.iframePool.getIframe(),this.iframe=t,t.mount(this.iframeConfig.integrityToken,this.iframeConfig.containerId,"100%"),"Mounted"===t.state&&(n=this.getInitializationMessage(),t.onLoad(function(){r.messageBus.sendPrivateMessage(n,t.getWindow());})),this.messageBus.subscribeForPrivate(function(e){e.type===Cp.PrivateResizeWithIntegrity&&r.handlePrivateResize(e);}),e.abrupt("return",Promise.race([t.unmounted().then(function(){throw new ka("External form iframe unmounted before initialization ended");}),new Promise(function(e,n){r.messageBus.subscribeForPrivate(function i(o){if(o.type===Cp.FormReady){var a=r.iframeConfig.integrityToken;if(o.integrity!==a)return void n(new ka("Received external form ready message with invalid integrity token"));t.show(),r.messageBus.unsubscribe(i),e();}}),t.onError(function(){n(new ka("External form iframe failed to load"));});})]));case 6:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"destroy",value:function(){this.iframe&&(this.iframe.destroy(),this.iframe=null);}},{key:"getIframeWindow",value:function(){var e;return(null===(e=this.iframe)||void 0===e?void 0:e.getWindow())||null;}},{key:"handlePrivateResize",value:function(e){if(this.iframe){var t=this.iframeConfig.integrityToken;if(e.integrity===t){var n=e.width,r=e.height;this.iframe.resize({width:n,height:r});}}}}]);}(),Sy=function(e){function t(e,n,r,i,s,c,u,l,d,f){var p;return a(this,t),(p=o(this,t,[e,n,i,s,c,u,l,d,f])).walletsConfig=e,p.clientConfig=n,p.appConfig=r,p.language=i,p.buttonActions=s,p.iframe=c,p.tracking=u,p.logger=l,p.interactionsNotifier=d,p.messageBus=f,p.integrityToken="".concat(p.appConfig.integrityToken,"-").concat(wy.Click2Pay),p;}return g(t,e),d(t,[{key:"append",value:function(){var e=this,t=this.getPayData();return t?(this.initializationPromise=new Promise(function(n){var r={id:my.externalFormId,url:e.appConfig.externalFormBaseUrl,containerId:my.buttonContainerId,integrityToken:e.integrityToken},i=new ky(function(){var n=e.appConfig.sdkContext.powSolution||void 0;return{type:Rl.FormInitialization,paymentType:wy.Click2Pay,initParams:t.paymentParams,integrity:e.integrityToken,powSolution:n};},r,e.logger,e.messageBus);e.buttonInstance=new my(t,i,{mounted:function(){e.buttonActions.show(),e.tracking.paymentButtonMounted("clicktopay"),e.subscribeForCloseClick2PayForm();},clicked:function(){e.tracking.paymentButtonClicked("clicktopay");}}),e.buttonInstance.init(),e.buttonInstance.element.then(function(t){e.isDestroyed||(e.buttonActions.append(t,b(b({},e.clientConfig),{},{fullWidth:!0})),e.buttonInstance&&e.buttonInstance.mountButton().finally(function(){n();}));}).catch(function(t){n(),e.logger.debug(ka.wrap(t,"Unable to append Click2Pay"));});}),this.initializationPromise):null;}},{key:"updatePrice",value:function(e){}},{key:"getPayData",value:function(){var e,n;if(!this.walletsConfig||!t.isDpaValid(this.walletsConfig))return null;var r=this.appConfig.paymentIntent;return{appearance:b({},this.clientConfig),paymentParams:{intentId:r.id,token:r.token,host:r.host,language:this.language,dpa:this.walletsConfig,customerEmail:r.customerEmail,isSandbox:null!==(e=null===(n=this.clientConfig)||void 0===n?void 0:n.isSandbox)&&void 0!==e&&e}};}},{key:"subscribeForCloseClick2PayForm",value:function(){var e=this;this.messageBus.subscribeForPrivate(function(t){var n;t.type===Cp.CloseClick2PayForm&&t.integrity===e.integrityToken&&(null===(n=e.buttonInstance)||void 0===n||n.resetButton());});}}],[{key:"isDpaValid",value:function(e){return!!(e&&e.srcDPAID&&e.dpaName&&e.dpaPresentationName);}}]);}(yy),xy=function(e){function t(){return a(this,t),o(this,t,arguments);}return g(t,e),d(t,[{key:"append",value:function(){var e=this,n=this.getPayData(),r=this.clientConfig;return n?(this.initializationPromise=new Promise(function(i){if(t.canAppend(n)){var o=e.tracking.googleButtonMountTime();e.buttonInstance=new Xg(n,t.googleButtonCss,{beforeMount:function(){},mounted:function(){e.messageBus.sendPublicMessage({type:Rl.Mounted,entity:gy.GooglePay}),e.buttonActions.show(),o(),i();},mountFailed:function(){i();},pageOpened:function(){var t;null===(t=e.interactionsNotifier)||void 0===t||t.processDsrpClick("googlePay"),e.tracking.paymentButtonPageOpened("google");},pageClosed:function(){e.tracking.paymentButtonPageClosed("google");},pay:function(t){var n;e.messageBus.sendPrivateMessage({type:Rl.ProviderToken,value:t,dsrp:$g.Google},null===(n=e.iframe)||void 0===n?void 0:n.getWindow()),e.tracking.paymentButtonSubmitted("google");}},e.logger),e.buttonInstance.init(),e.buttonInstance.element.then(function(t){e.isDestroyed||e.buttonActions.append(t,r);}).catch(function(t){i(),e.logger.debug(ka.wrap(t,"Unable to append Google Pay"));});}else i();}),this.initializationPromise):null;}},{key:"updatePrice",value:function(e){var t=this,n=e.amount,r=e.currency;this.isDestroyed||this.initializationPromise&&this.initializationPromise.then(function(){var e,i;t.isDestroyed||(null===(e=t.buttonInstance)||void 0===e||e.updateAmount(n),null===(i=t.buttonInstance)||void 0===i||i.updateCurrency(r));});}},{key:"getPayData",value:function(){var e=this.clientConfig,t=this.walletsConfig,n=this.collectConfig;if(null!=t&&t.merchantId){var r,i=null==e?void 0:e.type,o=null!==(r=null==e?void 0:e.allowedAuthMethods)&&void 0!==r?r:[],a=i&&!Object.values(Xg.forbiddenTypes).includes(i);return b(b({},t),{},{language:this.language,buttonColor:null==e?void 0:e.color,buttonType:a?e.type:void 0,allowedAuthMethods:0===o.length?["PAN_ONLY","CRYPTOGRAM_3DS"]:o,zipCodeRequired:!(null==n||!n.zip),emailRequired:!(null==n||!n.email)});}return null;}}],[{key:"prefetch",value:function(){Xg.prefetch();}},{key:"canAppend",value:function(e){return!(!e||!e.merchantId);}}]);}(yy);xy.googleButtonCss="\n        button.gpay-card-info-container {\n          min-width: 70px;\n        }\n      ";var Ey,Cy,Iy=function(e){return e.PayPal="paypal",e.Pix="pix",e.MBWay="mbway",e;}(Iy||{}),Ty=function(e){/*! Overridable static configuration */function t(e,n,r,i,s,c,u,l,d,f,p){var h;return a(this,t),(h=o(this,t,[e,n,i,s,c,u,l,d,f])).walletsConfig=e,h.clientConfig=n,h.appConfig=r,h.language=i,h.buttonActions=s,h.iframe=c,h.tracking=u,h.logger=l,h.interactionsNotifier=d,h.messageBus=f,h.formParams=p,h;}return g(t,e),d(t,[{key:"append",value:function(){var e=this,t=this.constructor,n=this.getPayData(),r=this.clientConfig;return n?(this.initializationPromise=new Promise(function(i){var o={id:t.externalFormId,url:e.appConfig.externalFormBaseUrl,containerId:t.externalFormContainerId,integrityToken:e.appConfig.integrityToken},a=new ky(function(){return e.getInitializationMessage();},o,e.logger,e.messageBus);if(e.canAppend(n)){var s=e.getButton(),c=e.getTrackingName();e.buttonInstance=new s(n,a,{mounted:function(){e.messageBus.sendPublicMessage({type:Rl.Mounted,entity:e.getPayableEntity()}),e.buttonActions.show(),e.tracking.paymentButtonMounted(c),e.subscribeForFormEvents(),i();},mountFailed:function(){i();},clicked:function(){var t;e.tracking.paymentButtonClicked(c),null===(t=e.interactionsNotifier)||void 0===t||t.processApmButtonClick(e.getAPMEntity());},pageOpened:function(){e.tracking.paymentButtonPageOpened(e.getTrackingName());},pageClosed:function(){e.tracking.paymentButtonPageClosed(e.getTrackingName());}}),e.buttonInstance.init(),e.buttonInstance.element.then(function(t){e.isDestroyed||e.buttonActions.append(t,b(b({},r),{},{fullWidth:!0}));}).catch(function(t){i(),e.logger.debug(ka.wrap(t,"Unable to append ".concat(c)));});}else i();}),this.initializationPromise):null;}},{key:"updatePrice",value:function(e){}},{key:"updateCustomerEmail",value:function(e){this.formParams.email=e;}},{key:"clear",value:function(){var e;null===(e=this.buttonInstance)||void 0===e||e.destroy(),h(m(t.prototype),"clear",this).call(this);}}]);}(yy);(Ey=Ty).externalFormId="payment-external-form",Ey.externalFormContainerId="payment-external-form-container";var Py=function(e){function t(){var e;return a(this,t),(e=o(this,t,arguments)).getButton=function(){return hy;},e.getPayableEntity=function(){return gy.MBWay;},e.getAPMEntity=function(){return Iy.MBWay;},e.getTrackingName=function(){return"mbway";},e;}return g(t,e),d(t,[{key:"getPayData",value:function(){var e;if(!this.walletsConfig)return null;var t=this.appConfig,n=t.paymentIntent;return{logoUrl:t.logoUrl,appearance:{height:null===(e=this.clientConfig)||void 0===e?void 0:e.height},paymentParams:{intentId:n.id,token:n.token,host:n.host,language:this.language,formParams:this.formParams}};}},{key:"getInitializationMessage",value:function(){var e=this.getPayData();ka.invariant(e,"Unable to get MBWay payment data for initialization message");var t=this.appConfig.sdkContext.powSolution||void 0;return{type:Rl.FormInitialization,paymentType:wy.MBWay,initParams:e.paymentParams,integrity:this.appConfig.integrityToken,powSolution:t};}},{key:"subscribeForFormEvents",value:function(){this.subscribeForMBWayFormSubmit(),this.subscribeForMBWayFormIntegrationProcessed(),this.subscribeForCloseMBWayForm();}},{key:"canAppend",value:function(e){if(!e||!e.paymentParams)return!1;var t=e.logoUrl,n=e.paymentParams,r=n.intentId,i=n.token,o=n.host;return!!(r&&i&&o&&t);}},{key:"subscribeForMBWayFormSubmit",value:function(){var e=this;this.messageBus.subscribeForPrivate(function(t){var n,r;t.type===Cp.MBWayFormSubmit&&t.integrity===e.appConfig.integrityToken&&(null===(n=e.buttonInstance)||void 0===n||n.setIsCloseButtonDisabled(!0),e.messageBus.sendPrivateMessage({type:Rl.ApmIntegrationProcessing,integrity:e.appConfig.integrityToken,value:!0},null===(r=e.iframe)||void 0===r?void 0:r.getWindow()));});}},{key:"subscribeForMBWayFormIntegrationProcessed",value:function(){var e=this;this.messageBus.subscribeForPrivate(function t(n){if(n.type===Cp.ApmIntegrationProcessed&&n.integrity===e.appConfig.integrityToken){var r,i;if(e.setIsDisabled(!0),null===(r=e.buttonInstance)||void 0===r||r.destroy(),e.tracking.paymentButtonSubmitted("mbway"),n.successful)e.messageBus.sendPrivateMessage({type:Rl.StartApmStatusPooling,paymentEntity:e.getAPMEntity()},null===(i=e.iframe)||void 0===i?void 0:i.getWindow());e.messageBus.unsubscribe(t);}});}},{key:"subscribeForCloseMBWayForm",value:function(){var e=this;this.messageBus.subscribeForPrivate(function(t){var n;t.type===Cp.CloseMBWayForm&&t.integrity===e.appConfig.integrityToken&&(null===(n=e.buttonInstance)||void 0===n||n.destroy());});}}]);}(Ty);(Cy=Py).externalFormId=hy.externalFormId,Cy.externalFormContainerId=hy.externalFormContainerId;var Ay,Ry=function(e){return!!e.token;},Oy=function(e){function t(e,n,r,i,s,c,u,l,d,f){var p;return a(this,t),(p=o(this,t,[e,n,i,s,c,u,l,d,f])).walletsConfig=e,p.clientConfig=n,p.appConfig=r,p.language=i,p.buttonActions=s,p.iframe=c,p.tracking=u,p.logger=l,p.interactionsNotifier=d,p.messageBus=f,p;}return g(t,e),d(t,[{key:"append",value:function(){var e=this,n=this.clientConfig,r=this.getPayData();return r?(this.initializationPromise=new Promise(function(o){if(t.canAppend(r)){var a=e.tracking.paypalButtonMountTime();e.buttonInstance=new oy(r,{onClick:function(t){var n;t&&(null===(n=e.interactionsNotifier)||void 0===n||n.processApmButtonClick(Iy.PayPal));},onCreateOrder:function(){var t=i(_().mark(function t(){return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,n){var r;e.messageBus.subscribeForPrivate(function r(i){if(i.type===Cp.PaypalOrderToken){if(Ry(i))t({token:i.token});else if(n(i.error),e.logger.error(ka.wrap(i.error,"Unable to create PayPal order")),Boolean(i.error)&&i.error.message.includes("is already in processing")){console.error("%cWarning! The PayPal button on the Payment Form cannot be used because a PayPal button has already been initialized via host-to-host with the same order ID.\n                      \n%cIf you are already using an existing PayPal host-to-host button, you should disable it so that orders are created and processed automatically by the payment form itself.\n                      \nSee more in the Payment Form documentation, section 'PayPal Button: Display Button.'","font-weight: bold","font-weight: normal");}e.messageBus.unsubscribe(r);}}),e.messageBus.sendPrivateMessage({type:Rl.PaypalCreateOrder},null===(r=e.iframe)||void 0===r?void 0:r.getWindow());}));case 1:case"end":return t.stop();}},t);}));return function(){return t.apply(this,arguments);};}(),onStartProcessing:function(t){t&&e.messageBus.sendPublicMessage({type:Ip.Submit,entity:gy.Paypal});},onInit:function(t){e.buttonActions.show(),t&&e.messageBus.sendPublicMessage({type:Rl.Mounted,entity:gy.Paypal}),a(),o();},onOrderProcessed:function(){var t;e.messageBus.sendPrivateMessage({type:Rl.PaypalOrderProcessed},null===(t=e.iframe)||void 0===t?void 0:t.getWindow()),e.setIsDisabled(!0);},onError:function(t){e.logger.error(ka.wrap(t,"While creating paypal"));}}),e.buttonInstance.init(),e.buttonInstance.element.then(function(){var t=i(_().mark(function t(r){var i;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isDestroyed){t.next=2;break;}return t.abrupt("return");case 2:return e.buttonActions.append(r,b(b({},n),{},{fullWidth:!0})),t.prev=3,t.next=6,null===(i=e.buttonInstance)||void 0===i?void 0:i.appendButton();case 6:t.next=13;break;case 8:t.prev=8,t.t0=t.catch(3),e.buttonActions.remove(r),e.logger.error(ka.wrap(t.t0,"While appending paypal")),o();case 13:case"end":return t.stop();}},t,null,[[3,8]]);}));return function(e){return t.apply(this,arguments);};}()).catch(function(t){o(),e.logger.debug(ka.wrap(t,"Unable to append PayPal"));});}else o();}),this.initializationPromise):null;}},{key:"updatePrice",value:function(e){var t=this,n=e.currency;this.isDestroyed||this.initializationPromise&&this.initializationPromise.then(function(){var e;t.isDestroyed||null===(e=t.buttonInstance)||void 0===e||e.updateCurrency(n);});}},{key:"getPayData",value:function(){var e=this.clientConfig,t=this.walletsConfig;return e&&e.enabled&&t?{baseApiPath:this.appConfig.baseApiPath,credentials:{clientId:t.clientId,merchantId:t.merchantId,flow:t.flow,sandbox:t.sandbox},currency:t.currency,antifraud:{sessionId:t.fraudnetSessionId},appearance:{label:e.label,shape:e.shape,color:e.color,height:e.height},polymorph:Boolean(this.appConfig.polymorph)}:null;}}],[{key:"canAppend",value:function(e){return!!(e&&e.credentials&&e.credentials.clientId&&e.baseApiPath&&e.antifraud);}}]);}(yy),My=["https://sandbox.dlocal.com","https://pay.dlocal.com"],Ly=function(e){function t(){var e;return a(this,t),(e=o(this,t,arguments)).getButton=function(){return ly;},e.getPayableEntity=function(){return gy.Pix;},e.getAPMEntity=function(){return Iy.Pix;},e.getTrackingName=function(){return"pix";},e;}return g(t,e),d(t,[{key:"getPayData",value:function(){var e;if(!this.walletsConfig)return null;var t=this.appConfig,n=t.paymentIntent;return{logoUrl:t.logoUrl,appearance:{height:null===(e=this.clientConfig)||void 0===e?void 0:e.height,logoVariant:this.appConfig.logoVariant},paymentParams:{intentId:n.id,token:n.token,host:n.host,language:this.language,formParams:this.formParams}};}},{key:"getInitializationMessage",value:function(){var e=this.getPayData();ka.invariant(e,"Unable to get Pix payment data for initialization message");var t=this.appConfig.sdkContext.powSolution||void 0;return{type:Rl.FormInitialization,paymentType:wy.Pix,initParams:e.paymentParams,integrity:this.appConfig.integrityToken,pixVariant:this.appConfig.pixVariant,powSolution:t};}},{key:"subscribeForFormEvents",value:function(){this.subscribeForPixFormReturnUrl(),this.subscribeForClosePixForm(),this.subscribeForPixFormSubmit();}},{key:"canAppend",value:function(e){if(!e||!e.paymentParams)return!1;var t=e.logoUrl,n=e.paymentParams,r=n.intentId,i=n.token,o=n.host;return!!(r&&i&&o&&t);}},{key:"subscribeForPixFormSubmit",value:function(){var e=this;this.messageBus.subscribeForPrivate(function(t){var n;t.type===Cp.PixFormSubmit&&t.integrity===e.appConfig.integrityToken&&(null===(n=e.buttonInstance)||void 0===n||n.setIsCloseButtonDisabled(!0));});}},{key:"subscribeForPixFormReturnUrl",value:function(){var e=this;this.subscribeForPixBankIntegrationUrl(),this.messageBus.subscribeForPrivate(function t(n){if(n.type===Cp.ApmIntegrationUrl&&n.integrity===e.appConfig.integrityToken){var r,i;if(e.setIsDisabled(!0),null===(r=e.buttonInstance)||void 0===r||r.destroy(),e.tracking.paymentButtonSubmitted("pix"),fh(n))e.messageBus.sendPrivateMessage({type:Rl.StartApmStatusPooling,paymentEntity:e.getAPMEntity()},null===(i=e.iframe)||void 0===i?void 0:i.getWindow());e.messageBus.unsubscribe(t);}});}},{key:"subscribeForPixBankIntegrationUrl",value:function(){var e=this;this.messageBus.subscribeForPublic(function t(n){if(My.includes(n.origin)&&function(e){return!!e&&"object"==typeof e&&"type"in e&&"REQUEST_EXTERNAL_OPEN"===e.type&&"url"in e&&"string"==typeof e.url;}(n.data)){var r,i=n.data.url;null===(r=e.appConfig.sdkContext.apmExternalIntegration)||void 0===r||r.close(),e.appConfig.sdkContext.universalLinkHandler.open(i),e.setIsDisabled(!0),e.messageBus.unsubscribe(t);}});}},{key:"subscribeForClosePixForm",value:function(){var e=this;this.messageBus.subscribeForPrivate(function(t){var n;t.type===Cp.ClosePixForm&&t.integrity===e.appConfig.integrityToken&&(null===(n=e.buttonInstance)||void 0===n||n.destroy());});}}]);}(Ty);(Ay=Ly).externalFormId=ly.externalFormId,Ay.externalFormContainerId=ly.externalFormContainerId;var Ny,Dy=function(){return d(function e(t,n,r,i,o,s,c,u,l){var d;a(this,e),this.configuration=t,this.paymentButtonsView=n,this.iframe=r,this.tracking=i,this.logger=o,this.interactionsNotifier=s,this.messageBus=c,this.sdkABTests=u,this.sdkContext=l;var f=t.wallets,p=t.clientSide,h=t.language,m=t.intentId,g=t.host,y=t.token,v=t.integrityToken,_=t.release,w=t.app,k=t.collect,S=t.customerEmail,x=b({},k);null!==(d=this.sdkABTests)&&void 0!==d&&d.collectZipDSRP.get()&&(x.zip=!0),this.googlePayButton=new xy(f.google,p.google,h,this.paymentButtonsView,this.iframe,this.tracking,this.logger,this.interactionsNotifier,this.messageBus,x),this.applePayButton=new vy(f.apple,p.apple,{createSessionUrl:w.apple.createSessionUrl},y,_,h,this.paymentButtonsView,this.iframe,this.tracking,this.logger,this.interactionsNotifier,this.messageBus,x),this.paypalButton=new Oy(f.paypal,p.paypal,{baseApiPath:w.paypal.baseApiPath,polymorph:w.paypal.polymorph},h,this.paymentButtonsView,this.iframe,this.tracking,this.logger,this.interactionsNotifier,this.messageBus),this.pixButton=new Ly(f.smartpix,p.pix,{externalFormBaseUrl:w.pix.externalFormBaseUrl,integrityToken:v,logoUrl:w.pix.logoUrl,logoVariant:w.pix.logoVariant,paymentIntent:{id:m,host:g,token:y},pixVariant:w.pix.pixVariant,sdkContext:this.sdkContext},h,this.paymentButtonsView,this.iframe,this.tracking,this.logger,this.interactionsNotifier,this.messageBus,{email:S||""}),this.mbWayButton=new Py(f.mbway,p.mbway,{externalFormBaseUrl:w.mbway.externalFormBaseUrl,integrityToken:v,logoUrl:w.mbway.logoUrl,paymentIntent:{id:m,host:g,token:y},sdkContext:this.sdkContext},h,this.paymentButtonsView,this.iframe,this.tracking,this.logger,this.interactionsNotifier,this.messageBus,{email:S||""}),this.click2PayButton=new Sy(f.clickToPay,p.clickToPay,{externalFormBaseUrl:w.clickToPay.externalFormBaseUrl,integrityToken:v,paymentIntent:{id:m,host:g,token:y,customerEmail:S||""},sdkContext:this.sdkContext},h,this.paymentButtonsView,this.iframe,this.tracking,this.logger,this.interactionsNotifier,this.messageBus);},[{key:"buttons",get:function(){return[{button:this.applePayButton,name:"applePay",configName:"apple"},{button:this.googlePayButton,name:"googlePay",configName:"google"},{button:this.paypalButton,name:"paypal",configName:"paypal"},{button:this.pixButton,name:"pix",configName:"pix"},{button:this.mbWayButton,name:"mbWay",configName:"mbway"},{button:this.click2PayButton,name:"click2Pay",configName:"clickToPay"}];}},{key:"resize",value:function(){this.paymentButtonsView.resize();}},{key:"completeApplePayment",value:function(e){this.applePayButton.completeApplePayment(e);}},{key:"update",value:function(e){e.price&&this.updatePrice(e.price),e.appearance&&this.updateAppearance(e.appearance),e.customerEmail&&this.updateCustomerEmail(e.customerEmail);}},{key:"updatePrice",value:function(e){this.buttons.forEach(function(t){t.button.updatePrice(e);});}},{key:"updateAppearance",value:function(e){this.buttons.forEach(function(t){var n=t.button;"updateAppearance"in n&&"function"==typeof n.updateAppearance&&n.updateAppearance(e.applePay);});}},{key:"updateCustomerEmail",value:function(e){this.buttons.forEach(function(t){var n=t.button;"updateCustomerEmail"in n&&n.updateCustomerEmail(e);});}},{key:"setIsDisabled",value:function(e){this.paymentButtonsView.setIsDisabled(e),this.buttons.forEach(function(t){t.button.setIsDisabled(e);});}},{key:"destroy",value:function(){this.buttons.forEach(function(e){e.button.destroy();}),this.paymentButtonsView.destroy();}},{key:"appendPaymentButtons",value:function(){var e=this,t=this.configuration.clientSide;this.clear();var n=function(){},r={allSettled:new Promise(function(e){n=e;})};this.buttons.forEach(function(n){var i=n.button,o=n.name,a=n.configName;if(e.paymentButtonsView.canAppend(t[a])){var s=i.append();s&&(r[o]=s);}});var i=Object.keys(r).filter(function(e){return"allSettled"!==e;}).map(function(e){return r[e];});return Promise.all(i).then(function(){n();}),r;}},{key:"clear",value:function(){this.buttons.forEach(function(e){e.button.clear();}),this.paymentButtonsView.destroy();}}],[{key:"prefetch",value:function(){xy.prefetch();}}]);}(),By=function(){return d(function e(){a(this,e),this.paymentButtons=null,this.locks=[];},[{key:"acquire",value:function(e){this.locks.push(e),this.apply();}},{key:"release",value:function(e){this.locks=this.locks.filter(function(t){return t!==e;}),this.apply();}},{key:"apply",value:function(){this.paymentButtons&&this.paymentButtons.setIsDisabled(!this.isEnabled);}},{key:"isEnabled",get:function(){return 0===this.locks.length;}}]);}(),Fy=function(){return d(function e(t){a(this,e),this.messageBus=t,this.lastNotified=null;},[{key:"notify",value:function(e){var t=e.priceBreakdown;this.lastNotified&&JSON.stringify(t)===JSON.stringify(this.lastNotified)||(this.lastNotified=t,this.messageBus.sendPublicMessage({type:Rl.PaymentDetails,payment:{priceBreakdown:t}}));}},{key:"renotify",value:function(){this.lastNotified&&this.messageBus.sendPublicMessage({type:Rl.PaymentDetails,payment:{priceBreakdown:this.lastNotified}});}},{key:"getState",value:function(){return this.lastNotified?{priceBreakdown:this.lastNotified}:null;}},{key:"flush",value:function(){this.lastNotified=null;}}]);}(),Uy=window.innerWidth<=500,jy={position:"relative",backgroundColor:"white",height:Uy?"100%":"600px",width:Uy?"100%":"500px",maxWidth:"100vw",maxHeight:"100vv",borderRadius:Uy?"0px":"12px"},$y={display:"none",transition:"opacity 0.2s ease-in",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:"2147483647",height:"100vh",width:"100vw",position:"fixed",opacity:"0",top:"0",left:"0",backgroundColor:"rgba(0, 0, 0, 0.8)"},zy=b(b({},jy),{},{height:"auto",width:"auto",minHeight:"168px",minWidth:"368px"}),Hy={paddingTop:"24px",paddingBottom:"8px",margin:"0 auto",width:"48px"},Wy={position:"absolute",top:"16px",right:"16px",cursor:"pointer"},qy={fontFamily:"Arial",fontStyle:"normal",fontWeight:"400",fontSize:"14px",lineHeight:"24px",textAlign:"center",maxWidth:"264px",boxSizing:"border-box",padding:"0 24px 40px",margin:"0 auto",color:"#000000"},Vy={height:"100%",width:"100%",borderRadius:"inherit",border:"none"},Gy=function(){return d(function e(t){a(this,e),this.uuid=t,this.iframe=null,this.iframeId="verify-iframe-modal-".concat(this.uuid()),this.modal=this.createThreeDSModal();},[{key:"open",value:function(e){var t=this,n=e.url,r=e.onSuccess;this.iframe&&(this.iframe.src=n),r(),this.modal.style.display="flex",setTimeout(function(){t.modal.style.opacity="1";},40);}},{key:"close",value:function(){var e=this;this.modal&&(setTimeout(function(){e.modal.style.opacity="0";},40),setTimeout(function(){try{Boolean(document)&&Boolean(document.body)&&document.body.contains(e.modal)&&document.body.removeChild(e.modal);}catch(t){}},300));}},{key:"getWindow",value:function(){return window.frames[this.iframeId];}},{key:"createThreeDSModal",value:function(){var e=this.create3DSIframe(),t=document.createElement("div");Object.assign(t.style,jy),t.appendChild(e);var n=document.createElement("div");return n.appendChild(t),Object.assign(n.style,$y),document.body.appendChild(n),n;}},{key:"create3DSIframe",value:function(){var e=document.createElement("iframe");return e.setAttribute("test-id","verify-iframe-modal-test-id"),e.id=this.iframeId,e.name=this.iframeId,e.allow="payment *",Object.assign(e.style,Vy),this.iframe=e,e;}}]);}(),Yy=function(){function e(t){var n=this;a(this,e),this.message=t,this.messageBox=null,this.modal=this.createThreeDSModal(),this.close=function(){n.modal&&(setTimeout(function(){n.modal.style.opacity="0";},40),setTimeout(function(){var e;return null===(e=document)||void 0===e?void 0:e.body.removeChild(n.modal);},300));};}return d(e,[{key:"open",value:function(){var e=i(_().mark(function e(t){var n,r,i,o=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.onSuccess,i=t.onFail,e.next=3,this.openNewTab(n);case 3:if(e.sent){e.next=7;break;}return i(),e.abrupt("return");case 7:this.messageBox&&(this.messageBox.innerText=this.message||""),r(),this.modal.style.display="flex",setTimeout(function(){o.modal.style.opacity="1";},40);case 11:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"getWindow",value:function(){}},{key:"openNewTab",value:function(e){var t=window.open(e,"_blank");return Promise.resolve(!(null==t||!t.opener));}},{key:"createThreeDSModal",value:function(){var e=this.createIcon(),t=this.createMessageBox(),n=this.createCross();this.messageBox=t;var r=document.createElement("div");Object.assign(r.style,zy);var i=document.createElement("div");return Object.assign(i.style,$y),r.appendChild(e),r.appendChild(t),r.appendChild(n),i.appendChild(r),document.body.appendChild(i),i;}},{key:"createIcon",value:function(){var t=document.createElement("div");return Object.assign(t.style,Hy),t.innerHTML=e.iconSvg,t;}},{key:"createCross",value:function(){var t=this,n=document.createElement("div");return Object.assign(n.style,Wy),n.innerHTML=e.crossSvg,n.addEventListener("click",function(){t.close();}),n;}},{key:"createMessageBox",value:function(){var t=document.createElement("div");return Object.assign(t.style,qy),t.innerHTML=e.iconSvg,t;}}]);}();(Ny=Yy).iconSvg='\n    <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <rect x="15" y="7" width="30" height="22" rx="2" stroke="#2771FF" stroke-width="2"/>\n      <path opacity="0.4" d="M14 18H5C3.34315 18 2 19.3431 2 21V39C2 40.6569 3.34315 42 5 42H31C32.6569 42 34 40.6569 34 39V30H32V39C32 39.5523 31.5523 40 31 40H5C4.44772 40 4 39.5523 4 39V21C4 20.4477 4.44772 20 5 20H14V18Z" fill="#2771FF"/>\n    </svg>\n  ',Ny.crossSvg='\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9394 12L4.46973 5.53033L5.53039 4.46967L12.0001 10.9393L18.4697 4.46967L19.5304 5.53033L13.0607 12L19.5304 18.4697L18.4697 19.5303L12.0001 13.0607L5.53039 19.5303L4.46973 18.4697L10.9394 12Z" fill="#BEBEBE"/>\n    </svg>\n  ';var Jy=function(){return d(function e(){a(this,e),this.modalElement=null,this.windowRef=null,this.isOpened=!1;},[{key:"isConfirmationModalOpened",get:function(){return this.isOpened;}},{key:"open",value:function(e){return this.isOpened?(console.warn("Modal is already opened. Cannot open multiple modals simultaneously."),null):(this.createModal(e),this.isOpened=!0,null);}},{key:"close",value:function(){this.isOpened&&(this.removeModal(),this.closeExternalWindow(),this.isOpened=!1);}},{key:"createModal",value:function(e){var t=this,n=document.createElement("div");n.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.5);\n      z-index: 1000;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-family: sans-serif;\n    ";var r=document.createElement("div");r.style.cssText="\n      background: white;\n      border-radius: 8px;\n      padding: 24px;\n      max-width: 400px;\n      width: 90%;\n      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n      text-align: center;\n    ";var i=document.createElement("p");i.textContent="To complete the payment proceed to the mobile banking",i.style.cssText="\n      margin: 0 0 24px 0;\n      font-size: 16px;\n      line-height: 1.5;\n      color: #333;\n    ";var o=document.createElement("div");o.style.cssText="\n      display: flex;\n      gap: 12px;\n      justify-content: center;\n    ";var a=document.createElement("button");a.textContent="Cancel",a.style.cssText="\n      padding: 10px 20px;\n      border: 1px solid #ccc;\n      background: white;\n      border-radius: 4px;\n      cursor: pointer;\n      font-size: 14px;\n      color: #333;\n    ",a.addEventListener("click",function(){t.close();});var s=document.createElement("button");s.textContent="Continue",s.style.cssText="\n      padding: 10px 20px;\n      border: none;\n      background: #007bff;\n      color: white;\n      border-radius: 4px;\n      cursor: pointer;\n      font-size: 14px;\n    ",s.addEventListener("click",function(){t.windowRef=window.open(e,"_blank"),t.removeModal(),t.isOpened=!1;}),o.appendChild(a),o.appendChild(s),r.appendChild(i),r.appendChild(o),n.appendChild(r),document.body.appendChild(n),this.modalElement=n,n.addEventListener("click",function(e){e.target===n&&t.close();});document.addEventListener("keydown",function e(n){"Escape"===n.key&&(t.close(),document.removeEventListener("keydown",e));});}},{key:"removeModal",value:function(){this.modalElement&&(document.body.removeChild(this.modalElement),this.modalElement=null);}},{key:"closeExternalWindow",value:function(){this.windowRef&&!this.windowRef.closed&&this.windowRef.close(),this.windowRef=null;}}]);}(),Ky=function(){return d(function e(t,n,r,i,o,s,c){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(){};a(this,e),this.logger=t,this.merchantLogger=n,this.messageBus=r,this.tracking=i,this.powHttpClient=o,this.scriptSource=s,this.uuid=c,this.onFlush=u,this._paymentsButtons=null,this._intent=null,this.previousIntent=null,this.PENDING_PRICE_UPDATE_LOCK=Symbol("pending_price_update"),this.paymentButtonsInteractivity=new By(),this.paymentDetailsNotifier=new Fy(this.messageBus),this.initConfig=null,this.resignConfig=null,this.initialized=!1,this.iframe=null,this.integrityToken=null,this.interactionsNotifier=null,this.threeDSFlow=null,this.isUnknownStateAfterUpdate=!1,this.sdkABTests=null,this.apiSdkABTests=null,this.apmExternalIntegration=null,this.universalLinkHandler=new Jy(),Dy.prefetch();},[{key:"setIntent",value:function(e){e&&this.paymentDetailsNotifier.notify({priceBreakdown:e.priceBreakdown}),this._intent=e;}},{key:"renotifyIntent",value:function(){this.paymentDetailsNotifier.renotify();}},{key:"hasActiveIntent",value:function(){return!!this._intent;}},{key:"flush",value:function(){var e,t,n,r;null===(e=this.threeDSFlow)||void 0===e||e.close(),null===(t=this.apmExternalIntegration)||void 0===t||t.close(),null===(n=this.iframe)||void 0===n||n.destroy(),null===(r=this.paymentsButtons)||void 0===r||r.destroy(),this.paymentDetailsNotifier.flush(),this.universalLinkHandler.close(),this.tracking.clear(),this.threeDSFlow=null,this.iframe=null,this.paymentsButtons=null,this.integrityToken=null,this.initConfig=null,this.resignConfig=null,this.previousIntent=this._intent,this._intent=null,this.isUnknownStateAfterUpdate=!1,this.paymentButtonsInteractivity.release(this.PENDING_PRICE_UPDATE_LOCK),this.sdkABTests=null,this.apiSdkABTests=null,this.onFlush();}},{key:"choose3DSFlowScenario",value:function(e,t,n){var r=this;if(e===wh.Modal)this.threeDSFlow=new Gy(this.uuid);else if(e===wh.Tab)this.threeDSFlow=new Yy(n||"");else{var i;this.logger.error(new ka("Unsupported verify flow",{verifyType:e,intendId:null===(i=this._intent)||void 0===i?void 0:i.id}));}this.threeDSFlow&&this.threeDSFlow.open({url:t,onFail:function(){var t;r.messageBus.sendPrivateMessage({type:Rl.PerformVerifyResult,verifyType:e,isSuccess:!1},null===(t=r.iframe)||void 0===t?void 0:t.getWindow());},onSuccess:function(){var t;r.messageBus.sendPrivateMessage({type:Rl.PerformVerifyResult,verifyType:e,isSuccess:!0},null===(t=r.iframe)||void 0===t?void 0:t.getWindow());}});}},{key:"openApmExternalIntegration",value:function(e){this.apmExternalIntegration=Ah.getIntegration(this.scriptSource,this.uuid),this.apmExternalIntegration.open(e);}},{key:"resize",value:function(e){var t,n,r,i;null===(t=this.iframe)||void 0===t||t.resize(e),null===(n=this.paymentsButtons)||void 0===n||n.resize();var o=parseInt(String(e.height)||(null===(r=this.iframe)||void 0===r?void 0:r.height)||"0");return{width:parseInt(String(e.width)||(null===(i=this.iframe)||void 0===i?void 0:i.width)||"0"),height:o,visible:!!this.iframe&&!this.iframe.isHidden};}},{key:"sendErrorToMerchant",value:function(e){var t;this.merchantLogger.error(e),function(e){return e instanceof Error&&!!e.details;}(e)&&(t=e.details);try{this.messageBus.sendPublicMessage({type:Ip.Error,value:{name:e.name,message:e.message,stack:e.stack},details:t});}catch(HD){this.logger.error(ka.wrap(HD,"Failed to send error to merchant"));}}},{key:"sendTokenToForm",value:function(e){var t,n,r,i=(null===(t=this._intent)||void 0===t?void 0:t.id)===e,o=!!this._intent;this.messageBus.sendPrivateMessage({type:Rl.TokenResponse,token:this._intent&&i?this._intent.token:""},null===(n=this.threeDSFlow)||void 0===n?void 0:n.getWindow()),this.messageBus.sendPrivateMessage({type:Rl.TokenResponse,token:this._intent&&i?this._intent.token:""},null===(r=this.iframe)||void 0===r?void 0:r.getWindow()),o||this.logger.error(new ka("Intent is missing")),i||this.logger.error(new ka("Intent is not the same"));}},{key:"getLastKnownIntentTracking",value:function(){var e=this._intent||this.previousIntent;return null==e?void 0:e.tracking;}},{key:"paymentsButtons",get:function(){return this._paymentsButtons;},set:function(e){this._paymentsButtons=e,this.paymentButtonsInteractivity.paymentButtons=e,this.paymentButtonsInteractivity.apply();}},{key:"powSolution",get:function(){return this.powHttpClient.getSolution();},set:function(e){this.powHttpClient.setSolution(e);}}]);}(),Xy=function(e){function t(e){var n;a(this,t);var r="string"==typeof e?e:JSON.stringify(e);return(n=o(this,t,["Unable to apply coupon: ".concat(r)])).name="ApplyCouponError","string"!=typeof e&&(n.details=e),n;}return g(t,e),d(t);}(C(Error)),Zy=function(){return d(function e(){var t,n=this;a(this,e),this.onSuccess=function(){},this.onFail=function(){},this.isCompleted=!1,this.result=new Promise(function(e,t){n.onSuccess=e,n.onFail=t;}),this.result=this.result.catch(function(e){t=e;}).then(function(e){return n.isCompleted=!0,n.cleanup(),t?Promise.reject(t):e;});},[{key:"cleanup",value:function(){}}]);}(),Qy=function(e){function t(e,n,r,i){var s;return a(this,t),(s=o(this,t)).couponCode=e,s.context=n,s.messageBus=r,s.logger=i,s.trace=null,s.context.paymentButtonsInteractivity.acquire(t.SCHEDULED_INTERACTIVITY_LOCK),s;}return g(t,e),d(t,[{key:"handleSuccess",value:function(e){var t,n=this.context.paymentsButtons;null==n||n.update({price:{amount:e.price.amount,currency:e.price.currency}}),this.context.paymentButtonsInteractivity.release(this.context.PENDING_PRICE_UPDATE_LOCK),this.onSuccess(e),null===(t=this.trace)||void 0===t||t.finish();}},{key:"handleFail",value:function(e,t){var n;this.onFail(e),null===(n=this.trace)||void 0===n||n.finish(t);}},{key:"applyCouponFinished",value:function(){var e=this;return new Promise(function(t){e.messageBus.subscribeForPrivate(function n(r){r.type===Cp.CouponApplied&&(e.messageBus.unsubscribe(n),t(r));});});}},{key:"validate",value:function(){var e;return null!==(e=this.context.iframe)&&void 0!==e&&e.isPresentInDOM()?this.context.isUnknownStateAfterUpdate?[Ds.Unavailable,new Xy("Cannot apply coupon after failed update")]:null:[Ds.Cancelled,new Xy("Payment form iframe not found")];}},{key:"execute",value:function(){var e=i(_().mark(function e(){var t,n,r,i,o,a=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.context.resignConfig){e.next=3;break;}return this.handleFail(new Xy("Resign intents does not support coupons"),Ds.InvalidArgument),e.abrupt("return");case 3:if(this.trace=this.logger.trace("ApplyCoupon"),this.logLongExecution(),null===(n=this.validate())){e.next=10;break;}return r=k(n,2),i=r[0],o=r[1],this.handleFail(o,i),e.abrupt("return");case 10:return this.context.paymentButtonsInteractivity.acquire(this.context.PENDING_PRICE_UPDATE_LOCK),this.messageBus.sendPrivateMessage({type:Rl.ApplyCoupon,couponCode:this.couponCode},null===(t=this.context.iframe)||void 0===t?void 0:t.getWindow()),e.abrupt("return",Promise.race([this.context.iframe.unmounted().then(function(){a.isCompleted||a.handleFail(new Xy("Payment form iframe was removed from DOM before update ended"),Ds.Cancelled);}),this.applyCouponFinished().then(function(e){if(!a.isCompleted)if(e.error)a.handleFail(new Xy(e.error),Ds.InvalidArgument);else{var t={productPrice:e.productPrice,discountPrice:e.discountPrice,trialPrice:e.trialPrice,price:e.price};a.handleSuccess(t),a.context.paymentDetailsNotifier.notify({priceBreakdown:t});}})]));case 13:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"logLongExecution",value:function(){var e=this,t=this.trace;setTimeout(function(){e.isCompleted||(t.finish(Ds.InternalError),e.onFail(new Xy("Internal error during update")));},9e4);}},{key:"cleanup",value:function(){this.context.paymentButtonsInteractivity.release(t.SCHEDULED_INTERACTIVITY_LOCK);}}]);}(Zy);Qy.SCHEDULED_INTERACTIVITY_LOCK=Symbol("scheduled_coupon");var ev=function(){return d(function e(t,n){var r=this;a(this,e),this.prefix=t,this.ttlSeconds=n,this.key="",this.set=function(e){var t="".concat(r.getCacheKey(),"=").concat(JSON.stringify({value:e}),"; max-age=").concat(r.ttlSeconds,"; SameSite=None; Secure; Partitioned"),n=r.getDomain();n&&(t+="; domain=".concat(n)),document.cookie=t;},this.get=function(){var e=new RegExp("(?:(?:^|.*;\\s*)".concat(r.getCacheKey(),"\\s*\\=\\s*([^;]*).*$)|^.*$")),t=document.cookie.replace(e,"$1");return t&&JSON.parse(t).value||null;},this.getCacheKey=function(){return"".concat(r.prefix,"_").concat(r.key);},this.getDomain=function(){var e=window.location.hostname.match(/[^.]*\.[^.]*$/);return e?e[0]:"";};},[{key:"init",value:function(e){this.key=e;}}],[{key:"canBeCreated",value:function(){document.cookie="key1=value; SameSite=None; Secure; Partitioned",document.cookie="key2=value; SameSite=None; Secure; Partitioned";var e=document.cookie.includes("key1")&&document.cookie.includes("key2");return e&&(document.cookie="key1=value; Expires=Thu, 01 Jan 1970 00:00:01 GMT; SameSite=None; Secure; Partitioned",document.cookie="key2=value; Expires=Thu, 01 Jan 1970 00:00:01 GMT; SameSite=None; Secure; Partitioned"),e;}}]);}(),tv=function(e){return e.Default="default",e.Continue="continue",e;}(tv||{}),nv=function(e){return e.Default="default",e.Card="card",e.Inline="inline",e.Flat="flat",e;}(nv||{});function rv(e){return new Promise(function(t){return setTimeout(t,e);});}function iv(e){window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,0);}var ov=function(e){function t(){var e;return a(this,t),(e=o(this,t,arguments)).name="ConnectionError",e.message="It seems user currently experiencing some problems with connection",e;}return g(t,e),d(t);}(C(Error)),av=function(e){function t(e){var n;return a(this,t),(n=o(this,t,[e])).name="FormInitializationDtoError",n;}return g(t,e),d(t);}(C(Error)),sv=function(e){function t(e){var n;return a(this,t),(n=o(this,t,[e])).name="SdkError",n;}return g(t,e),d(t);}(C(Error)),cv=d(function e(){a(this,e);}),uv=function(e){function t(e){var n;return a(this,t),(n=o(this,t,[e])).name="PaymentButtonsViewError",n;}return g(t,e),d(t);}(C(Error)),lv="payment-buttons",dv="payment-buttons-column",fv=["form_body","card_number","expiry_date","card_cvv","card_holder","zip_code","card_cpf","card_dni","card_pin","card_curp","email","submit_button","header","form_title","two-columns","card_view","body_errors","card_brands","secure_info","input_group","additional_field","resign-form","resign-form-content","resign-card-preview","resign-card-brand-icon","resign-unknown-card-icon","resign-card-preview-content","resign-card-card-brand-name","resign-card-ending-in-text","resign-card-last-four","resign-input-group","resign-input-block","resign-label","resign-cvv","resign-dotted-placeholder","resign-tooltip-icon","resign-tooltip","resign-submit-button"],pv={opacity:0,position:"absolute",zIndex:"-99999999"},hv={opacity:1,position:"static",zIndex:"initial"},mv=function(){return d(function e(t,n,r){a(this,e),this.iframe=t,this.logger=n,this.merchantLogger=r,this.isShown=!1,this.buttons=[];},[{key:"canAppend",value:function(e){return null!=e&&e.containerId&&!document.getElementById(e.containerId)&&this.merchantLogger.warning(new uv("Container for payment button with id: ".concat(e.containerId," does not exist"))),!e||!e.hasOwnProperty("enabled")||!!e.enabled;}},{key:"append",value:function(e,t){var n;this.buttons.push([t,e]),null===(n=this.getContainer(t))||void 0===n||n.appendChild(e);}},{key:"remove",value:function(e){var t=e.parentElement;e.remove(),t&&!t.children.length&&t.remove();}},{key:"destroy",value:function(){var e,t,n=this;this.buttons.forEach(function(e){var t=k(e,1)[0],r=n.getCustomContainer(t);r&&(r.innerHTML="");}),null===(e=this.getInlineContainer())||void 0===e||e.remove(),null===(t=this.getColumnContainer())||void 0===t||t.remove(),this.buttons=[];}},{key:"show",value:function(){this.isShown=!0,this.getAllContainers().forEach(function(e){Object.assign(e.style,hv);});}},{key:"resize",value:function(){var e=this.getInlineContainer(),t=this.getColumnContainer();e&&(e.style.width=this.iframe.width),t&&(t.style.width=this.iframe.width);}},{key:"setIsDisabled",value:function(e){this.buttons.forEach(function(t){var n=k(t,2);n[0];var r=n[1];r&&(r.disabled=e,r.style.opacity=e?"0.8":"1",r.style.pointerEvents=e?"none":"initial");});}},{key:"getAllContainers",value:function(){var e=this,t=this.buttons.reduce(function(t,n){var r=k(n,1)[0],i=e.getContainer(r);return i&&t.push(i),t;},[]),n=this.getInlineContainer(),r=this.getColumnContainer();return[].concat(S(t),S(n?[n]:[]),S(r?[r]:[]));}},{key:"getContainer",value:function(e){return this.getCustomContainer(e)||this.getOrCreateDefaultContainer(e);}},{key:"getCustomContainer",value:function(e){if(null!=e&&e.containerId)return document.getElementById(e.containerId);}},{key:"getOrCreateDefaultContainer",value:function(e){var t=this.getInlineContainer()||this.createInlineContainer(),n=this.getColumnContainer()||this.createColumnContainer(),r=document.getElementById(this.iframe.containerId);if(r){if(null!=e&&e.fullWidth)return n?(this.insertColumnContainer(n,r),n):void this.logger.error(new ka("Payment buttons: column container does not exist"));if(t)return this.insertInlineContainer(t,r),t;this.logger.error(new ka("Payment buttons: inline container does not exist"));}else this.merchantLogger.error(Rp.DoesNotExist(this.iframe.containerId));}},{key:"getInlineContainer",value:function(){return document.getElementById(lv);}},{key:"getColumnContainer",value:function(){return document.getElementById(dv);}},{key:"insertInlineContainer",value:function(e,t){if(!this.getInlineContainer()){var n=this.getColumnContainer();n?n.before(e):t.prepend(e);}}},{key:"insertColumnContainer",value:function(e,t){if(!this.getColumnContainer()){var n=this.getInlineContainer();n?n.after(e):t.prepend(e);}}},{key:"createInlineContainer",value:function(){var e=document.createElement("div");return e.id=lv,e.className=String(lv),Object.assign(e.style,b({width:this.iframe.width,padding:"0",marginBottom:"0.5em",display:"grid",gap:"0.5em",height:"3.3em",boxSizing:"border-box",gridTemplateColumns:"repeat(auto-fit, minmax(50px, 1fr))",gridTemplateRows:"3.3em"},this.isShown?hv:pv)),e;}},{key:"createColumnContainer",value:function(){var e=document.createElement("div");return e.id=dv,e.className=String(dv),Object.assign(e.style,b({width:this.iframe.width,padding:"0",display:"grid",marginBottom:"0.5em",gap:"0.5em",boxSizing:"border-box",gridTemplateColumns:"minmax(50px, 1fr)"},this.isShown?hv:pv)),e;}}]);}(),gv=function(e){return e.collectZipDSRP="collect-zipDSRP",e.pixLogoVariantPix="pix-button-pix",e.pixLogoVariantAccount="pix-button-account",e;}(gv||{}),yv=function(){return d(function e(t,n){a(this,e),this.name=t,this.tests=n;},[{key:"get",value:function(){return this.tests.includes(this.name);}}]);}(),vv=d(function e(t,n){a(this,e),this.logger=n;var r=[];Array.isArray(t)?r=t:this.logger.error(new ka("Invalid backend tests received, should be an array",{tests:t})),this.collectZipDSRP=new yv(gv.collectZipDSRP,r),this.pixLogoVariantPix=new yv(gv.pixLogoVariantPix,r),this.pixLogoVariantAccount=new yv(gv.pixLogoVariantAccount,r);}),bv=function(e){return e.Input="input",e.Button="button",e;}(bv||{}),_v=function(e){return e.Click="click",e.Focus="focus",e.Blur="blur",e.Change="change",e.EnterKeyDown="enterKeyDown",e;}(_v||{}),wv=function(e){return e.CardNumber="cardNumber",e.CardCvv="cardCvv",e.CardExpiryDate="cardExpiryDate",e.CardHolder="cardHolder",e.Zip="zip",e.Email="email",e.BrazilCustomerPhone="brazilCustomerPhone",e.BrazilZip="brazilZip",e.BillingAddress="billingAddress",e.BillingCity="billingCity",e.BillingState="billingState",e.PakistanCnic="pakistanCnic",e;}(wv||{}),kv=function(e){return e.ResignCvv="resignCvv",e;}(kv||{}),Sv=function(){return d(function e(t,n){switch(a(this,e),this.messageBus=t,n){case"cardForm":this.state={cardForm:{fields:p(p(p({},wv.CardNumber,{isValid:!1,isTouched:!1}),wv.CardCvv,{isValid:!1,isTouched:!1}),wv.CardExpiryDate,{isValid:!1,isTouched:!1}),isTouched:!1,isValid:!1}};break;case"resignForm":this.state={resignForm:{fields:p({},kv.ResignCvv,{isValid:!1,isTouched:!1}),isTouched:!1,isValid:!1}};}},[{key:"processFormMessage",value:function(e){this.state=e,this.messageBus.sendPublicMessage(b(b({},JSON.parse(JSON.stringify(e))),{},{type:Rl.Interaction}));}},{key:"processDsrpClick",value:function(e){this.messageBus.sendPublicMessage(b(b({},JSON.parse(JSON.stringify(this.state))),{},{type:Rl.Interaction,target:{type:bv.Button,name:e,interaction:_v.Click}}));}},{key:"processApmButtonClick",value:function(e){this.messageBus.sendPublicMessage(b(b({},JSON.parse(JSON.stringify(this.state))),{},{type:Rl.Interaction,target:{type:bv.Button,name:e,interaction:_v.Click}}));}}]);}(),xv=function(e){return e.Default="default",e.React="react",e.Angular="angular",e.Vue="vue",e;}(xv||{}),Ev=function(e){return e.FormBody=".form_body",e.TwoColumns=".two-columns",e.CardView=".card_view",e;}(Ev||{});function Cv(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,i=Object.keys(e);r<i.length;r++){var o=i[r],a=e[o];if("object"==typeof a&&!Array.isArray(a)&&a){var s=void 0;s=o.includes(":")?"":fv.includes(o)?".":" ",Cv(a,t+"".concat(s).concat(o),n);}else{var c=[":",Ev.TwoColumns,Ev.CardView],u=t===Ev.FormBody,l=t.includes(Ev.FormBody)&&c.some(function(e){return t.includes(e);}),d=!t.includes(Ev.FormBody);(l||u||d)&&(n[String(t)]?n[String(t)][o]=a:n[String(t)]=p({},o,a));}}return n;}function Iv(e){return e?"string"==typeof e?{}:function(e){var t=JSON.stringify(e),n={card_cpf:"brazil_cpf",card_dni:"argentina_dni",card_curp:"mexico_curp"};return Object.keys(n).forEach(function(e){var r=new RegExp(e,"g");t=t.replace(r,n[e]);}),JSON.parse(t);}(Cv(Object.keys(e).filter(function(e){return fv.includes(e);}).reduce(function(t,n){return t[n]=e[n],t;},{}))):{};}var Tv=function(){return d(function e(t,n,r,i){var o;a(this,e),this.config=t,this.branding=n,this.sdkVersion=r,this.polymorph=i,this.payload={styles:null},this.initType=null!==(o=n.getSdkInitType())&&void 0!==o?o:xv.Default,this.addMerchantStyles(t.styles),this.verifyInitType(),this.addMetadata();},[{key:"toJSON",value:function(e){return b({type:Rl.FormInitialization,paymentType:wy.Payment,originalConfig:this.config,integrity:e},this.payload);}},{key:"toApiCall",value:function(){return b(b({},this.config.merchantData),{},{sdkVersion:this.sdkVersion,meta:this.payload.meta,polymorph:this.polymorph||void 0});}},{key:"isIframeHidden",value:function(){var e;return!1===(null===(e=this.config.formParams)||void 0===e?void 0:e.enabled);}},{key:"styles",get:function(){return this.payload.styles;}},{key:"addMerchantStyles",value:function(e){if(e){var t=Iv(e);Object.keys(t).length&&(this.payload.styles=t);}}},{key:"addMetadata",value:function(){var e,t=this.branding.getIsBrandedLogoParameterName();this.payload.meta={isBrandLogoDefined:!!this.config.formParams&&void 0!==this.config.formParams[t],isFrameworkSdkUsed:!!this.branding.getSdkInitType(),cdn:this.branding.getCdnList(),customContainerId:(null===(e=this.config.iframeParams)||void 0===e?void 0:e.containerId)||this.branding.getDefaultFormId()};}},{key:"verifyInitType",value:function(){var e=this;Object.values(xv).some(function(t){return t===e.initType;})||(this.initType=xv.Default);}}]);}(),Pv=function(e){return e.VisaSecure="visa-secure",e.MccIdCheck="mcc-id-check",e.SSL="ssl",e.PCIDss="pci-dss",e.Norton="norton",e.McAffee="mc-affee",e;}(Pv||{}),Av=function(){return d(function e(t){a(this,e),this.schema=t;},[{key:"validate",value:function(e){var t=this,n={},r=!0;return Object.keys(e).forEach(function(i){var o=e[i],a=t.schema[i];if(!a)return!0;var s=a(o);s.isValid||(n[i]=s.reason,r=!1);}),r?[!0]:[!1,n];}}],[{key:"string",value:function(e){return"string"==typeof e?{isValid:!0}:{isValid:!1,reason:"Value should be a string"};}},{key:"boolean",value:function(e){return"boolean"==typeof e?{isValid:!0}:{isValid:!1,reason:"Value should be a boolean"};}},{key:"oneOf",value:function(e){return function(t){return e.includes(t)?{isValid:!0}:{isValid:!1,reason:"Value should be one of: '".concat(e.join("', '"),"'")};};}},{key:"isArray",value:function(e){return Array.isArray(e)?{isValid:!0}:{isValid:!1,reason:"Value should be an array"};}},{key:"isArrayOf",value:function(e){return function(t){return Array.isArray(t)?t.every(function(t){return e.includes(t);})?{isValid:!0}:{isValid:!1,reason:"Value should be an array of: '".concat(e.join("', '"),"'")}:{isValid:!1,reason:"Value should be an array"};};}}]);}(),Rv=function(e){function t(e){var n;a(this,t);var r=zg.reduce(function(e,t){return e["".concat(t,"Label")]=Av.string,e["".concat(t,"Placeholder")]=Av.string,e;},{});return o(this,t,[b((n={enabled:Av.boolean,autoFocus:Av.boolean,buttonType:Av.oneOf(Object.values(tv)),submitButtonText:Av.string,isCardHolderVisible:Av.boolean,hideCvvNumbers:Av.boolean,headerText:Av.string,titleText:Av.string,formTypeClass:Av.oneOf(Object.values(nv))},p(p(p(p(p(p(p(p(p(p(n,e,Av.boolean),"cardBrands",Av.isArrayOf(Object.values(jg))),"secureBrands",Av.isArrayOf(Object.values(Pv))),"allowSubmit",Av.boolean),"googleFontLink",Av.string),"cardNumberLabel",Av.string),"cardNumberPlaceholder",Av.string),"cardCvvLabel",Av.string),"cardCvvPlaceholder",Av.string),"cardExpiryDateLabel",Av.string),p(p(p(p(p(n,"cardExpiryDatePlaceholder",Av.string),"emailLabel",Av.string),"emailPlaceholder",Av.string),"zipCodeLabel",Av.string),"zipCodePlaceholder",Av.string)),r)]);}return g(t,e),d(t);}(Av),Ov=function(e){function t(e,n,r,i,s,c,u,l,d,f,p,h){var m;return a(this,t),(m=o(this,t)).config=e,m.context=n,m.logger=r,m.api=i,m.tracking=s,m.branding=c,m.merchantLogger=u,m.messageBus=l,m.uuid=d,m.release=f,m.iframePool=p,m.locationService=h,m.paymentButtonsExist=!1,m.trace=null,m.polymorph=null,m.polymorph=t.getPolymorphCookie(),m;}return g(t,e),d(t,[{key:"execute",value:function(){var e=i(_().mark(function e(){var n,r,o,a,s,c,u,l,d,f,p,h,m,g,y,v,b,w,S=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.getMBWayEnabledCookie())&&Boolean(this.config.mbwayButtonParams)&&(this.config.mbwayButtonParams=void 0),this.context.initialized&&this.context.flush(),this.context.initialized=!0,this.tracking.cdnTest(this.branding.getCdnList()[0]),r=this.validate(),o=k(r,2),a=o[0],s=o[1],a){e.next=9;break;}return this.onFail(s),e.abrupt("return");case 9:return c=new Tv(this.config,this.branding,this.release,this.polymorph),u=this.uuid(),this.context.integrityToken=u,this.trace=this.logger.trace("Initialization-v2"),this.logLongExecution(),this.context.initConfig=this.config,l=this.trace.addSpan("IframeLoading","resource"),d=this.iframePool.getIframe(),this.context.iframe=d,e.next=20,this.mountIframe(d,u);case 20:if("Mounted"===d.state){e.next=24;break;}return this.trace.finish(Ds.NotFound),this.onFail(new sv("Element with containerId: ".concat(null===(f=this.config.iframeParams)||void 0===f?void 0:f.containerId," is missing"))),e.abrupt("return");case 24:return p=this.tracking.initTime(),d.onLoad(function(){S.tracking.scriptLoadTime(),S.messageBus.sendPrivateMessage(c.toJSON(u),d.getWindow()),l.finish();}),this.context.apiSdkABTests=new cv(),h=this.trace.addSpan("InitPaymentRequest","http"),e.next=30,this.api.init(c.toApiCall(),n);case 30:if(m=e.sent,g=m.result,y=m.retries,!(g instanceof Error)){e.next=38;break;}return this.context.sendErrorToMerchant(g),this.onFail(g),this.trace.finish(Ds.PermissionDenied),e.abrupt("return");case 38:return this.tracking.initNetworkError(y),h.finish(),this.context.setIntent(g),"tracking"in g&&Boolean(g.tracking)&&this.tracking.init(g.tracking.trackSignature,g.tracking.trackId,this.config.merchantData.merchant),this.context.sdkABTests=new vv(g.tests,this.logger),d.setIntentMetadata(g.id,g.host,wy.Payment),v=new Sv(this.messageBus,"cardForm"),this.context.interactionsNotifier=v,b=this.appendPaymentButtons(g,d,u,v),w=this.trace.addSpan("ReadyMessage","function"),e.abrupt("return",Promise.race([d.unmounted().then(function(){var e;S.isCompleted||(null===(e=S.trace)||void 0===e||e.finish(Ds.Cancelled),S.onFail(new sv("".concat(S.paymentButtonsExist?"Unable to append payment buttons: ":"","Payment form iframe was removed from DOM before initialization ended"))));}),new Promise(function(e){var t=function(){var n=i(_().mark(function n(r){var i,o;return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r.type===Cp.FormReady){n.next=2;break;}return n.abrupt("return");case 2:if(!1!==(null===(i=S.config.formParams)||void 0===i?void 0:i.enabled)&&d.show(),S.messageBus.sendPrivateMessage({type:Rl.RequestSize},d.getWindow()),iv(function(){d.enableTransitions();}),w.finish(),p(),r.integrity===u){n.next=9;break;}return n.abrupt("return");case 9:if(S.messageBus.unsubscribe(t),S.messageBus.sendPublicMessage({type:Rl.Mounted,entity:gy.Form}),S.tracking.domainsUsage({pageUrl:S.locationService.getPageUrl(),sdkReferrer:S.locationService.getSdkReferrer()}),e(),S.onSuccess(),!b){n.next=17;break;}return n.next=17,b;case 17:null===(o=S.trace)||void 0===o||o.finish();case 18:case"end":return n.stop();}},n);}));return function(e){return n.apply(this,arguments);};}();S.messageBus.subscribeForPrivate(t),d.onLoad(function(){S.messageBus.sendPrivateMessage({type:Rl.SetPaymentIntent,paymentIntent:g,powSolution:S.context.powSolution||void 0},d.getWindow());}),d.onError(function(n){var r,i=new ov();S.logger.error(new ka("Failed to load iframe",{error:n,url:S.branding.getIframeUrl()})),S.context.sendErrorToMerchant(i),S.messageBus.unsubscribe(t),null===(r=S.trace)||void 0===r||r.finish(Ds.DataLoss),S.onFail(i),e();});})]));case 49:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"appendPaymentButtons",value:function(e,t,n,r){if("new"===e.status){var i=this.makePaymentButtons(t,r,e,n),o=i.appendPaymentButtons();if(this.context.paymentsButtons=i,o.applePay){var a,s=null===(a=this.trace)||void 0===a?void 0:a.addSpan("ApplePayButtonLoading","resource");o.applePay.then(function(){null==s||s.finish();});}if(o.googlePay){var c,u=null===(c=this.trace)||void 0===c?void 0:c.addSpan("GooglePayButtonLoading","resource");o.googlePay.then(function(){null==u||u.finish();});}if(o.paypal){var l,d=null===(l=this.trace)||void 0===l?void 0:l.addSpan("PaypalButtonLoading","resource");o.paypal.then(function(){null==d||d.finish();});}return o.allSettled;}return null;}},{key:"makePaymentButtons",value:function(e,t,n,r){var i=this.context.scriptSource.includes("pixvariant=modal")?"modal":"tab";return new Dy({intentId:n.id,host:n.host,token:n.token,release:this.release,integrityToken:r,language:n.appearance.language,wallets:n.wallets,clientSide:{google:this.config.googlePayButtonParams,apple:this.config.applePayButtonParams,paypal:this.config.paypalButtonParams,pix:this.config.pixButtonParams,mbway:this.config.mbwayButtonParams,clickToPay:this.config.clickToPayButtonParams},app:{apple:{createSessionUrl:"".concat(this.branding.getPaymentFormUrl(),"/api/v2/").concat(n.host,"/apple-pay/session/").concat(n.id)},paypal:{baseApiPath:this.branding.getAltGateBaseUrl(),polymorph:this.polymorph},pix:{externalFormBaseUrl:this.branding.getIframeUrl(),logoUrl:"".concat(this.branding.getPaymentFormUrl(),"/img/sdk/payment-buttons/open-finance.svg"),logoVariant:"account",pixVariant:i},clickToPay:{externalFormBaseUrl:this.branding.getIframeUrl()},mbway:{externalFormBaseUrl:this.branding.getIframeUrl(),logoUrl:"".concat(this.branding.getPaymentFormUrl(),"/img/sdk/payment-buttons/mbway.svg")}},collect:{zip:n.appearance.collectZip,email:n.appearance.collectEmail},customerEmail:n.customerEmail},new mv(e,this.logger,this.merchantLogger),e,this.tracking,this.logger,t,this.messageBus,this.context.sdkABTests,this.context);}},{key:"validate",value:function(){var e,t,n=this;if(!this.config){var r=new av("Missing required arguments during initialization");return this.merchantLogger.error(r),[!1,r];}if(this.config.formParams){var i=this.branding.getIsBrandedLogoParameterName(),o=k(new Rv(i).validate(this.config.formParams),2),a=o[0],s=o[1];if(!a){var c=new av("Unsupported formParams values for fields: '".concat(Object.keys(s).join("', '"),"'"));this.merchantLogger.error(c,s);}}return null!==(e=this.config.formParams)&&void 0!==e&&e.buttonType&&!Object.values(tv).some(function(e){var t;return e===(null===(t=n.config.formParams)||void 0===t?void 0:t.buttonType);})&&(this.merchantLogger.error(new av("Unsupported formParams.buttonType, switching to default")),this.config.formParams.buttonType=tv.Default),null!==(t=this.config.formParams)&&void 0!==t&&t.formTypeClass&&!Object.values(nv).includes(this.config.formParams.formTypeClass)&&(this.merchantLogger.error(new av("Unsupported formParams.formTypeClass, switching to default")),this.config.formParams.formTypeClass=nv.Default),[!0];}},{key:"mountIframe",value:function(){var e=i(_().mark(function e(t,n){var r,i,o,a,s,c,u,l;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mount(n,null===(r=this.config.iframeParams)||void 0===r?void 0:r.containerId,null===(i=this.config.iframeParams)||void 0===i?void 0:i.width),"Mounted"===t.state){e.next=6;break;}return this.merchantLogger.warning("Retry creating iframe in 1 ms"),e.next=5,rv(1);case 5:t.mount(n,null===(o=this.config.iframeParams)||void 0===o?void 0:o.containerId,null===(a=this.config.iframeParams)||void 0===a?void 0:a.width);case 6:if("Mounted"===t.state){e.next=11;break;}return this.merchantLogger.warning("Retry creating iframe in 10 ms"),e.next=10,rv(10);case 10:t.mount(n,null===(s=this.config.iframeParams)||void 0===s?void 0:s.containerId,null===(c=this.config.iframeParams)||void 0===c?void 0:c.width);case 11:if("Mounted"===t.state){e.next=16;break;}return this.merchantLogger.warning("Retry creating iframe in 50 ms"),e.next=15,rv(50);case 15:t.mount(n,null===(u=this.config.iframeParams)||void 0===u?void 0:u.containerId,null===(l=this.config.iframeParams)||void 0===l?void 0:l.width);case 16:"Mounted"!==t.state&&this.merchantLogger.warning("Giving up retry creating iframe");case 17:case"end":return e.stop();}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"logLongExecution",value:function(){var e=this,t=this.trace;setTimeout(function(){e.isCompleted||(null==t||t.finish(Ds.InternalError),e.onFail(new sv("Internal error")));},9e4);}}],[{key:"getPolymorphCookie",value:function(){var e=new ev("payment_form",0);e.init("feature_polymorph");var t=e.get();return t?String(t):null;}},{key:"getMBWayEnabledCookie",value:function(){var e=new ev("payment_form",0);e.init("mbway_enabled");var t=e.get();return!!t&&"true"===String(t);}}]);}(Zy),Mv=function(e){return e.MonochromeLight="monochrome-light",e.MonochromeDark="monochrome-dark",e.Colored="colored",e;}(Mv||{}),Lv=function(e){function t(e){var n;return a(this,t),(n=o(this,t,[e])).name="FormResignDtoError",n;}return g(t,e),d(t);}(C(Error)),Nv=function(e){function t(){return a(this,t),o(this,t,[{autoFocus:Av.oneOf([!0,!1,"true"]),submitButtonText:Av.string,allowSubmit:Av.oneOf([!0,!1,"true"]),googleFontLink:Av.string,resignCvvLabel:Av.string,resignCvvPlaceholder:Av.string,hideCvvNumbers:Av.oneOf([!0,!1,"true"]),cardBrandIconStyle:Av.oneOf(Object.values(Mv))}]);}return g(t,e),d(t);}(Av),Dv=function(e){function t(){return a(this,t),o(this,t,[{autoFocus:Av.boolean,submitButtonText:Av.string,allowSubmit:Av.boolean,googleFontLink:Av.string,resignCvvLabel:Av.string,resignCvvPlaceholder:Av.string,hideCvvNumbers:Av.boolean,cardBrandIconStyle:Av.oneOf(Object.values(Mv))}]);}return g(t,e),d(t);}(Av),Bv=function(){return d(function e(t,n,r){var i,o;a(this,e),this.resign=t,this.branding=n,this.sdkVersion=r,this.payload={},this.initType=null!==(i=n.getSdkInitType())&&void 0!==i?i:xv.Default,this.addMerchantStyles(null===(o=this.resign.formConfig)||void 0===o?void 0:o.styles),this.verifyInitType(),this.addMetadata();},[{key:"toJSON",value:function(e){return{type:Rl.FormInitialization,paymentType:wy.Resign,formConfig:b(b({},this.resign.formConfig),{},{styles:this.inlineStyles}),integrity:e};}},{key:"toApiCall",value:function(){return b(b({},this.resign.request),{},{sdkVersion:this.sdkVersion,meta:this.payload.meta});}},{key:"styles",get:function(){return this.inlineStyles;}},{key:"addMerchantStyles",value:function(e){if(e){var t=Iv(e);Object.keys(t).length&&(this.inlineStyles=t);}}},{key:"addMetadata",value:function(){var e;this.payload.meta={isFrameworkSdkUsed:!!this.branding.getSdkInitType(),cdn:this.branding.getCdnList(),customContainerId:(null===(e=this.resign.formConfig)||void 0===e||null===(e=e.container)||void 0===e?void 0:e.id)||this.branding.getDefaultFormId()};}},{key:"verifyInitType",value:function(){var e=this;Object.values(xv).some(function(t){return t===e.initType;})||(this.initType=xv.Default);}}]);}(),Fv=function(e){function t(e,n,r,i,s,c,u,l,d,f,p,h){var m;return a(this,t),(m=o(this,t)).config=e,m.context=n,m.api=r,m.tracking=i,m.messageBus=s,m.logger=c,m.merchantLogger=u,m.branding=l,m.uuid=d,m.release=f,m.iframePool=p,m.locationService=h,m.trace=null,m;}return g(t,e),d(t,[{key:"execute",value:function(){var e=i(_().mark(function e(){var t,n,r,i,o,a,s,c,u,l,d,f,p,h,m,g,y,v,b=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context.initialized&&this.context.flush(),this.context.initialized=!0,r=this.validate(),i=k(r,2),o=i[0],a=i[1],o){e.next=6;break;}return this.onFail(a),e.abrupt("return");case 6:if(s=new Bv(this.config,this.branding,this.release),c=this.uuid(),this.trace=this.logger.trace("ResignInitialization-v2"),u=this.tracking.resignInitTime(),this.logLongExecution(),this.context.resignConfig=this.config,l=this.trace.addSpan("IframeLoading","resource"),d=this.iframePool.getIframe(),this.context.iframe=d,f=this.config.formConfig,d.mount(c,null==f||null===(t=f.container)||void 0===t?void 0:t.id,null==f||null===(n=f.container)||void 0===n?void 0:n.width),"Mounted"===d.state){e.next=21;break;}return this.trace.finish(Ds.NotFound),this.onFail(new sv("Element with containerId: ".concat(null==f||null===(p=f.container)||void 0===p?void 0:p.id," is missing"))),e.abrupt("return");case 21:return d.onLoad(function(){b.tracking.scriptLoadTime(),b.messageBus.sendPrivateMessage(s.toJSON(c),d.getWindow()),l.finish();}),this.context.apiSdkABTests=new cv(),h=this.trace.addSpan("InitResignRequest","http"),e.next=26,this.api.resign(s.toApiCall());case 26:if(m=e.sent,g=m.result,y=m.retries,!(g instanceof Error)){e.next=34;break;}return this.context.sendErrorToMerchant(g),this.onFail(g),this.trace.finish(Ds.PermissionDenied),e.abrupt("return");case 34:return this.tracking.initNetworkError(y),h.finish(),this.context.setIntent(g),"tracking"in g&&Boolean(g.tracking)&&this.tracking.init(g.tracking.trackSignature,g.tracking.trackId,this.config.request.merchant),this.context.sdkABTests=new vv([],this.logger),d.setIntentMetadata(g.id,g.host,wy.Resign),this.context.interactionsNotifier=new Sv(this.messageBus,"resignForm"),v=this.trace.addSpan("ReadyMessage","function"),e.abrupt("return",Promise.race([d.unmounted().then(function(){var e;b.isCompleted||(null===(e=b.trace)||void 0===e||e.finish(Ds.Cancelled),b.onFail(new sv("Payment form iframe was removed from DOM before initialization ended")));}),new Promise(function(e){var t=function t(n){var r;n.type===Cp.FormReady&&(d.show(),iv(function(){d.enableTransitions();}),v.finish(),u(),n.integrity===c?(b.messageBus.unsubscribe(t),b.tracking.domainsUsage({pageUrl:b.locationService.getPageUrl(),sdkReferrer:b.locationService.getSdkReferrer()}),e(),b.onSuccess(),b.messageBus.sendPublicMessage({type:Rl.Mounted,entity:gy.Resign}),b.context.renotifyIntent(),null===(r=b.trace)||void 0===r||r.finish()):b.logger.error(new ka("Foreign message received",{expected:c,actual:n.integrity})));};b.messageBus.subscribeForPrivate(t),d.onLoad(function(){b.messageBus.sendPrivateMessage({type:Rl.SetResignIntent,resignIntent:g,powSolution:b.context.powSolution||void 0},d.getWindow());}),d.onError(function(n){var r,i=new ov();b.logger.error(new ka("Resign: Unable to load iframe",{reason:n,url:b.branding.getIframeUrl()})),b.context.sendErrorToMerchant(i),b.messageBus.unsubscribe(t),null===(r=b.trace)||void 0===r||r.finish(Ds.DataLoss),b.onFail(i),e();});})]));case 43:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"validate",value:function(){var e;if(null===(e=this.config)||void 0===e||!e.request){var t=new Lv("Missing config request argument");return this.merchantLogger.error(t),[!1,t];}if(this.config.formConfig.appearance){var n=new Dv(),r=new Nv(),i=k(n.validate(this.config.formConfig.appearance),2),o=i[0],a=i[1],s=k(r.validate(this.config.formConfig.appearance),2),c=s[0],u=s[1];if(!o){var l=new Lv("Unsupported formConfig.appearance values for fields: '".concat(Object.keys(a).join("', '"),"'"));this.merchantLogger.error(l,a);}c||this.logger.error(new ka("Resign: invalid config",u));var d=this.config.formConfig.appearance;if(Boolean(d)&&d.cardBrandIconStyle&&!Object.values(Mv).includes(d.cardBrandIconStyle)){var f=new Lv("Unsupported appearance.cardBrandIconStyle value, switching to 'monochrome-dark'");this.config.formConfig.appearance.cardBrandIconStyle=Mv.MonochromeDark,this.merchantLogger.error(f);}}return[!0];}},{key:"logLongExecution",value:function(){var e=this,t=this.trace;setTimeout(function(){e.isCompleted||(null==t||t.finish(Ds.InternalError),e.onFail(new sv("Internal error")));},9e4);}}]);}(Zy),Uv=function(e){function t(e){var n;return a(this,t),(n=o(this,t,[e])).name="UpdateDtoError",n;}return g(t,e),d(t);}(C(Error)),jv=function(){function e(t,n){a(this,e),this.updateConfig=t,this.branding=n;}return d(e,[{key:"validate",value:function(){return this.validatePartialIntent()?this.validateButtonType()?this.validateFormTypeClass()?this.validateApplePayButtonParams()?[!0]:[!1,new Uv("Unsupported applePayButtonParams.type")]:[!1,new Uv("Unsupported formParams.formTypeClass")]:[!1,new Uv("Unsupported formParams.buttonType")]:[!1,new Uv("Unable to perform update: Missing intent or signature")];}},{key:"toJSON",value:function(){var t,n,r=this.updateConfig,i=r.partialIntent,o=r.signature,a=r.formParams,s=r.styles;s&&(t=null!==(n=e.getInlineStyles(s))&&void 0!==n?n:null);return{partialIntent:i,signature:o,formParams:a,styles:t};}},{key:"applePayButtonParams",get:function(){return this.updateConfig.applePayButtonParams;}},{key:"isPossiblePriceChange",value:function(){return!(!this.updateConfig.partialIntent||!this.updateConfig.signature);}},{key:"validatePartialIntent",value:function(){return!this.updateConfig.partialIntent&&!this.updateConfig.signature||!(!this.updateConfig.partialIntent||!this.updateConfig.signature);}},{key:"validateFormParams",value:function(){var e=this.branding.getIsBrandedLogoParameterName(),t=new Rv(e);return this.updateConfig.formParams?t.validate(this.updateConfig.formParams):[!0];}},{key:"validateButtonType",value:function(){var e,t=this;return!(null!==(e=this.updateConfig.formParams)&&void 0!==e&&e.buttonType&&!Object.values(tv).some(function(e){var n;return e===(null===(n=t.updateConfig.formParams)||void 0===n?void 0:n.buttonType);}));}},{key:"validateFormTypeClass",value:function(){var e;return!(null!==(e=this.updateConfig.formParams)&&void 0!==e&&e.formTypeClass&&!Object.values(nv).includes(this.updateConfig.formParams.formTypeClass));}},{key:"validateApplePayButtonParams",value:function(){var e;return!(null!==(e=this.updateConfig.applePayButtonParams)&&void 0!==e&&e.type&&Gg.forbiddenTypes.includes(this.updateConfig.applePayButtonParams.type));}}],[{key:"getInlineStyles",value:function(e){if(e){var t=Iv(e);if(Object.keys(t).length)return t;}}}]);}(),$v=function(e){function t(e,n,r,i,s,c,u){var l;return a(this,t),(l=o(this,t)).context=n,l.logger=r,l.tracking=i,l.merchantLogger=s,l.messageBus=c,l.branding=u,l.trace=null,l.dto=new jv(e,l.branding),l.lockInteractivity(t.SCHEDULED_INTERACTIVITY_LOCK),l;}return g(t,e),d(t,[{key:"execute",value:function(){var e=i(_().mark(function e(){var t,n,r,i,o,a;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.trace=this.logger.trace("Update"),this.logLongExecution(),t=this.context.paymentsButtons,this.tracking.updateIntentStarted(),null===(n=this.validate())){e.next=9;break;}return r=k(n,2),i=r[0],o=r[1],this.handleFail(o,i),e.abrupt("return");case 9:return this.lockInteractivity(this.context.PENDING_PRICE_UPDATE_LOCK),this.startUpdateInIframe(),a=this.tracking.updateTime(),e.abrupt("return",Promise.race([this.handleIframeUnmount(),this.handleIframeUpdateCompletion(t,a)]));case 13:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"logLongExecution",value:function(){var e=this,t=this.trace;setTimeout(function(){e.isCompleted||(t.finish(Ds.InternalError),e.onFail(new sv("Internal error during update")));},9e4);}},{key:"validate",value:function(){var e;if(this.context.resignConfig)return[Ds.FailedPrecondition,new sv("Resign intents does not support update")];if(!this.context.hasActiveIntent())return[Ds.FailedPrecondition,new sv("Cannot update uninitialized form")];var t=k(this.dto.validate(),2),n=t[0],r=t[1],i=k(this.dto.validateFormParams(),2),o=i[0],a=i[1];if(!o){var s=new Uv("Unsupported formParams values for fields: '".concat(Object.keys(a).join("', '"),"'"));this.merchantLogger.error(s,a);}return n?null!==(e=this.context.iframe)&&void 0!==e&&e.isPresentInDOM()?null:[Ds.Cancelled,new sv("Unable to perform update: payment form iframe not found")]:[Ds.Cancelled,r];}},{key:"handleIframeUnmount",value:function(){var e=this;return this.context.iframe.unmounted().then(function(){e.isCompleted||e.handleFail(new sv("Payment form iframe was removed from DOM before update ended"),Ds.Cancelled);});}},{key:"handleIframeUpdateCompletion",value:function(e,t){var n=this;return this.updateInIframeCompleted().then(function(r){if(!n.isCompleted){if(function(e){var t=e;return t.type===Cp.UpdateComplete&&"error"in t&&Boolean(t.error);}(r))return n.context.isUnknownStateAfterUpdate=!0,void n.handleFail(r.error,Ds.InvalidArgument);n.context.isUnknownStateAfterUpdate=!1,n.handleSuccess(r,e),t();}});}},{key:"handleFail",value:function(e,t){var n;null===(n=this.trace)||void 0===n||n.finish(t),this.onFail(e);}},{key:"handleSuccess",value:function(e,t){var n,r={};if(function(e){var t=e;return t.type===Cp.UpdateComplete&&"priceBreakdown"in t&&Boolean(t.priceBreakdown);}(e)){var i=e.priceBreakdown.price,o=i.amount,a=i.currency;r.price={amount:o,currency:a},this.context.paymentDetailsNotifier.notify({priceBreakdown:e.priceBreakdown});}if(function(e){var t=e;return t.type===Cp.UpdateComplete&&"customerEmail"in t&&Boolean(t.customerEmail);}(e)){var s=e.customerEmail;r.customerEmail=s;}var c=this.dto.applePayButtonParams;c&&(r.appearance={},r.appearance.applePay={buttonColor:c.color,buttonType:c.type}),null==t||t.update(r),this.unlockInteractivity(this.context.PENDING_PRICE_UPDATE_LOCK),null===(n=this.trace)||void 0===n||n.finish(),this.onSuccess(this.context.paymentDetailsNotifier.getState());}},{key:"startUpdateInIframe",value:function(){var e;this.messageBus.sendPrivateMessage({type:Rl.UpdatePaymentIntent,payload:this.dto.toJSON()},null===(e=this.context.iframe)||void 0===e?void 0:e.getWindow());}},{key:"updateInIframeCompleted",value:function(){var e=this;return new Promise(function(t){e.messageBus.subscribeForPrivate(function n(r){r.type===Cp.UpdateComplete&&(e.messageBus.unsubscribe(n),t(r));});});}},{key:"lockInteractivity",value:function(e){this.dto.isPossiblePriceChange()&&this.context.paymentButtonsInteractivity.acquire(e);}},{key:"unlockInteractivity",value:function(e){this.dto.isPossiblePriceChange()&&this.context.paymentButtonsInteractivity.release(e);}},{key:"cleanup",value:function(){this.unlockInteractivity(t.SCHEDULED_INTERACTIVITY_LOCK);}}]);}(Zy);$v.SCHEDULED_INTERACTIVITY_LOCK=Symbol("scheduled_update");var zv,Hv=function(){return d(function e(){a(this,e);},[{key:"error",value:function(e,t){console.error(e,t);}},{key:"warning",value:function(e,t){console.warn(e,t);}},{key:"debug",value:function(e){console.debug(e);}}]);}();!function(e){e[e.Canceled=1]="Canceled",e[e.Unknown=2]="Unknown",e[e.InvalidArgument=3]="InvalidArgument",e[e.DeadlineExceeded=4]="DeadlineExceeded",e[e.NotFound=5]="NotFound",e[e.AlreadyExists=6]="AlreadyExists",e[e.PermissionDenied=7]="PermissionDenied",e[e.ResourceExhausted=8]="ResourceExhausted",e[e.FailedPrecondition=9]="FailedPrecondition",e[e.Aborted=10]="Aborted",e[e.OutOfRange=11]="OutOfRange",e[e.Unimplemented=12]="Unimplemented",e[e.Internal=13]="Internal",e[e.Unavailable=14]="Unavailable",e[e.DataLoss=15]="DataLoss",e[e.Unauthenticated=16]="Unauthenticated";}(zv||(zv={}));var Wv=function(){function e(){a(this,e);}return d(e,null,[{key:"createEnumFromBufEnumDesc",value:function(t){for(var n={},r={},i=0,o=Object.keys(t);i<o.length;i++){var a=o[i];n[a]=t[a].nr,r[a]={no:t[a].nr,name:t[a].name};}return Object.defineProperty(n,e.BufEnumSymbol,{value:r}),n;}},{key:"getBufEnumNameFromEnum",value:function(t,n){for(var r=t[e.BufEnumSymbol],i=0,o=Object.keys(r);i<o.length;i++){var a=r[o[i]];if(a.no===n)return a.name;}return null;}}]);}();Wv.BufEnumSymbol=Symbol("BufEnum");var qv=function(e){function t(e,n,r,i){var s;return a(this,t),(s=o(this,t,[t.createMessage(e,n)])).code=n,s.details=r,s.cause=i,s;}return g(t,e),d(t,[{key:"findDetails",value:function(e){var t=[];if(!this.details)return[];var n,r=f(this.details);try{for(r.s();!(n=r.n()).done;){var i=n.value;try{var o=e(i);o&&t.push(o);}catch(a){}}}catch(HD){r.e(HD);}finally{r.f();}return t;}},{key:"getCauseDetails",value:function(){if(this.cause)return this.cause instanceof Error?{name:this.cause.name,message:this.cause.message,stack:this.cause.stack}:"object"==typeof this.cause?this.cause:{cause:String(this.cause)};}}],[{key:"from",value:function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zv.Unknown;return e instanceof t?e:e instanceof Error?"AbortError"===e.name?new t(e.message,zv.Canceled,void 0,e):new t(e.message,r,void 0,e):t.isJsonConnectError(e)?new t(e.message,null!==(n=t.codeFromString(e.code))&&void 0!==n?n:r,e.details):new t("Unknown error",r,void 0,e);}},{key:"isRawIncomingDetail",value:function(e){return"type"in e&&"string"==typeof e.type;}},{key:"isJsonConnectError",value:function(e){if(!e||"object"!=typeof e)return!1;var n=e;return!("details"in n&&Array.isArray(n.details)&&n.details.some(function(e){return!t.isRawIncomingDetail(e);}))&&"code"in n&&"message"in n&&"details"in n;}},{key:"codeToString",value:function(e){var t=zv[e];return"string"!=typeof t?e.toString():t[0].toLowerCase()+t.substring(1).replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase();});}},{key:"codeFromString",value:function(e){for(var n={},r=0,i=Object.values(zv);r<i.length;r++){var o=i[r];"string"!=typeof o&&(n[t.codeToString(o)]=o);}return n[e];}},{key:"createMessage",value:function(e,n){return"".concat(t.codeToString(n),": ").concat(e);}}]);}(C(Error)),Vv=function(){function e(t){a(this,e),this.$typeName=e.typeName,this.locale=t.locale,this.message=t.message;}return d(e,null,[{key:"from",value:function(t){var n={locale:"",message:""};if(t&&"object"==typeof t&&("locale"in t&&"string"==typeof t.locale&&(n.locale=t.locale),"message"in t&&"string"==typeof t.message&&(n.message=t.message)),n.locale&&n.message)return new e(n);}}]);}();Vv.typeName="google.rpc.LocalizedMessage";var Gv=function(){function e(t){a(this,e),this.$typeName=e.typeName,this.field=t.field,this.description=t.description,this.reason=t.reason,this.localizedMessage=t.localizedMessage;}return d(e,null,[{key:"from",value:function(t){var n={field:"",description:"",reason:""};if(t&&"object"==typeof t&&("field"in t&&"string"==typeof t.field&&(n.field=t.field),"description"in t&&"string"==typeof t.description&&(n.description=t.description),"reason"in t&&"string"==typeof t.reason&&(n.reason=t.reason),"localizedMessage"in t&&"object"==typeof t.localizedMessage&&null!==t.localizedMessage&&(n.localizedMessage=Vv.from(t.localizedMessage))),n.field&&n.description)return new e(n);}}]);}();Gv.typeName="google.rpc.BadRequest.FieldViolation";var Yv=function(){function e(t){a(this,e),this.$typeName=e.typeName,this.fieldViolations=t.fieldViolations;}return d(e,null,[{key:"from",value:function(t){if(t.type===e.typeName){var n=[],r=t.debug;return r&&"object"==typeof r&&"fieldViolations"in r&&r.fieldViolations&&Array.isArray(r.fieldViolations)&&r.fieldViolations.forEach(function(e){var t=Gv.from(e);t&&n.push(t);}),new e({fieldViolations:n});}}}]);}();Yv.typeName="google.rpc.BadRequest";var Jv=function(){function e(t){var n,r,i;a(this,e),this.$typeName=e.typeName,this.reason=null!==(n=t.reason)&&void 0!==n?n:"",this.metadata=null!==(r=t.metadata)&&void 0!==r?r:{},this.domain=null!==(i=t.domain)&&void 0!==i?i:"";}return d(e,null,[{key:"metadataSanitizer",value:function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=k(r[n],2),o=i[0],a=i[1];t[o]=String(a);}return t;}},{key:"from",value:function(t){if(t.type===e.typeName){var n,r=void 0,i=void 0,o=t.debug;return o&&"object"==typeof o&&("reason"in o&&"string"==typeof o.reason&&(r=o.reason),"metadata"in o&&"object"==typeof o.metadata&&null!==o.metadata&&(n=e.metadataSanitizer(o.metadata)),"domain"in o&&"string"==typeof o.domain&&(i=o.domain)),new e({reason:r,metadata:n,domain:i});}}}]);}();Jv.typeName="google.rpc.ErrorInfo";var Kv=function(){function e(t){var n,r,i,o;a(this,e),this.$typeName="buf.validate.Violation",this.fieldPath=null!==(n=t.fieldPath)&&void 0!==n?n:"",this.message=null!==(r=t.message)&&void 0!==r?r:"",this.ruleId=null!==(i=t.ruleId)&&void 0!==i?i:"",this.forKey=null!==(o=t.forKey)&&void 0!==o&&o;}return d(e,null,[{key:"violationSanitizer",value:function(e){if("object"==typeof e&&null!==e){var t=void 0,n=void 0,r=void 0,i=void 0;if("ruleId"in e&&"string"==typeof e.ruleId&&(r=e.ruleId),"message"in e&&"string"==typeof e.message&&(n=e.message),"forKey"in e&&"boolean"==typeof e.forKey&&(i=e.forKey),"field"in e&&"object"==typeof e.field&&null!==e.field&&"elements"in e.field&&Array.isArray(e.field.elements)&&e.field.elements.length>0){var o=e.field.elements[0];o&&"object"==typeof o&&"fieldName"in o&&"string"==typeof o.fieldName&&(t=o.fieldName);}return{fieldPath:t,message:n,ruleId:r,forKey:i};}return{};}},{key:"from",value:function(t){var n=e.violationSanitizer(t);return new e(n);}}]);}(),Xv=function(){function e(t){var n;a(this,e),this.$typeName=e.typeName,this.violations=null!==(n=t.violations)&&void 0!==n?n:[];}return d(e,null,[{key:"from",value:function(t){if(t.type===e.typeName){var n=void 0,r=t.debug;return r&&"object"==typeof r&&"violations"in r&&Array.isArray(r.violations)&&(n=r.violations.map(function(e){return Kv.from(e);})),new e({violations:n});}}}]);}();Xv.typeName="buf.validate.Violations";var Zv=Wv.createEnumFromBufEnumDesc({UNSPECIFIED:{nr:0,name:"ERROR_TYPE_UNSPECIFIED"},UNKNOWN:{nr:1,name:"ERROR_TYPE_UNKNOWN"},INTENT_NOT_FOUND:{nr:2,name:"ERROR_TYPE_INTENT_NOT_FOUND"},CREDENTIALS_NOT_FOUND:{nr:3,name:"ERROR_TYPE_CREDENTIALS_NOT_FOUND"},CHANNEL_NOT_FOUND:{nr:4,name:"ERROR_TYPE_CHANNEL_NOT_FOUND"},GUID_MISMATCH:{nr:5,name:"ERROR_TYPE_GUID_MISMATCH"},PAYMENT_SUBMITTED:{nr:6,name:"ERROR_TYPE_PAYMENT_SUBMITTED"},AUTH_FAILED:{nr:7,name:"ERROR_TYPE_AUTH_FAILED"},REQUEST_VALIDATION_FAILED:{nr:8,name:"ERROR_TYPE_REQUEST_VALIDATION_FAILED"}});function Qv(e){return{causeDetails:e.getCauseDetails(),errorInfoDetails:e.findDetails(Jv.from),violationsDetails:e.findDetails(Xv.from),badRequestDetails:e.findDetails(Yv.from)};}function eb(e){var t,n=Qv(e).errorInfoDetails;return e.code===zv.Unauthenticated||(null===(t=n[0])||void 0===t?void 0:t.reason)===Wv.getBufEnumNameFromEnum(Zv,Zv.AUTH_FAILED)?{code:"1.01",message:["Authentication failed"]}:null;}function tb(e){var t,n,r,i=Qv(e).errorInfoDetails;return(null===(t=i[0])||void 0===t?void 0:t.reason)===Wv.getBufEnumNameFromEnum(Zv,Zv.REQUEST_VALIDATION_FAILED)?{code:"2.01",message:Object.keys(null!==(n=null===(r=i[0])||void 0===r?void 0:r.metadata)&&void 0!==n?n:{}).length>0?i[0].metadata:["Validation error"]}:null;}function nb(e){var t;return(null===(t=Qv(e).errorInfoDetails[0])||void 0===t?void 0:t.reason)===Wv.getBufEnumNameFromEnum(Zv,Zv.INTENT_NOT_FOUND)?{code:"2.01",message:["Init payment not found"]}:null;}var rb={assert:function(e){return e instanceof qv;},getDetails:Qv,toUnauthenticated:eb,toValidationError:tb,toIntentNotFoundError:nb,toGenericError:function(e){var t=eb(e);if(t)return t;var n=tb(e);if(n)return n;var r=nb(e);return r||null;},toValidationWithInvalidArgumentError:function(e){var t,n,r,i=Qv(e).badRequestDetails;return e.code===zv.InvalidArgument&&null!==(t=i[0])&&void 0!==t&&t.fieldViolations&&"2.01"===(null===(n=i[0])||void 0===n||null===(n=n.fieldViolations.find(function(e){return"error.code"===e.field;}))||void 0===n?void 0:n.description)?{code:"2.01",message:null===(r=i[0])||void 0===r?void 0:r.fieldViolations.filter(function(e){return"error.code"!==e.field&&"error_code"!==e.field;}).reduce(function(e,t){return e[t.field]=t.description,e;},{})}:null;}},ib=function(e){function t(){var e;return a(this,t),(e=o(this,t,arguments)).name="GatewayError",e.message="Something went wrong on our side. Please contact support",e;}return g(t,e),d(t);}(C(Error)),ob=function(e){function t(e){var n;return a(this,t),(n=o(this,t,["Unable to init resign: ".concat(JSON.stringify(e))])).name="InitResignError",n.details=e,n;}return g(t,e),d(t);}(C(Error)),ab=function(){return d(function e(t,n,r){a(this,e),this.path=t,this.methodNames=n,this.transport=r;var i={};for(var o in this.methodNames)i[o]=this.bootstrapMethod(o);this.methods=i;},[{key:"bootstrapMethod",value:function(e){var t=this;return function(){var n=i(_().mark(function n(r,i,o){var a,s;return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.methodNames[e],s=[t.path,a].join("/"),n.next=4,t.transport.send(s,r,i,o);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop();}},n);}));return function(e,t,r){return n.apply(this,arguments);};}();}}]);}(),sb=function(){function e(t,n,r,i,o,s){a(this,e),this.hostname=t,this.baseUrl=n,this.host=r,this.id=i,this.token=o,this.injectedFetch=s;}return d(e,[{key:"send",value:function(){var t=i(_().mark(function t(n,r,i,o){var a,s;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=this.createRequestConfig(n,b(b({},null!=i?i:{}),{},{body:e.stringifyData(r)})),t.prev=1,t.next=4,this.doRequest(a,o);case 4:s=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(1),qv.from(t.t0);case 10:return t.next=12,this.processResponse(s);case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop();}},t,this,[[1,7]]);}));return function(e,n,r,i){return t.apply(this,arguments);};}()},{key:"doRequest",value:function(){var e=i(_().mark(function e(t,n){var r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Wg(t,b(b({},Wg.TOO_MANY_REQUESTS_CONFIG),null!=n?n:{}),this.injectedFetch),e.next=3,r.execute();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop();}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"createRequestConfig",value:function(e,t){var n=b(b({"Content-type":"application/json",Authorization:this.token?"Bearer ".concat(this.token):""},this.id?{GUID:this.id}:{}),t.headers);return b(b({url:"".concat(this.hostname,"/").concat(this.baseUrl,"/").concat(this.host,"/").concat(e),credentials:"include",method:"POST"},t),{},{headers:n});}},{key:"processResponse",value:function(){var t=i(_().mark(function t(n){var r,i,o,a,s;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=null,200===n.status||(o=e.codeFromHttpStatus(n.status),i=new qv("HTTP ".concat(n.status),o)),n.status||(i=new qv("Network error: ".concat(n.statusText),zv.Internal)),t.prev=4,t.next=7,n.json();case 7:r=t.sent,t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(4),s=(null===(a=i)||void 0===a?void 0:a.code)||zv.Internal,new qv("Failed to parse response",s,void 0,t.t0);case 14:if(!i){t.next=18;break;}if(!qv.isJsonConnectError(r)){t.next=17;break;}throw qv.from(r);case 17:throw i;case 18:return t.abrupt("return",r);case 19:case"end":return t.stop();}},t,null,[[4,10]]);}));return function(e){return t.apply(this,arguments);};}()}],[{key:"stringifyData",value:function(e){return JSON.stringify(e,function(e,t){return"bigint"==typeof t?t.toString():t;});}},{key:"codeFromHttpStatus",value:function(e){switch(e){case 400:return zv.Internal;case 401:return zv.Unauthenticated;case 403:return zv.PermissionDenied;case 404:return zv.Unimplemented;case 429:case 502:case 503:case 504:return zv.Unavailable;default:return zv.Unknown;}}}]);}(),cb=function(e){function t(){var e;return a(this,t),(e=o(this,t,arguments)).previousResponse=null,e.previousError=null,e;}return g(t,e),d(t,[{key:"doRequest",value:function(){var e=i(_().mark(function e(t){var n,r,i,o,a=arguments;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:Wg.DEFAULT_CONFIG,i=r.shouldRepeat||Wg.DEFAULT_CONFIG.shouldRepeat,!(r.times<=0)){e.next=8;break;}if(!this.previousResponse){e.next=5;break;}return e.abrupt("return",this.previousResponse);case 5:if(!this.previousError){e.next=7;break;}throw this.previousError;case 7:throw new Error("Unable to retrieve repeatable request failure reason");case 8:if(!this.config.whenOnline||this.isOnline()||!i(null)){e.next=10;break;}return e.abrupt("return",this.repeatWhenOnline(t,r));case 10:return o=null,e.prev=11,e.next=14,this.injectedFetch(t.url,t);case 14:o=e.sent,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(11),this.previousError=e.t0;case 20:if(!i((null===(n=o)||void 0===n?void 0:n.status)||null)){e.next=26;break;}return this.previousResponse=o,e.abrupt("return",this.repeatWithTimeout(t,r));case 26:return e.abrupt("return",o);case 27:case"end":return e.stop();}},e,this,[[11,17]]);}));return function(t){return e.apply(this,arguments);};}()}]);}(Wg),ub=function(e){function t(e,n,r,i,s,c,u){var l;return a(this,t),(l=o(this,t,[e,n,r,i,s,c])).injectedFetch=c,l.repeatConfig=u,l;}return g(t,e),d(t,[{key:"doRequest",value:function(){var e=i(_().mark(function e(t,n){var r;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new cb(t,this.repeatConfig||n?b(b({},null!==(r=this.repeatConfig)&&void 0!==r?r:{}),null!=n?n:{}):void 0,this.injectedFetch).execute();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop();}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()}]);}(sb),lb=d(function e(){a(this,e);}),db=Wv.createEnumFromBufEnumDesc({UNSPECIFIED:{nr:0,name:"SOURCE_UNSPECIFIED"},PRODUCT_PRICE:{nr:1,name:"SOURCE_PRODUCT_PRICE"},DISCOUNT_PRICE:{nr:2,name:"SOURCE_DISCOUNT_PRICE"},TRIAL_PRICE:{nr:3,name:"SOURCE_TRIAL_PRICE"}});var fb={toDomain:function(e){switch(String(e)){case Wv.getBufEnumNameFromEnum(db,db.PRODUCT_PRICE):return"productPrice";case Wv.getBufEnumNameFromEnum(db,db.DISCOUNT_PRICE):return"discountPrice";case Wv.getBufEnumNameFromEnum(db,db.TRIAL_PRICE):return"trialPrice";default:throw new ka("Invalid price source: '".concat(e,"'"));}}};var pb={toDomain:function(e){ka.invariant(e.productPrice,"Product price is empty"),ka.invariant(e.finalPrice,"Final price is empty");var t=e.finalPrice,n={productPrice:e.productPrice,price:b(b({},t),{},{taxRate:t.taxRate||0,source:fb.toDomain(t.source)})};return e.trialPrice&&(n.trialPrice=e.trialPrice),e.discountPrice&&(n.discountPrice=e.discountPrice),n;},toDomainWithAppliedCoupon:function(e){ka.invariant(e.productPrice,"Product price is empty"),ka.invariant(e.discountPrice,"Discount price is empty"),ka.invariant(e.finalPrice,"Final price is empty");var t=e.finalPrice,n={productPrice:e.productPrice,discountPrice:e.discountPrice,price:b(b({},t),{},{taxRate:t.taxRate||0,source:fb.toDomain(t.source)})};return e.trialPrice&&(n.trialPrice=e.trialPrice),n;}},hb=Wv.createEnumFromBufEnumDesc({UNSPECIFIED:{nr:0,name:"STATUS_UNSPECIFIED"},NEW:{nr:1,name:"STATUS_NEW"},SUBMITTED:{nr:2,name:"STATUS_SUBMITTED"}}),mb=Wv.createEnumFromBufEnumDesc({UNSPECIFIED:{nr:0,name:"VERIFY_PROCESS_TYPE_UNSPECIFIED"},DEFAULT:{nr:1,name:"VERIFY_PROCESS_TYPE_DEFAULT"},MODAL:{nr:2,name:"VERIFY_PROCESS_TYPE_MODAL"},TAB:{nr:3,name:"VERIFY_PROCESS_TYPE_TAB"}});function gb(e){return ka.invariant(e.trackId,"Track ID is missing in ResignInitMapper.toTracking"),ka.invariant(e.trackSignature,"Track signature is missing in ResignInitMapper.toTracking"),{trackId:e.trackId,trackSignature:e.trackSignature};}function yb(e){return ka.invariant(e.merchant,"Merchant is missing in ResignInitMapper.toMerchant"),{merchant:e.merchant,failUrl:e.failUrl||void 0,successUrl:e.successUrl||void 0,statusUrl:e.statusUrl||void 0};}function vb(e){switch(String(e)){case Wv.getBufEnumNameFromEnum(mb,mb.DEFAULT):return wh.Default;case Wv.getBufEnumNameFromEnum(mb,mb.MODAL):return wh.Modal;case Wv.getBufEnumNameFromEnum(mb,mb.TAB):return wh.Tab;default:throw new ka("Invalid verify process type: '".concat(e,"'"));}}function bb(e){return ka.invariant(e.verifyProcessType,"Appearance verify process type is missing in ResignInitMapper.toAppearance"),ka.invariant(e.language,"Appearance language is missing in ResignInitMapper.toAppearance"),{verifyProcessType:vb(e.verifyProcessType),language:e.language};}function _b(e){return ka.invariant(e.maskedCardNumber,"Masked card number is missing in ResignInitMapper.toCardData"),ka.invariant(e.cardBrand,"Card brand is missing in ResignInitMapper.toCardData"),{maskedCardNumber:e.maskedCardNumber,cardBrand:e.cardBrand};}function wb(e){switch(String(e)){case Wv.getBufEnumNameFromEnum(hb,hb.NEW):return"new";case Wv.getBufEnumNameFromEnum(hb,hb.SUBMITTED):return"submitted";default:throw new ka("Invalid resign status: '".concat(e,"'"));}}var kb={toRequestDto:function(e){var t=e.paymentIntent,n=e.sdkVersion,r=e.version,i=e.meta;return{paymentIntent:t,sdkVersion:n,version:r||"v1",meta:i?{isFrameworkSdkUsed:i.isFrameworkSdkUsed,cdn:i.cdn.filter(function(e){return null!=e;}),customContainerId:i.customContainerId}:void 0};},toDomain:function(e){return ka.invariant(e.id,"Response id is missing in ResignInitMapper.toDomain"),ka.invariant(e.token,"Response token is missing in ResignInitMapper.toDomain"),ka.invariant(e.host,"Response host is missing in ResignInitMapper.toDomain"),ka.invariant(e.status,"Response status is missing in ResignInitMapper.toDomain"),ka.invariant(e.tracking,"Response tracking is missing in ResignInitMapper.toDomain"),ka.invariant(e.merchant,"Response merchant is missing in ResignInitMapper.toDomain"),ka.invariant(e.appearance,"Response appearance is missing in ResignInitMapper.toDomain"),ka.invariant(e.cardData,"Response card data is missing in ResignInitMapper.toDomain"),ka.invariant(e.priceBreakdown,"Response price breakdown is missing in ResignInitMapper.toDomain"),{id:e.id,token:e.token,host:e.host,status:wb(e.status),tracking:gb(e.tracking),merchant:yb(e.merchant),appearance:bb(e.appearance),cardData:_b(e.cardData),priceBreakdown:pb.toDomain(e.priceBreakdown)};}},Sb=function(e){function t(){var e;return a(this,t),(e=o(this,t,arguments)).client=null,e.transport=null,e.host="ui",e.id="",e.token="",e;}return g(t,e),d(t,[{key:"init",value:function(e,t,n,r){this.id=t,this.token=n,this.transport=new ub(e,"rpc",this.host,this.id,this.token,r),this.client=new ab("provider.payment_form.resign.init.v1alpha1.ResignInitService",{resignInit:"ResignInit"},this.transport);}},{key:"resignInit",value:function(){var e=i(_().mark(function e(t,n){var r,i;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break;}throw new ka("Resign init service is not initialized");case 2:return r=kb.toRequestDto(t),e.next=5,this.client.methods.resignInit(r,{headers:{Merchant:t.merchant,Signature:t.signature,"X-Release":t.release},credentials:"omit"},{times:6,time:2e3,whenOnline:!0,shouldRepeat:function(e){return(null===e||![400,401].includes(e))&&(null===e||e>=300)&&(null==n||n(),!0);}});case 5:return i=e.sent,e.abrupt("return",kb.toDomain(i));case 7:case"end":return e.stop();}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()}]);}(lb);function xb(e){return void 0!==e.error;}var Eb=function(){return d(function e(t,n,r,i,o){a(this,e),this.logger=t,this.powHttpClient=n,this.urls=r,this.release=i,this.resignInitService=new Sb(),this.resignInitService.init(o,"","",this.powHttpClient.fetch.bind(this.powHttpClient));},[{key:"init",value:function(){var e=i(_().mark(function e(t,n){var r,i,o,a,s;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getInitPaymentPayload(t),e.next=3,this.request({url:this.urls.init,body:JSON.stringify(r),merchant:t.merchant,signature:t.signature,polymorph:t.polymorph});case 3:if(i=e.sent,o=i.result,a=i.retries,!(o instanceof Error)){e.next=8;break;}return e.abrupt("return",{result:o,retries:a});case 8:if(!xb(o)){e.next=10;break;}return e.abrupt("return",{result:new kh(o.error),retries:a});case 10:return"wallets"in(s=o.data)&&s.wallets.paypal&&(s.wallets.paypal=b(b({},s.wallets.paypal),{},{fraudnetSessionId:s.id,currency:s.priceBreakdown.price.currency})),"wallets"in s&&s.wallets.mbway&&!n&&(s.wallets.mbway=void 0),e.abrupt("return",{result:s,retries:a});case 14:case"end":return e.stop();}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"resign",value:function(){var e=i(_().mark(function e(t){var n,r,i,o=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bufRequest(function(e){return o.resignInitService.resignInit(b(b({},t),{},{paymentIntent:t.resignIntent,release:o.release}),e);});case 2:if(n=e.sent,r=n.result,i=n.retries,!(r instanceof Error)){e.next=7;break;}return e.abrupt("return",{result:r,retries:i});case 7:if(!xb(r)){e.next=9;break;}return e.abrupt("return",{result:new ob(r.error),retries:i});case 9:return e.abrupt("return",{result:r.data,retries:i});case 10:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"getInitPaymentPayload",value:function(e){var t={payment_intent:e.paymentIntent,version:e.version||"v1",sdk_version:e.sdkVersion};return e.meta&&(t.meta={is_brand_logo_defined:e.meta.isBrandLogoDefined,is_framework_sdk_used:e.meta.isFrameworkSdkUsed,cdn:e.meta.cdn,custom_container_id:e.meta.customContainerId}),t;}},{key:"request",value:function(){var e=i(_().mark(function e(t){var n,r,i,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=0,e.prev=1,i=new Wg({url:t.url,method:"POST",headers:b({Merchant:t.merchant,Signature:t.signature,"X-Release":this.release},t.polymorph?{"x-feature-polymorph":t.polymorph}:{}),body:t.body},{times:6,time:2e3,whenOnline:!0,shouldRepeat:function(e){return(null===e||![400,401].includes(e))&&(null===e||e>=300)&&(r+=1,!0);}},this.powHttpClient.fetch.bind(this.powHttpClient)),e.next=5,i.execute();case 5:n=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),this.logNetworkError(null),e.abrupt("return",{retries:r,result:new ov()});case 12:if(n.status&&![403,502,504].includes(n.status)||this.logNetworkError(n.status),n.ok||[400,401].includes(n.status)){e.next=15;break;}return e.abrupt("return",{retries:r,result:new ib()});case 15:return e.prev=15,e.next=18,n.json();case 18:o=e.sent,e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(15),this.logger.error(ka.wrap(e.t1,"API: JSON parse error")),e.abrupt("return",{retries:r,result:new ib()});case 25:return e.abrupt("return",{result:o,retries:r});case 26:case"end":return e.stop();}},e,this,[[1,8],[15,21]]);}));return function(t){return e.apply(this,arguments);};}()},{key:"bufRequest",value:function(){var e=i(_().mark(function e(t){var n,r,i,o;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,r=function(){n+=1;},e.prev=2,e.next=5,t(r);case 5:return e.t0=e.sent,e.t1={data:e.t0},e.t2=n,e.abrupt("return",{result:e.t1,retries:e.t2});case 11:if(e.prev=11,e.t3=e.catch(2),!rb.assert(e.t3)){e.next=26;break;}if((e.t3.code===zv.PermissionDenied||e.t3.code===zv.Unavailable||e.t3.code===zv.Internal&&e.t3.message.includes("Network error"))&&this.logNetworkError(e.t3.code),"Failed to parse response"!==e.t3.message){e.next=18;break;}return this.logger.error(ka.from(e.t3)),e.abrupt("return",{retries:n,result:new ib()});case 18:if(!(i=rb.toGenericError(e.t3))){e.next=21;break;}return e.abrupt("return",{result:{error:i},retries:n});case 21:if(!(o=rb.toValidationWithInvalidArgumentError(e.t3))){e.next=24;break;}return e.abrupt("return",{result:{error:o},retries:n});case 24:if([zv.Internal,zv.Unauthenticated].includes(e.t3.code)){e.next=26;break;}return e.abrupt("return",{retries:n,result:new ib()});case 26:return this.logNetworkError(null),this.logger.error(ka.wrap(e.t3,"SDK API: Unknown error encountered")),e.abrupt("return",{retries:n,result:new ov()});case 29:case"end":return e.stop();}},e,this,[[2,11]]);}));return function(t){return e.apply(this,arguments);};}()},{key:"logNetworkError",value:function(e){this.logger.error(new ka("API: Network error",{status:e||"empty"}));}}]);}(),Cb=["localhost","127.0.0.1"];var Ib,Tb=function(){return d(function e(){a(this,e),this.lock=Promise.resolve(),this.resolveLock=function(){};},[{key:"acquire",value:function(){var e=i(_().mark(function e(){var t=this;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.lock;case 2:this.lock=new Promise(function(e){t.resolveLock=e;});case 3:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"release",value:function(){this.resolveLock();}}]);}(),Pb=function(){function e(t,n){a(this,e),this.queueMutex=new Tb(),this.queue=[],this.logger=n,this.config={url:t},this.messageEnrichment={sessionId:this.makeId(e.IdLength),signature:"",entityName:"",entityValue:"",merchant:""};}return d(e,[{key:"keysToSnake",value:function(e){var t=this;if(function(e){return e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;}(e)){var n={};return Object.keys(e).forEach(function(r){n[Rh.toSnakeCase(r)]=t.keysToSnake(e[r]);}),n;}return Array.isArray(e)?e.map(function(e){return t.keysToSnake(e);}):e;}},{key:"init",value:function(t){var n=this,r=t.signature,i=t.entityValue,o=t.entityName,a=t.merchant;this.messageEnrichment.signature=r,this.messageEnrichment.entityValue=i,this.messageEnrichment.entityName=o,this.messageEnrichment.merchant=a,this.queue=this.queue.map(function(t){return e.isEnrichedMessage(t)?t:n.enrichMessage(t);}),this.drainQueue();}},{key:"clear",value:function(){this.messageEnrichment.signature="",this.messageEnrichment.entityValue="",this.messageEnrichment.entityName="";}},{key:"send",value:function(e){this.queue.push(this.enrichMessage(e)),this.drainQueue();}},{key:"getEventISOTime",value:function(){return new Date().toISOString().slice(0,-1);}},{key:"warmupOptionsCache",value:function(){var e=i(_().mark(function e(){var t;return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queueMutex.acquire();case 2:return t=new Wg({url:this.config.url,method:"OPTIONS",headers:{"Content-Type":"application/json",Signature:"CORS-WARMUP-SIGNATURE"}}),e.prev=3,e.next=6,t.execute();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),this.logger.error(ka.wrap(e.t0,"Tracking api: unsent analytics"));case 11:this.queueMutex.release();case 12:case"end":return e.stop();}},e,this,[[3,8]]);}));return function(){return e.apply(this,arguments);};}()},{key:"drainQueue",value:function(){var t=i(_().mark(function t(){var n,r,i,o=this;return _().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.queueMutex.acquire();case 2:return t.next=4,new Promise(function(t){return setTimeout(t,e.BatchCollectTimeMs);});case 4:n=e.getBatches(this.queue),r=k(n,2),i=r[0],r[1].forEach(function(e){try{o.request(e).catch(function(e){o.logger.error(ka.wrap(e,"Tracking api: unsent analytics"));});}catch(HD){o.logger.error(ka.wrap(HD,"Tracking api: executing request"));}}),this.queue=i,this.queueMutex.release();case 8:case"end":return t.stop();}},t,this);}));return function(){return t.apply(this,arguments);};}()},{key:"makeId",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(62*Math.random()));return t;}},{key:"enrichMessage",value:function(e){return b(b({},e),{},{sessionId:this.messageEnrichment.sessionId,entityName:e.entityName||this.messageEnrichment.entityName,entityValue:e.entityValue||this.messageEnrichment.entityValue,merchant:this.messageEnrichment.merchant,signature:e.signature||this.messageEnrichment.signature,event_time:e.event_time||this.getEventISOTime()});}},{key:"request",value:function(e){var t=this;if(!this.config.url)return Promise.resolve();var n=e.map(function(e){return t.keysToSnake({sessionId:e.sessionId,entityName:e.entityName,entityValue:e.entityValue,event:e.event,category:e.category,level:e.level,context:e.context,eventTime:e.event_time,signature:e.signature,value:e.value});}),r=[];return e.forEach(function(e){r.includes(e.merchant)||r.push(e.merchant);}),r.length>1&&this.logger.error(new ka("Tracking api: multiple merchants in batch",{merchants:r})),new Wg({url:"".concat(this.config.url,"batch"),method:"POST",headers:{"Content-Type":"application/json",Merchant:r[0]},body:JSON.stringify({events:n})}).execute().catch(function(e){t.logger.error(ka.wrap(e,"Tracking api: retry"));});}}],[{key:"isEnrichedMessage",value:function(e){return!!e.signature;}},{key:"getBatches",value:function(t){var n=[];return[t.filter(function(t){if(!e.isEnrichedMessage(t))return!0;var r=n.find(function(t){return t.length<e.BatchMaxLength;});return r||(r=[],n.push(r)),r.push(t),!1;}),n];}}]);}();(Ib=Pb).IdLength=32,Ib.BatchMaxLength=20,Ib.BatchCollectTimeMs=50;var Ab,Rb,Ob=function(e){function t(){return a(this,t),o(this,t,arguments);}return g(t,e),d(t,[{key:"init",value:function(){}},{key:"send",value:function(){}}]);}(Pb),Mb=function(){return d(function e(t){a(this,e),this.hostname=t;},[{key:"create",value:function(e,t){var n,r=f(Cb);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(this.hostname.includes(i))return new Ob(e,t);}}catch(HD){r.e(HD);}finally{r.f();}return new Pb(e,t);}}]);}(),Lb=function(){return d(function e(t){a(this,e),this.logger=t,this.isProcessing=!1,this.queue=[],this.currentCase=null;},[{key:"execute",value:function(e){this.queue.push(e),this.isProcessing||this.process();}},{key:"process",value:function(){var e=this;this.isProcessing=!0,this.currentCase=this.getUniqueUseCase(),this.currentCase?this.currentCase.execute().catch(function(t){e.logger.error(ka.wrap(t,"Executing case"));}).then(function(){e.currentCase=null,e.process();}):this.isProcessing=!1;}},{key:"getUniqueUseCase",value:function(){for(;this.queue.length;){var e=this.queue.shift(),t=this.queue[0];if(!e)return null;if(!t)return e;if(!(e.constructor===t.constructor))return e;e.cleanup();}return null;}}]);}(),Nb=new WeakMap(),Db=function(){return d(function e(t,n,r,i,o){var s=this;a(this,e),c(this,Nb,void 0),this.logger=t,this.uuid=n,this.isTopmostFrame=window.top===window,this.merchantLogger=new Hv(),this.onMessageBusSend=function(e){s.isTopmostFrame||window.postMessage(e,"*");},this.messageBus=new Ul({onSend:this.onMessageBusSend}),this.locationService=new Hp(),u(Nb,this,r);var l=new Mb(window.location.hostname).create(r.getTrackingUrl()||"",this.logger);this.tracking=new vh(l,i),this.powHttpClient=new xp({onChallengeRequested:function(e,t){s.tracking.powChallengeRequested(e,t);},onChallengeSolved:function(e,t,n){s.tracking.powChallengeSolved(t,n);},onSolvingTimeExceeded:function(){s.tracking.powChallengeSolvingTimeExceeded();}}),this.api=new Eb(this.logger,this.powHttpClient,{init:"".concat(r.getPaymentFormUrl(),"/api/v2/ui/intent")},o,r.getPaymentFormUrl()),this.eventListeners=new Pp(this.merchantLogger),this.context=new Ky(t,this.merchantLogger,this.messageBus,this.tracking,this.powHttpClient,i,this.uuid),this.blockingUseCaseInteractor=new Lb(this.logger),this.iframePool=new zp({id:r.getIframeId(),url:r.getIframeUrl(),defaultContainerId:r.getDefaultFormId()},this.merchantLogger,this.messageBus);var d=new bh(this.context,this.tracking,t,this.messageBus);this.context.onFlush=function(){d.reset();};},[{key:"init",value:function(e){var t=new Ov(e,this.context,this.logger,this.api,this.tracking,s(Nb,this),this.merchantLogger,this.messageBus,this.uuid,"payment-form-v1.264.0",this.iframePool,this.locationService);return this.blockingUseCaseInteractor.execute(t),t.result.catch(function(){});}},{key:"resign",value:function(e){var t=new Fv({request:e,formConfig:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},this.context,this.api,this.tracking,this.messageBus,this.logger,this.merchantLogger,s(Nb,this),this.uuid,"payment-form-v1.264.0",this.iframePool,this.locationService);return this.blockingUseCaseInteractor.execute(t),t.result;}},{key:"update",value:function(e){var t=new $v(e,this.context,this.logger,this.tracking,this.merchantLogger,this.messageBus,s(Nb,this));return this.blockingUseCaseInteractor.execute(t),t.result;}},{key:"on",value:function(){var e;(e=this.eventListeners).on.apply(e,arguments);}},{key:"unsubscribe",value:function(){var e;(e=this.eventListeners).unsubscribe.apply(e,arguments);}},{key:"unsubscribeAll",value:function(){this.eventListeners.unsubscribeAll();}},{key:"submit",value:function(){var e;this.messageBus.sendPrivateMessage({type:Rl.SubmitRequest},null===(e=this.context.iframe)||void 0===e?void 0:e.getWindow());}},{key:"applyCoupon",value:function(e){var t=new Qy(e,this.context,this.messageBus,this.logger);return this.blockingUseCaseInteractor.execute(t),t.result;}},{key:"destroyAll",value:function(){this.unsubscribeAll(),this.context.flush();}}]);}(),Bb=function(){return d(function e(t){a(this,e),Ab=t;},[{key:"init",value:function(e){return Ab.init(e);}},{key:"resign",value:function(){var e=i(_().mark(function e(t,n){return _().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ab.resign(t,n);case 2:case"end":return e.stop();}},e);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"destroy",value:function(){Ab.destroyAll();}},{key:"update",value:function(e){return Ab.update(e);}},{key:"applyCoupon",value:function(e){return Ab.applyCoupon(e);}},{key:"on",value:function(e,t){Ab.on(e,t);}},{key:"unsubscribe",value:function(e){Ab.unsubscribe(e);}},{key:"unsubscribeAll",value:function(){Ab.unsubscribeAll();}},{key:"submit",value:function(){Ab.submit();}}]);}();function Fb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16);});}var Ub="payment-form-v1.264.0",jb="prod",$b=(null===(Rb=document.currentScript)||void 0===Rb?void 0:Rb.src)||"",zb=new ul().getBranding(Ub,$b),Hb=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Bc(),n=e.error.bind(e),r=e.warning.bind(e);return e.error=function(e,r){var i=k(t.serialize(e,r),2),o=i[0],a=i[1];return n(o,a);},e.warning=function(e,n){var i=k(t.serialize(e,n),2),o=i[0],a=i[1];return r(o,a);},e;}(new Pl(zb.getSentryDSN()||"",Ub,jb,true,["TypeError: Failed to fetch","AbortError: Request cancelled","TypeError: Load failed","TypeError: NetworkError when attempting to fetch resource.","TypeError: A conexão de rede foi perdi§da.","TypeError: The connection has been lost.","TypeError: cancelado","TypeError: A conexão de rede foi perdida.","TypeError: no se puede analizar la respuesta","while loading payment data: User closed the Payment Request UI.","While creating paypal: Document is ready and element #paypal-button does not exist","While appending paypal: Document is ready and element #paypal-button does not exist","While appending paypal: Cannot read properties of null (reading 'addEventListener')","While appending paypal: null is not an object (evaluating '","While creating paypal: zoid destroyed all components","While appending paypal: zoid destroyed all components",'while loading payment data: The payment method "https://google.com/pay"'],{traceSampleRate:1,errorSampleRate:1,productionTraceSampleRate:.1,productionErrorSampleRate:.5},function(e){if(e.length)return function(t){var n=e.find(function(e){var n;return null===(n=t.message)||void 0===n?void 0:n.includes(e.message);});return n?Math.random()<n.sampleRate?t:null:t;};}([]))),Wb=null;!function(){if(window.PaymentFormSdk){var e=new ll("PaymentFormSdk already inited");console.warn(e);}else{try{Wb=new Bb(new Db(Hb,Fb,zb,$b,Ub));}catch(t){Hb.error(ka.wrap(t,"Failed to init SDK"));}window.PaymentFormSdk={init:function(e){return Wb.init(e),Wb;},resign:function(e,t){return i(_().mark(function n(){return _().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Wb.resign(e,t);case 2:return n.abrupt("return",Wb);case 3:case"end":return n.stop();}},n);}))();},destroy:function(){Wb.destroy();}};}}();var qb=Object.prototype.toString;function Vb(e){switch(qb.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return n_(e,Error);}}function Gb(e,t){return qb.call(e)===`[object ${t}]`;}function Yb(e){return Gb(e,"ErrorEvent");}function Jb(e){return Gb(e,"DOMError");}function Kb(e){return Gb(e,"String");}function Xb(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e;}function Zb(e){return null===e||Xb(e)||"object"!=typeof e&&"function"!=typeof e;}function Qb(e){return Gb(e,"Object");}function e_(e){return"undefined"!=typeof Event&&n_(e,Event);}function t_(e){return Boolean(e&&e.then&&"function"==typeof e.then);}function n_(e,t){try{return e instanceof t;}catch(n){return!1;}}function r_(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue);}function i_(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`;}function o_(e,t){var n=e;var r=n.length;if(r<=150)return n;t>r&&(t=r);var i=Math.max(t-60,0);i<5&&(i=0);var o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n;}function a_(e,t){if(!Array.isArray(e))return"";var n=[];for(var _i2=0;_i2<e.length;_i2++){var _t2=e[_i2];try{r_(_t2)?n.push("[VueViewModel]"):n.push(String(_t2));}catch(r){n.push("[value cannot be serialized]");}}return n.join(t);}function s_(e,t,n=!1){return!!Kb(e)&&(function(e){return Gb(e,"RegExp");}(t)?t.test(e):!!Kb(t)&&(n?e===t:e.includes(t)));}function c_(e,t=[],n=!1){return t.some(t=>s_(e,t,n));}function u_(e,t,n=250,r,i,o,a){if(!(o.exception&&o.exception.values&&a&&n_(a.originalException,Error)))return;var s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=function(e,t){return e.map(e=>(e.value&&(e.value=i_(e.value,t)),e));}(l_(e,t,i,a.originalException,r,o.exception.values,s,0),n));}function l_(e,t,n,r,i,o,a,s){if(o.length>=n+1)return o;var c=[...o];if(n_(r[i],Error)){d_(a,s);var _o2=e(t,r[i]),_u2=c.length;f_(_o2,i,_u2,s),c=l_(e,t,n,r[i],i,[_o2,...c],_o2,_u2);}return Array.isArray(r.errors)&&r.errors.forEach((r,o)=>{if(n_(r,Error)){d_(a,s);var _u3=e(t,r),_l2=c.length;f_(_u3,`errors[${o}]`,_l2,s),c=l_(e,t,n,r,i,[_u3,...c],_u3,_l2);}}),c;}function d_(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...("AggregateError"===e.type&&{is_exception_group:!0}),exception_id:t};}function f_(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r};}function p_(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0;}var h_="8.34.0",m_=globalThis;function g_(e,t,n){var r=m_,i=r.__SENTRY__=r.__SENTRY__||{},o=i[h_]=i[h_]||{};return o[e]||(o[e]=t());}var y_=m_,v_=80;function b_(e,t={}){if(!e)return"<unknown>";try{var _n2=e;var _r2=5,_i3=[];var _o3=0,_a2=0;var _s2=" > ",_c2=_s2.length;var _u4;var _l3=Array.isArray(t)?t:t.keyAttrs,_d2=!Array.isArray(t)&&t.maxStringLength||v_;for(;_n2&&_o3++<_r2&&(_u4=__(_n2,_l3),!("html"===_u4||_o3>1&&_a2+_i3.length*_c2+_u4.length>=_d2));)_i3.push(_u4),_a2+=_u4.length,_n2=_n2.parentNode;return _i3.reverse().join(_s2);}catch(n){return"<unknown>";}}function __(e,t){var n=e,r=[];if(!n||!n.tagName)return"";if(y_.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement;}r.push(n.tagName.toLowerCase());var i=t&&t.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(i&&i.length)i.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`);});else{n.id&&r.push(`#${n.id}`);var _e2=n.className;if(_e2&&Kb(_e2)){var _t3=_e2.split(/\s+/);for(var _e3 of _t3)r.push(`.${_e3}`);}}var o=["aria-label","type","name","title","alt"];for(var _a3 of o){var _e4=n.getAttribute(_a3);_e4&&r.push(`[${_a3}="${_e4}"]`);}return r.join("");}function w_(){try{return y_.document.location.href;}catch(e){return"";}}function k_(e){if(!y_.HTMLElement)return null;var t=e;for(var _n3=0;_n3<5;_n3++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement;}t=t.parentNode;}return null;}var S_="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,x_=["debug","info","warn","error","log","assert","trace"],E_={};function C_(e){if(!("console"in m_))return e();var t=m_.console,n={},r=Object.keys(E_);r.forEach(e=>{var r=E_[e];n[e]=t[e],t[e]=r;});try{return e();}finally{r.forEach(e=>{t[e]=n[e];});}}var I_=g_("logger",function(){var e=!1;var t={enable:()=>{e=!0;},disable:()=>{e=!1;},isEnabled:()=>e};return S_?x_.forEach(n=>{t[n]=(...t)=>{e&&C_(()=>{m_.console[n](`Sentry Logger [${n}]:`,...t);});};}):x_.forEach(e=>{t[e]=()=>{};}),t;}),T_=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function P_(e,t=!1){var{host:n,path:r,pass:i,port:o,projectId:a,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${a}`;}function A_(e){var t=T_.exec(e);if(!t)return void C_(()=>{console.error(`Invalid Sentry Dsn: ${e}`);});var[n,r,i="",o="",a="",s=""]=t.slice(1);var c="",u=s;var l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){var _e5=u.match(/^\d+/);_e5&&(u=_e5[0]);}return R_({host:o,pass:i,path:c,projectId:u,port:a,protocol:n,publicKey:r});}function R_(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId};}function O_(e){var t="string"==typeof e?A_(e):R_(e);if(t&&function(e){if(!S_)return!0;var{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(I_.error(`Invalid Sentry Dsn: ${t} missing`),!0))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e;}(r)?t&&isNaN(parseInt(t,10))&&(I_.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(I_.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(I_.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)));}(t))return t;}class M_ extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t;}}function L_(e,t,n){if(!(t in e))return;var r=e[t],i=n(r);"function"==typeof i&&D_(i,r),e[t]=i;}function N_(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0});}catch(r){S_&&I_.log(`Failed to add non-enumerable property "${t}" to object`,e);}}function D_(e,t){try{var _n4=t.prototype||{};e.prototype=t.prototype=_n4,N_(e,"__sentry_original__",t);}catch(n){}}function B_(e){return e.__sentry_original__;}function F_(e){if(Vb(e))return{message:e.message,name:e.name,stack:e.stack,...j_(e)};if(e_(e)){var _t4={type:e.type,target:U_(e.target),currentTarget:U_(e.currentTarget),...j_(e)};return"undefined"!=typeof CustomEvent&&n_(e,CustomEvent)&&(_t4.detail=e.detail),_t4;}return e;}function U_(e){try{return function(e){return"undefined"!=typeof Element&&n_(e,Element);}(e)?b_(e):Object.prototype.toString.call(e);}catch(t){return"<unknown>";}}function j_(e){if("object"==typeof e&&null!==e){var _t5={};for(var _n5 in e)Object.prototype.hasOwnProperty.call(e,_n5)&&(_t5[_n5]=e[_n5]);return _t5;}return{};}function $_(e){return z_(e,new Map());}function z_(e,t){if(function(e){if(!Qb(e))return!1;try{var _t6=Object.getPrototypeOf(e).constructor.name;return!_t6||"Object"===_t6;}catch(t){return!0;}}(e)){var _n6=t.get(e);if(void 0!==_n6)return _n6;var _r3={};t.set(e,_r3);for(var _i4 of Object.getOwnPropertyNames(e))void 0!==e[_i4]&&(_r3[_i4]=z_(e[_i4],t));return _r3;}if(Array.isArray(e)){var _n7=t.get(e);if(void 0!==_n7)return _n7;var _r4=[];return t.set(e,_r4),e.forEach(e=>{_r4.push(z_(e,t));}),_r4;}return e;}var H_=50,W_="?",q_=/\(error: (.*)\)/,V_=/captureMessage|captureException/;function G_(...e){var t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0,r=0)=>{var i=[],o=e.split("\n");for(var _a4=n;_a4<o.length;_a4++){var _e6=o[_a4];if(_e6.length>1024)continue;var _n8=q_.test(_e6)?_e6.replace(q_,"$1"):_e6;if(!_n8.match(/\S*Error: /)){for(var _e7 of t){var _t7=_e7(_n8);if(_t7){i.push(_t7);break;}}if(i.length>=H_+r)break;}}return function(e){if(!e.length)return[];var t=Array.from(e);/sentryWrapped/.test(J_(t).function||"")&&t.pop();t.reverse(),V_.test(J_(t).function||"")&&(t.pop(),V_.test(J_(t).function||"")&&t.pop());return t.slice(0,H_).map(e=>({...e,filename:e.filename||J_(t).filename,function:e.function||W_}));}(i.slice(r));};}function Y_(e){return Array.isArray(e)?G_(...e):e;}function J_(e){return e[e.length-1]||{};}var K_="<anonymous>";function X_(e){try{return e&&"function"==typeof e&&e.name||K_;}catch(t){return K_;}}function Z_(e){var t=e.exception;if(t){var _e8=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&_e8.push(...t.stacktrace.frames);}),_e8;}catch(n){return;}}}var Q_={},ew={};function tw(e,t){Q_[e]=Q_[e]||[],Q_[e].push(t);}function nw(e,t){ew[e]||(t(),ew[e]=!0);}function rw(e,t){var n=e&&Q_[e];if(n)for(var _i5 of n)try{_i5(t);}catch(r){S_&&I_.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${X_(_i5)}\nError:`,r);}}function iw(e){var t="console";tw(t,e),nw(t,ow);}function ow(){"console"in m_&&x_.forEach(function(e){e in m_.console&&L_(m_.console,e,function(t){return E_[e]=t,function(...t){rw("console",{args:t,level:e});var n=E_[e];n&&n.apply(m_.console,t);};});});}var aw=m_;function sw(){if(!("fetch"in aw))return!1;try{return new Headers(),new Request("http://www.example.com"),new Response(),!0;}catch(e){return!1;}}function cw(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString());}function uw(){if("string"==typeof EdgeRuntime)return!0;if(!sw())return!1;if(cw(aw.fetch))return!0;var e=!1;var t=aw.document;if(t&&"function"==typeof t.createElement)try{var _n9=t.createElement("iframe");_n9.hidden=!0,t.head.appendChild(_n9),_n9.contentWindow&&_n9.contentWindow.fetch&&(e=cw(_n9.contentWindow.fetch)),t.head.removeChild(_n9);}catch(HD){S_&&I_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",HD);}return e;}var lw=1e3;function dw(){return Date.now()/lw;}var fw=function(){var{performance:e}=m_;if(!e||!e.now)return dw;var t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/lw;}(),pw=(()=>{var{performance:e}=m_;if(!e||!e.now)return;var t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,a=e.timing&&e.timing.navigationStart,s="number"==typeof a?Math.abs(a+n-r):t;return o||s<t?i<=s?e.timeOrigin:a:r;})();function hw(e,t){var n="fetch";tw(n,e),nw(n,()=>mw(void 0,t));}function mw(e,t=!1){t&&!uw()||L_(m_,"fetch",function(t){return function(...n){var{method:r,url:i}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){var[_t8,_n10]=e;return{url:vw(_t8),method:yw(_n10,"method")?String(_n10.method).toUpperCase():"GET"};}var t=e[0];return{url:vw(t),method:yw(t,"method")?String(t.method).toUpperCase():"GET"};}(n),o={args:n,fetchData:{method:r,url:i},startTimestamp:1e3*fw()};e||rw("fetch",{...o});var a=new Error().stack;return t.apply(m_,n).then(async t=>(e?e(t):rw("fetch",{...o,endTimestamp:1e3*fw(),response:t}),t),e=>{throw rw("fetch",{...o,endTimestamp:1e3*fw(),error:e}),Vb(e)&&void 0===e.stack&&(e.stack=a,N_(e,"framesToPop",1)),e;});};});}function gw(e){var t;try{t=e.clone();}catch(n){return;}!async function(e,t){if(e&&e.body){var _r5=e.body,_i6=_r5.getReader(),_o4=setTimeout(()=>{_r5.cancel().then(null,()=>{});},9e4);var _a5=!0;for(;_a5;){var _e9=void 0;try{_e9=setTimeout(()=>{_r5.cancel().then(null,()=>{});},5e3);var{done:_n11}=await _i6.read();clearTimeout(_e9),_n11&&(t(),_a5=!1);}catch(n){_a5=!1;}finally{clearTimeout(_e9);}}clearTimeout(_o4),_i6.releaseLock(),_r5.cancel().then(null,()=>{});}}(t,()=>{rw("fetch-body-resolved",{endTimestamp:1e3*fw(),response:e});});}function yw(e,t){return!!e&&"object"==typeof e&&!!e[t];}function vw(e){return"string"==typeof e?e:e?yw(e,"url")?e.url:e.toString?e.toString():"":"";}var bw=null;function _w(e){var t="error";tw(t,e),nw(t,ww);}function ww(){bw=m_.onerror,m_.onerror=function(e,t,n,r,i){return rw("error",{column:r,error:i,line:n,msg:e,url:t}),!(!bw||bw.__SENTRY_LOADER__)&&bw.apply(this,arguments);},m_.onerror.__SENTRY_INSTRUMENTED__=!0;}var kw=null;function Sw(e){var t="unhandledrejection";tw(t,e),nw(t,xw);}function xw(){kw=m_.onunhandledrejection,m_.onunhandledrejection=function(e){return rw("unhandledrejection",e),!(kw&&!kw.__SENTRY_LOADER__)||kw.apply(this,arguments);},m_.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;}function Ew(){return!function(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__;}()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);}function Cw(){return"undefined"!=typeof window&&(!Ew()||function(){return void 0!==m_.process&&"renderer"===m_.process.type;}());}function Iw(){var e=m_,t=e.crypto||e.msCrypto;var n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{var e=new Uint8Array(1);return t.getRandomValues(e),e[0];});}catch(r){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&n())>>e/4).toString(16));}function Tw(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0;}function Pw(e){var{message:t,event_id:n}=e;if(t)return t;var r=Tw(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>";}function Aw(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error");}function Rw(e,t){var n=Tw(e);if(!n)return;var r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){var _e10={...(r&&r.data),...t.data};n.mechanism.data=_e10;}}function Ow(e){if(e&&e.__sentry_captured__)return!0;try{N_(e,"__sentry_captured__",!0);}catch(HD){}return!1;}function Mw(e){return Array.isArray(e)?e:[e];}function Lw(e,t=100,n=1/0){try{return Dw("",e,t,n);}catch(HD){return{ERROR:`**non-serializable** (${HD})`};}}function Nw(e,t=3,n=102400){var r=Lw(e,t);return function(e){return function(e){return~-encodeURI(e).split(/%..|./).length;}(JSON.stringify(e));}(r)>n?Nw(e,t-1,n):r;}function Dw(e,t,n=1/0,r=1/0,i=function(){var e="function"==typeof WeakSet,t=e?new WeakSet():[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(var _e11=0;_e11<t.length;_e11++)if(t[_e11]===n)return!0;return t.push(n),!1;},function(n){if(e)t.delete(n);else for(var _e12=0;_e12<t.length;_e12++)if(t[_e12]===n){t.splice(_e12,1);break;}}];}()){var[o,a]=i;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;var s=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(r_(t))return"[VueViewModel]";if(function(e){return Qb(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e;}(t))return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${X_(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;var _n12=function(e){var t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype";}(t);return /^HTML(\w*)Element$/.test(_n12)?`[HTMLElement: ${_n12}]`:`[object ${_n12}]`;}catch(HD){return`**non-serializable** (${HD})`;}}(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;var c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return s.replace("object ","");if(o(t))return"[Circular ~]";var u=t;if(u&&"function"==typeof u.toJSON)try{return Dw("",u.toJSON(),c-1,r,i);}catch(HD){}var l=Array.isArray(t)?[]:{};var d=0;var f=F_(t);for(var _p2 in f){if(!Object.prototype.hasOwnProperty.call(f,_p2))continue;if(d>=r){l[_p2]="[MaxProperties ~]";break;}var _e13=f[_p2];l[_p2]=Dw(_p2,_e13,c-1,r,i),d++;}return a(t),l;}var Bw=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Fw(...e){var t="",n=!1;for(var _r6=e.length-1;_r6>=-1&&!n;_r6--){var _i7=_r6>=0?e[_r6]:"/";_i7&&(t=`${_i7}/${t}`,n="/"===_i7.charAt(0));}return t=function(e,t){var n=0;for(var _r7=e.length-1;_r7>=0;_r7--){var _t9=e[_r7];"."===_t9?e.splice(_r7,1):".."===_t9?(e.splice(_r7,1),n++):n&&(e.splice(_r7,1),n--);}if(t)for(;n--;n)e.unshift("..");return e;}(t.split("/").filter(e=>!!e),!n).join("/"),(n?"/":"")+t||".";}function Uw(e){var t=0;for(;t<e.length&&""===e[t];t++);var n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1);}function jw(e,t){return function(e){var t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=Bw.exec(t);return n?n.slice(1):[];}(e)[2]||"";}var $w;function zw(e){return new Ww(t=>{t(e);});}function Hw(e){return new Ww((t,n)=>{n(e);});}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED";}($w||($w={}));class Ww{constructor(e){Ww.prototype.__init.call(this),Ww.prototype.__init2.call(this),Ww.prototype.__init3.call(this),Ww.prototype.__init4.call(this),this._state=$w.PENDING,this._handlers=[];try{e(this._resolve,this._reject);}catch(t){this._reject(t);}}then(e,t){return new Ww((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t));}catch(i){r(i);}else n(t);},e=>{if(t)try{n(t(e));}catch(i){r(i);}else r(e);}]),this._executeHandlers();});}catch(e){return this.then(e=>e,e);}finally(e){return new Ww((t,n)=>{var r,i;return this.then(t=>{i=!1,r=t,e&&e();},t=>{i=!0,r=t,e&&e();}).then(()=>{i?n(r):t(r);});});}__init(){this._resolve=e=>{this._setResult($w.RESOLVED,e);};}__init2(){this._reject=e=>{this._setResult($w.REJECTED,e);};}__init3(){this._setResult=(e,t)=>{this._state===$w.PENDING&&(t_(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()));};}__init4(){this._executeHandlers=()=>{if(this._state===$w.PENDING)return;var e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===$w.RESOLVED&&e[1](this._value),this._state===$w.REJECTED&&e[2](this._value),e[0]=!0);});};}}function qw(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0);}return{$:t,add:function(r){if(!function(){return void 0===e||t.length<e;}())return Hw(new M_("Not adding Promise because buffer limit was reached."));var i=r();return-1===t.indexOf(i)&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i;},drain:function(e){return new Ww((n,r)=>{var i=t.length;if(!i)return n(!0);var o=setTimeout(()=>{e&&e>0&&n(!1);},e);t.forEach(e=>{zw(e).then(()=>{--i||(clearTimeout(o),n(!0));},r);});});}};}function Vw(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r};}function Gw(e){return e.split(/\\?\//).filter(e=>e.length>0&&","!==e).length;}var Yw=["fatal","error","warning","log","info","debug"];function Jw(e){return"warn"===e?"warning":Yw.includes(e)?e:"log";}var Kw="baggage",Xw="sentry-",Zw=/^sentry-/,Qw=8192;function ek(e){var t=function(e){if(!e||!Kb(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce((e,t)=>{var n=nk(t);return Object.entries(n).forEach(([t,n])=>{e[t]=n;}),e;},{});return nk(e);}(e);if(!t)return;var n=Object.entries(t).reduce((e,[t,n])=>{if(t.match(Zw)){e[t.slice(Xw.length)]=n;}return e;},{});return Object.keys(n).length>0?n:void 0;}function tk(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce((e,[t,n],r)=>{var i=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,o=0===r?i:`${e},${i}`;return o.length>Qw?(S_&&I_.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o;},"");}(Object.entries(e).reduce((e,[t,n])=>(n&&(e[`${Xw}${t}`]=n),e),{}));}function nk(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,[t,n])=>(t&&n&&(e[t]=n),e),{});}var rk=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ik(e,t){var n=function(e){if(!e)return;var t=e.match(rk);if(!t)return;var n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]};}(e),r=ek(t),{traceId:i,parentSpanId:o,parentSampled:a}=n||{};return n?{traceId:i||Iw(),parentSpanId:o||Iw().substring(16),spanId:Iw().substring(16),sampled:a,dsc:r||{}}:{traceId:i||Iw(),spanId:Iw().substring(16)};}function ok(e=Iw(),t=Iw().substring(16),n){var r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`;}function ak(e,t=[]){return[e,t];}function sk(e,t){var[n,r]=e;return[n,[...r,t]];}function ck(e,t){var n=e[1];for(var _r8 of n){if(t(_r8,_r8[0].type))return!0;}return!1;}function uk(e,t){return ck(e,(e,n)=>t.includes(n));}function lk(e){return m_.__SENTRY__&&m_.__SENTRY__.encodePolyfill?m_.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e);}function dk(e){var[t,n]=e;var r=JSON.stringify(t);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[lk(r),e]:r.push("string"==typeof e?lk(e):e);}for(var _a6 of n){var[_e14,_t10]=_a6;if(i(`\n${JSON.stringify(_e14)}\n`),"string"==typeof _t10||_t10 instanceof Uint8Array)i(_t10);else{var _e15=void 0;try{_e15=JSON.stringify(_t10);}catch(o){_e15=JSON.stringify(Lw(_t10));}i(_e15);}}return"string"==typeof r?r:function(e){var t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);var r=0;for(var _i8 of e)n.set(_i8,r),r+=_i8.length;return n;}(r);}function fk(e){var t="string"==typeof e?lk(e):e;function n(e){var n=t.subarray(0,e);return t=t.subarray(e+1),n;}function r(){var e=t.indexOf(10);return e<0&&(e=t.length),JSON.parse(function(e){return m_.__SENTRY__&&m_.__SENTRY__.decodePolyfill?m_.__SENTRY__.decodePolyfill(e):new TextDecoder().decode(e);}(n(e)));}var i=r(),o=[];for(;t.length;){var _e16=r(),_t11="number"==typeof _e16.length?_e16.length:void 0;o.push([_e16,_t11?n(_t11):r()]);}return[i,o];}function pk(e){return[{type:"span"},e];}function hk(e){var t="string"==typeof e.data?lk(e.data):e.data;return[$_({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t];}var mk={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function gk(e){return mk[e];}function yk(e){if(!e||!e.sdk)return;var{name:t,version:n}=e.sdk;return{name:t,version:n};}function vk(e,t,n,r){var i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...(t&&{sdk:t}),...(!!n&&r&&{dsn:P_(r)}),...(i&&{trace:$_({...i})})};}var bk=6e4;function _k(e,t=Date.now()){var n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(`${e}`);return isNaN(r)?bk:r-t;}function wk(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0;}(e,t)>n;}function kk(e,{statusCode:t,headers:n},r=Date.now()){var i={...e},o=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(o)for(var _s3 of o.trim().split(",")){var[_e17,_t12,,,_n13]=_s3.split(":",5),_o5=parseInt(_e17,10),_a7=1e3*(isNaN(_o5)?60:_o5);if(_t12)for(var _s4 of _t12.split(";"))"metric_bucket"===_s4&&_n13&&!_n13.split(";").includes("custom")||(i[_s4]=r+_a7);else i.all=r+_a7;}else a?i.all=r+_k(a,r):429===t&&(i.all=r+6e4);return i;}function Sk(e){var t,n=e[0],r=1;for(;r<e.length;){var _i9=e[r],_o6=e[r+1];if(r+=2,("optionalAccess"===_i9||"optionalCall"===_i9)&&null==n)return;"access"===_i9||"optionalAccess"===_i9?(t=n,n=_o6(n)):"call"!==_i9&&"optionalCall"!==_i9||(n=_o6((...e)=>n.call(t,...e)),t=void 0);}return n;}function xk(){return{traceId:Iw(),spanId:Iw().substring(16)};}var Ek=m_;var Ck="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Ik(){return Tk(m_),m_;}function Tk(e){var t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||h_,t[h_]=t[h_]||{};}function Pk(e){var t=fw(),n={sid:Iw(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return $_({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}});}(n)};return e&&Ak(n,e),n;}function Ak(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||fw(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Iw()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{var _t13=e.timestamp-e.started;e.duration=_t13>=0?_t13:0;}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status);}var Rk="_sentrySpan";function Ok(e,t){t?N_(e,Rk,t):delete e[Rk];}function Mk(e){return e[Rk];}class Lk{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=xk();}clone(){var e=new Lk();return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,Ok(e,Mk(this)),e;}setClient(e){this._client=e;}setLastEventId(e){this._lastEventId=e;}getClient(){return this._client;}lastEventId(){return this._lastEventId;}addScopeListener(e){this._scopeListeners.push(e);}addEventProcessor(e){return this._eventProcessors.push(e),this;}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ak(this._session,{user:e}),this._notifyScopeListeners(),this;}getUser(){return this._user;}getRequestSession(){return this._requestSession;}setRequestSession(e){return this._requestSession=e,this;}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this;}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this;}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this;}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this;}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this;}setLevel(e){return this._level=e,this._notifyScopeListeners(),this;}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this;}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this;}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this;}getSession(){return this._session;}update(e){if(!e)return this;var t="function"==typeof e?e(this):e,[n,r]=t instanceof Nk?[t.getScopeData(),t.getRequestSession()]:Qb(t)?[e,e.requestSession]:[],{tags:i,extra:o,user:a,contexts:s,level:c,fingerprint:u=[],propagationContext:l}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...s},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),l&&(this._propagationContext=l),r&&(this._requestSession=r),this;}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,Ok(this,void 0),this._attachments=[],this._propagationContext=xk(),this._notifyScopeListeners(),this;}addBreadcrumb(e,t){var n="number"==typeof t?t:100;if(n<=0)return this;var r={timestamp:dw(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this;}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1];}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this;}addAttachment(e){return this._attachments.push(e),this;}clearAttachments(){return this._attachments=[],this;}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Mk(this)};}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this;}setPropagationContext(e){return this._propagationContext=e,this;}getPropagationContext(){return this._propagationContext;}captureException(e,t){var n=t&&t.event_id?t.event_id:Iw();if(!this._client)return I_.warn("No client configured on scope - will not capture exception!"),n;var r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n;}captureMessage(e,t,n){var r=n&&n.event_id?n.event_id:Iw();if(!this._client)return I_.warn("No client configured on scope - will not capture message!"),r;var i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r;}captureEvent(e,t){var n=t&&t.event_id?t.event_id:Iw();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(I_.warn("No client configured on scope - will not capture event!"),n);}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this);}),this._notifyingListeners=!1);}}var Nk=Lk;class Dk{constructor(e,t){var n,r;n=e||new Nk(),r=t||new Nk(),this._stack=[{scope:n}],this._isolationScope=r;}withScope(e){var t=this._pushScope();var n;try{n=e(t);}catch(r){throw this._popScope(),r;}return t_(n)?n.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e;}):(this._popScope(),n);}getClient(){return this.getStackTop().client;}getScope(){return this.getStackTop().scope;}getIsolationScope(){return this._isolationScope;}getStackTop(){return this._stack[this._stack.length-1];}_pushScope(){var e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e;}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop();}}function Bk(){var e=Tk(Ik());return e.stack=e.stack||new Dk(function(){return g_("defaultCurrentScope",()=>new Nk());}(),function(){return g_("defaultIsolationScope",()=>new Nk());}());}function Fk(e){return Bk().withScope(e);}function Uk(e,t){var n=Bk();return n.withScope(()=>(n.getStackTop().scope=e,t(e)));}function jk(e){return Bk().withScope(()=>e(Bk().getIsolationScope()));}function $k(e){var t=Tk(e);return t.acs?t.acs:function(){return{withIsolationScope:jk,withScope:Fk,withSetScope:Uk,withSetIsolationScope:(e,t)=>jk(t),getCurrentScope:()=>Bk().getScope(),getIsolationScope:()=>Bk().getIsolationScope()};}();}function zk(){return $k(Ik()).getCurrentScope();}function Hk(){return $k(Ik()).getIsolationScope();}function Wk(){return g_("globalScope",()=>new Nk());}function qk(...e){var t=$k(Ik());if(2===e.length){var[_n14,_r9]=e;return _n14?t.withSetScope(_n14,_r9):t.withScope(_r9);}return t.withScope(e[0]);}function Vk(){return zk().getClient();}var Gk="_sentryMetrics";function Yk(e){var t=e[Gk];if(!t)return;var n={};for(var[,[_r10,_i10]]of t){(n[_r10]||(n[_r10]=[])).push($_(_i10));}return n;}var Jk="sentry.source",Kk="sentry.sample_rate",Xk="sentry.op",Zk="sentry.origin",Qk="sentry.idle_span_finish_reason",eS="sentry.measurement_unit",tS="sentry.measurement_value",nS="sentry.exclusive_time",rS=0,iS=1,oS=2;function aS(e){if(e<400&&e>=100)return{code:iS};if(e>=400&&e<500)switch(e){case 401:return{code:oS,message:"unauthenticated"};case 403:return{code:oS,message:"permission_denied"};case 404:return{code:oS,message:"not_found"};case 409:return{code:oS,message:"already_exists"};case 413:return{code:oS,message:"failed_precondition"};case 429:return{code:oS,message:"resource_exhausted"};case 499:return{code:oS,message:"cancelled"};default:return{code:oS,message:"invalid_argument"};}if(e>=500&&e<600)switch(e){case 501:return{code:oS,message:"unimplemented"};case 503:return{code:oS,message:"unavailable"};case 504:return{code:oS,message:"deadline_exceeded"};default:return{code:oS,message:"internal_error"};}return{code:oS,message:"unknown_error"};}function sS(e,t){e.setAttribute("http.response.status_code",t);var n=aS(t);"unknown_error"!==n.message&&e.setStatus(n);}var cS=1;function uS(e){var{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:o,status:a,origin:s}=hS(e);return $_({parent_span_id:o,span_id:t,trace_id:n,data:r,op:i,status:a,origin:s});}function lS(e){var{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=hS(e);return $_({parent_span_id:r,span_id:t,trace_id:n});}function dS(e){var{traceId:t,spanId:n}=e.spanContext();return ok(t,n,mS(e));}function fS(e){return"number"==typeof e?pS(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?pS(e.getTime()):fw();}function pS(e){return e>9999999999?e/1e3:e;}function hS(e){if(function(e){return"function"==typeof e.getSpanJSON;}(e))return e.getSpanJSON();try{var{spanId:_t14,traceId:_n15}=e.spanContext();if(function(e){var t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status);}(e)){var{attributes:_r11,startTime:_i11,name:_o7,endTime:_a8,parentSpanId:_s5,status:_c3}=e;return $_({span_id:_t14,trace_id:_n15,data:_r11,description:_o7,parent_span_id:_s5,start_timestamp:fS(_i11),timestamp:fS(_a8)||void 0,status:gS(_c3),op:_r11[Xk],origin:_r11[Zk],_metrics_summary:Yk(e)});}return{span_id:_t14,trace_id:_n15};}catch(t){return{};}}function mS(e){var{traceFlags:t}=e.spanContext();return t===cS;}function gS(e){if(e&&e.code!==rS)return e.code===iS?"ok":e.message||"unknown_error";}var yS="_sentryChildSpans",vS="_sentryRootSpan";function bS(e,t){var n=e[vS]||e;N_(t,vS,n),e[yS]?e[yS].add(t):N_(e,yS,new Set([t]));}function _S(e){var t=new Set();return function e(n){if(!t.has(n)&&mS(n)){t.add(n);var _r12=n[yS]?Array.from(n[yS]):[];for(var _t15 of _r12)e(_t15);}}(e),Array.from(t);}function wS(e){return e[vS]||e;}function kS(){var e=$k(Ik());return e.getActiveSpan?e.getActiveSpan():Mk(zk());}function SS(e,t,n,r,i,o){var a=kS();a&&function(e,t,n,r,i,o,a){var s=e[Gk]||(e[Gk]=new Map()),c=`${t}:${n}@${i}`,u=s.get(a);if(u){var[,_e18]=u;s.set(a,[c,{min:Math.min(_e18.min,r),max:Math.max(_e18.max,r),count:_e18.count+=1,sum:_e18.sum+=r,tags:_e18.tags}]);}else s.set(a,[c,{min:r,max:r,count:1,sum:r,tags:o}]);}(a,e,t,n,r,i,o);}var xS=!1;function ES(){xS||(xS=!0,_w(CS),Sw(CS));}function CS(){var e=kS(),t=e&&wS(e);if(t){var _e19="internal_error";Ck&&I_.log(`[Tracing] Root span: ${_e19} -> Global error occured`),t.setStatus({code:oS,message:_e19});}}CS.tag="sentry_tracingErrorCallback";var IS="_sentryScope",TS="_sentryIsolationScope";function PS(e){return{scope:e[IS],isolationScope:e[TS]};}function AS(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;var t=Vk(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n);}class RS{constructor(e={}){this._traceId=e.traceId||Iw(),this._spanId=e.spanId||Iw().substring(16);}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0};}end(e){}setAttribute(e,t){return this;}setAttributes(e){return this;}setStatus(e){return this;}updateName(e){return this;}isRecording(){return!1;}addEvent(e,t,n){return this;}addLink(e){return this;}addLinks(e){return this;}recordException(e,t){}}function OS(e,t,n=()=>{}){var r;try{r=e();}catch(i){throw t(i),n(),i;}return function(e,t,n){if(t_(e))return e.then(e=>(n(),e),e=>{throw t(e),n(),e;});return n(),e;}(r,t,n);}var MS="production",LS="_frozenDsc";function NS(e,t){N_(e,LS,t);}function DS(e,t){var n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=$_({environment:n.environment||MS,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i;}function BS(e){var t=Vk();if(!t)return{};var n=DS(hS(e).trace_id||"",t),r=wS(e),i=r[LS];if(i)return i;var o=r.spanContext().traceState,a=o&&o.get("sentry.dsc"),s=a&&ek(a);if(s)return s;var c=hS(r),u=c.data||{},l=u[Kk];null!=l&&(n.sample_rate=`${l}`);var d=u[Jk],f=c.description;return"url"!==d&&f&&(n.transaction=f),AS()&&(n.sampled=String(mS(r))),t.emit("createDsc",n,r),n;}function FS(e){if("boolean"==typeof e)return Number(e);var t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t)||t<0||t>1))return t;Ck&&I_.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);}function US(e,t,n,r=kS()){var i=r&&wS(r);i&&i.addEvent(e,{[tS]:t,[eS]:n});}function jS(e){if(!e||0===e.length)return;var t={};return e.forEach(e=>{var n=e.attributes||{},r=n[eS],i=n[tS];"string"==typeof r&&"number"==typeof i&&(t[e.name]={value:i,unit:r});}),t;}class $S{constructor(e={}){this._traceId=e.traceId||Iw(),this._spanId=e.spanId||Iw().substring(16),this._startTime=e.startTimestamp||fw(),this._attributes={},this.setAttributes({[Zk]:"manual",[Xk]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded();}addLink(e){return this;}addLinks(e){return this;}recordException(e,t){}spanContext(){var{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?cS:0};}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this;}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this;}updateStartTime(e){this._startTime=fS(e);}setStatus(e){return this._status=e,this;}updateName(e){return this._name=e,this;}end(e){this._endTime||(this._endTime=fS(e),function(e){if(!Ck)return;var{description:t="< unknown name >",op:n="< unknown op >"}=hS(e),{spanId:r}=e.spanContext(),i=`[Tracing] Finishing "${n}" ${wS(e)===e?"root ":""}span "${t}" with ID ${r}`;I_.log(i);}(this),this._onSpanEnded());}getSpanJSON(){return $_({data:this._attributes,description:this._name,op:this._attributes[Xk],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:gS(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Zk],_metrics_summary:Yk(this),profile_id:this._attributes["sentry.profile_id"],exclusive_time:this._attributes[nS],measurements:jS(this._events),is_segment:this._isStandaloneSpan&&wS(this)===this||void 0,segment_id:this._isStandaloneSpan?wS(this).spanContext().spanId:void 0});}isRecording(){return!this._endTime&&!!this._sampled;}addEvent(e,t,n){Ck&&I_.log("[Tracing] Adding an event to span:",e);var r=zS(t)?t:n||fw(),i=zS(t)?{}:t||{},o={name:e,time:fS(r),attributes:i};return this._events.push(o),this;}isStandaloneSpan(){return!!this._isStandaloneSpan;}_onSpanEnded(){var e=Vk();e&&e.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===wS(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){var t=Vk();if(!t)return;var n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");var r=t.getTransport();r&&r.send(e).then(null,e=>{Ck&&I_.error("Error while sending span:",e);});}(function(e,t){var n=BS(e[0]),r=t&&t.getDsn(),i=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...(function(e){return!!e.trace_id&&!!e.public_key;}(n)&&{trace:n}),...(!!i&&r&&{dsn:P_(r)})},a=t&&t.getOptions().beforeSendSpan,s=a?e=>a(hS(e)):e=>hS(e),c=[];for(var _u5 of e){var _e20=s(_u5);_e20&&c.push(pk(_e20));}return ak(o,c);}([this],e)):(Ck&&I_.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));var t=this._convertSpanToTransaction();if(t){(PS(this).scope||zk()).captureEvent(t);}}_convertSpanToTransaction(){if(!HS(hS(this)))return;this._name||(Ck&&I_.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");var{scope:e,isolationScope:t}=PS(this),n=(e||zk()).getClient()||Vk();if(!0!==this._sampled)return Ck&&I_.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(n&&n.recordDroppedEvent("sample_rate","transaction"));var r=_S(this).filter(e=>e!==this&&!function(e){return e instanceof $S&&e.isStandaloneSpan();}(e)).map(e=>hS(e)).filter(HS),i=this._attributes[Jk],o={contexts:{trace:uS(this)},spans:r.length>1e3?r.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,...$_({dynamicSamplingContext:BS(this)})},_metrics_summary:Yk(this),...(i&&{transaction_info:{source:i}})},a=jS(this._events);return a&&Object.keys(a).length&&(Ck&&I_.log("[Measurements] Adding measurements to transaction event",JSON.stringify(a,void 0,2)),o.measurements=a),o;}}function zS(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e);}function HS(e){return!!(e.start_timestamp&&e.timestamp&&e.span_id&&e.trace_id);}var WS="__SENTRY_SUPPRESS_TRACING__";function qS(e,t){var n=KS();if(n.startSpanManual)return n.startSpanManual(e,t);var r=JS(e),{forceTransaction:i,parentSpan:o}=e;return qk(e.scope,()=>QS(o)(()=>{var n=zk(),o=ZS(n),a=e.onlyIfParent&&!o?new RS():YS({parentSpan:o,spanArguments:r,forceTransaction:i,scope:n});function s(){a.end();}return Ok(n,a),OS(()=>t(a,s),()=>{var{status:e}=hS(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:oS,message:"internal_error"});});}));}function VS(e){var t=KS();if(t.startInactiveSpan)return t.startInactiveSpan(e);var n=JS(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?t=>qk(e.scope,t):void 0!==i?e=>GS(i,e):e=>e())(()=>{var t=zk(),i=ZS(t);return e.onlyIfParent&&!i?new RS():YS({parentSpan:i,spanArguments:n,forceTransaction:r,scope:t});});}function GS(e,t){var n=KS();return n.withActiveSpan?n.withActiveSpan(e,t):qk(n=>(Ok(n,e||void 0),t(n)));}function YS({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!AS())return new RS();var i=Hk();var o;if(e&&!n)o=function(e,t,n){var{spanId:r,traceId:i}=e.spanContext(),o=!t.getScopeData().sdkProcessingMetadata[WS]&&mS(e),a=o?new $S({...n,parentSpanId:r,traceId:i,sampled:o}):new RS({traceId:i});bS(e,a);var s=Vk();s&&(s.emit("spanStart",a),n.endTimestamp&&s.emit("spanEnd",a));return a;}(e,r,t),bS(e,o);else if(e){var _n16=BS(e),{traceId:_i12,spanId:_a9}=e.spanContext(),_s6=mS(e);o=XS({traceId:_i12,parentSpanId:_a9,...t},r,_s6),NS(o,_n16);}else{var{traceId:_e21,dsc:_n17,parentSpanId:_a10,sampled:_s7}={...i.getPropagationContext(),...r.getPropagationContext()};o=XS({traceId:_e21,parentSpanId:_a10,...t},r,_s7),_n17&&NS(o,_n17);}return function(e){if(!Ck)return;var{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=hS(e),{spanId:i}=e.spanContext(),o=mS(e),a=wS(e),s=a===e,c=`[Tracing] Starting ${o?"sampled":"unsampled"} ${s?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!s){var{op:_e22,description:_t16}=hS(a);u.push(`root ID: ${a.spanContext().spanId}`),_e22&&u.push(`root op: ${_e22}`),_t16&&u.push(`root description: ${_t16}`);}I_.log(`${c}\n  ${u.join("\n  ")}`);}(o),function(e,t,n){e&&(N_(e,TS,n),N_(e,IS,t));}(o,r,i),o;}function JS(e){var t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){var _n18={...t};return _n18.startTimestamp=fS(e.startTime),delete _n18.startTime,_n18;}return t;}function KS(){return $k(Ik());}function XS(e,t,n){var r=Vk(),i=r&&r.getOptions()||{},{name:o="",attributes:a}=e,[s,c]=t.getScopeData().sdkProcessingMetadata[WS]?[!1]:function(e,t){if(!AS(e))return[!1];var n;n="function"==typeof e.tracesSampler?e.tracesSampler(t):void 0!==t.parentSampled?t.parentSampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1;var r=FS(n);return void 0===r?(Ck&&I_.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Ck&&I_.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Ck&&I_.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,r]);}(i,{name:o,parentSampled:n,attributes:a,transactionContext:{name:o,parentSampled:n}}),u=new $S({...e,attributes:{[Jk]:"custom",...e.attributes},sampled:s});return void 0!==c&&u.setAttribute(Kk,c),r&&r.emit("spanStart",u),u;}function ZS(e){var t=Mk(e);if(!t)return;var n=Vk();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?wS(t):t;}function QS(e){return void 0!==e?t=>GS(e,t):e=>e();}var ex={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},tx="heartbeatFailed",nx="idleTimeout",rx="finalTimeout",ix="externalFinish";function ox(e,t={}){var n=new Map();var r,i=!1,o=ix,a=!t.disableAutoFinish;var s=[],{idleTimeout:c=ex.idleTimeout,finalTimeout:u=ex.finalTimeout,childSpanTimeout:l=ex.childSpanTimeout,beforeSpanEnd:d}=t,f=Vk();if(!f||!AS())return new RS();var p=zk(),h=kS(),m=function(e){var t=VS(e);return Ok(zk(),t),Ck&&I_.log("[Tracing] Started span is an idle span"),t;}(e);function g(){r&&(clearTimeout(r),r=void 0);}function y(e){g(),r=setTimeout(()=>{!i&&0===n.size&&a&&(o=nx,m.end(e));},c);}function v(e){r=setTimeout(()=>{!i&&a&&(o=tx,m.end(e));},l);}function b(e){i=!0,n.clear(),s.forEach(e=>e()),Ok(p,h);var t=hS(m),{start_timestamp:r}=t;if(!r)return;(t.data||{})[Qk]||m.setAttribute(Qk,o),I_.log(`[Tracing] Idle span "${t.op}" finished`);var a=_S(m).filter(e=>e!==m);var l=0;a.forEach(t=>{t.isRecording()&&(t.setStatus({code:oS,message:"cancelled"}),t.end(e),Ck&&I_.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));var n=hS(t),{timestamp:r=0,start_timestamp:i=0}=n,o=i<=e,a=r-i<=(u+c)/1e3;if(Ck){var _e23=JSON.stringify(t,void 0,2);o?a||I_.log("[Tracing] Discarding span since it finished after idle span final timeout",_e23):I_.log("[Tracing] Discarding span since it happened after idle span was finished",_e23);}a&&o||(!function(e,t){e[yS]&&e[yS].delete(t);}(m,t),l++);}),l>0&&m.setAttribute("sentry.idle_span_discarded_spans",l);}return m.end=new Proxy(m.end,{apply(e,t,n){d&&d(m);var[r,...i]=n,o=fS(r||fw()),a=_S(m).filter(e=>e!==m);if(!a.length)return b(o),Reflect.apply(e,t,[o,...i]);var s=a.map(e=>hS(e).timestamp).filter(e=>!!e),c=s.length?Math.max(...s):void 0,l=hS(m).start_timestamp,f=Math.min(l?l+u/1e3:1/0,Math.max(l||-1/0,Math.min(o,c||1/0)));return b(f),Reflect.apply(e,t,[f,...i]);}}),s.push(f.on("spanStart",e=>{if(i||e===m||hS(e).timestamp)return;_S(m).includes(e)&&function(e){g(),n.set(e,!0),v(fw()+l/1e3);}(e.spanContext().spanId);})),s.push(f.on("spanEnd",e=>{i||function(e){n.has(e)&&n.delete(e),0===n.size&&y(fw()+c/1e3);}(e.spanContext().spanId);})),s.push(f.on("idleSpanEnableAutoFinish",e=>{e===m&&(a=!0,y(),n.size&&v());})),t.disableAutoFinish||y(),setTimeout(()=>{i||(m.setStatus({code:oS,message:"deadline_exceeded"}),o=rx,m.end());},u),m;}function ax(e,t,n,r=0){return new Ww((i,o)=>{var a=e[r];if(null===t||"function"!=typeof a)i(t);else{var _s8=a({...t},n);Ck&&a.id&&null===_s8&&I_.log(`Event processor "${a.id}" dropped event`),t_(_s8)?_s8.then(t=>ax(e,t,n,r+1).then(i)).then(null,o):ax(e,_s8,n,r+1).then(i).then(null,o);}});}function sx(e,t){var{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;!function(e,t){var{extra:n,tags:r,user:i,contexts:o,level:a,transactionName:s}=t,c=$_(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});var u=$_(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});var l=$_(i);l&&Object.keys(l).length&&(e.user={...l,...e.user});var d=$_(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});a&&(e.level=a);s&&"transaction"!==e.type&&(e.transaction=s);}(e,t),r&&function(e,t){e.contexts={trace:lS(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:BS(t),...e.sdkProcessingMetadata};var n=wS(t),r=hS(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r);}(e,r),function(e,t){e.fingerprint=e.fingerprint?Mw(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint;}(e,n),function(e,t){var n=[...(e.breadcrumbs||[]),...t];e.breadcrumbs=n.length?n:void 0;}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t};}(e,o);}function cx(e,t){var{extra:n,tags:r,user:i,contexts:o,level:a,sdkProcessingMetadata:s,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:f,transactionName:p,span:h}=t;ux(e,"extra",n),ux(e,"tags",r),ux(e,"user",i),ux(e,"contexts",o),ux(e,"sdkProcessingMetadata",s),a&&(e.level=a),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f};}function ux(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(var _r13 in n)Object.prototype.hasOwnProperty.call(n,_r13)&&(e[t][_r13]=n[_r13]);}}function lx(e,t,n,r,i,o){var{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Iw(),timestamp:t.timestamp||dw()},u=n.integrations||e.integrations.map(e=>e.name);!function(e,t){var{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:MS);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=i_(e.message,o));var a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=i_(a.value,o));var s=e.request;s&&s.url&&(s.url=i_(s.url,o));}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...(e.sdk.integrations||[]),...t]);}(c,u),i&&i.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){var n=m_._sentryDebugIds;if(!n)return;var r;var i=dx.get(t);i?r=i:(r=new Map(),dx.set(t,r));var o=Object.entries(n).reduce((e,[n,i])=>{var o;var a=r.get(n);a?o=a:(o=t(n),r.set(n,o));for(var _t17=o.length-1;_t17>=0;_t17--){var _n19=o[_t17];if(_n19.filename){e[_n19.filename]=i;break;}}return e;},{});try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.filename&&(e.debug_id=o[e.filename]);});});}catch(a){}}(c,e.stackParser);var l=function(e,t){if(!t)return e;var n=e?e.clone():new Nk();return n.update(t),n;}(r,n.captureContext);n.mechanism&&Rw(c,n.mechanism);var d=i?i.getEventProcessors():[],f=Wk().getScopeData();if(o){cx(f,o.getScopeData());}if(l){cx(f,l.getScopeData());}var p=[...(n.attachments||[]),...f.attachments];p.length&&(n.attachments=p),sx(c,f);return ax([...d,...f.eventProcessors],c,n).then(e=>(e&&function(e){var t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id);});});}catch(r){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];var n=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t});});}(e),"number"==typeof a&&a>0?function(e,t,n){if(!e)return null;var r={...e,...(e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...(e.data&&{data:Lw(e.data,t,n)})}))}),...(e.user&&{user:Lw(e.user,t,n)}),...(e.contexts&&{contexts:Lw(e.contexts,t,n)}),...(e.extra&&{extra:Lw(e.extra,t,n)})};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Lw(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map(e=>({...e,...(e.data&&{data:Lw(e.data,t,n)})})));return r;}(e,a,s):e));}var dx=new WeakMap();function fx(e){if(e)return function(e){return e instanceof Nk||"function"==typeof e;}(e)||function(e){return Object.keys(e).some(e=>px.includes(e));}(e)?{captureContext:e}:e;}var px=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function hx(e,t){return zk().captureException(e,fx(t));}function mx(e,t){var n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return zk().captureMessage(e,n,r);}function gx(e,t){return zk().captureEvent(e,t);}function yx(e,t){Hk().setContext(e,t);}function vx(e){Hk().setExtras(e);}function bx(e,t){Hk().setExtra(e,t);}function _x(e){Hk().setTags(e);}function wx(e,t){Hk().setTag(e,t);}function kx(e){Hk().setUser(e);}function Sx(){return Hk().lastEventId();}function xx(e){Hk().addEventProcessor(e);}function Ex(e){var t=Vk(),n=Hk(),r=zk(),{release:i,environment:o=MS}=t&&t.getOptions()||{},{userAgent:a}=m_.navigator||{},s=Pk({release:i,environment:o,user:r.getUser()||n.getUser(),...(a&&{userAgent:a}),...e}),c=n.getSession();return c&&"ok"===c.status&&Ak(c,{status:"exited"}),Cx(),n.setSession(s),r.setSession(s),s;}function Cx(){var e=Hk(),t=zk(),n=t.getSession()||e.getSession();n&&function(e,t){var n={};"ok"===e.status&&(n={status:"exited"}),Ak(e,n);}(n),Ix(),e.setSession(),t.setSession();}function Ix(){var e=Hk(),t=zk(),n=Vk(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r);}function Tx(e=!1){e?Cx():Ix();}var Px="7";function Ax(e){var t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`;}function Rx(e,t){return function(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&");}({sentry_key:e.publicKey,sentry_version:Px,...(t&&{sentry_client:`${t.name}/${t.version}`})});}function Ox(e,t,n){return t||`${function(e){return`${Ax(e)}${e.projectId}/envelope/`;}(e)}?${Rx(e,n)}`;}var Mx=[];function Lx(e){var t=e.defaultIntegrations||[],n=e.integrations;var r;t.forEach(e=>{e.isDefaultInstance=!0;}),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?Mw(n(t)):t;var i=function(e){var t={};return e.forEach(e=>{var{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e);}),Object.values(t);}(r),o=i.findIndex(e=>"Debug"===e.name);if(o>-1){var[_e24]=i.splice(o,1);i.push(_e24);}return i;}function Nx(e,t){for(var _n20 of t)_n20&&_n20.afterAllSetup&&_n20.afterAllSetup(e);}function Dx(e,t,n){if(n[t.name])Ck&&I_.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===Mx.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),Mx.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){var _n21=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>_n21(t,r,e));}if("function"==typeof t.processEvent){var _n22=t.processEvent.bind(t),_r14=Object.assign((t,r)=>_n22(t,r,e),{id:t.name});e.addEventProcessor(_r14);}Ck&&I_.log(`Integration installed: ${t.name}`);}}function Bx(e){return e;}var Fx="Not capturing exception because it's already been captured.";class Ux{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=O_(e.dsn):Ck&&I_.warn("No DSN provided, client will not send events."),this._dsn){var _t18=Ox(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:_t18});}}captureException(e,t,n){var r=Iw();if(Ow(e))return Ck&&I_.log(Fx),r;var i={event_id:r,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,n))),i.event_id;}captureMessage(e,t,n,r){var i={event_id:Iw(),...n},o=Xb(e)?e:String(e),a=Zb(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(a.then(e=>this._captureEvent(e,i,r))),i.event_id;}captureEvent(e,t,n){var r=Iw();if(t&&t.originalException&&Ow(t.originalException))return Ck&&I_.log(Fx),r;var i={event_id:r,...t},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,o||n)),i.event_id;}captureSession(e){"string"!=typeof e.release?Ck&&I_.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Ak(e,{init:!1}));}getDsn(){return this._dsn;}getOptions(){return this._options;}getSdkMetadata(){return this._options._metadata;}getTransport(){return this._transport;}flush(e){var t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):zw(!0);}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e));}getEventProcessors(){return this._eventProcessors;}addEventProcessor(e){this._eventProcessors.push(e);}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations();}getIntegrationByName(e){return this._integrations[e];}addIntegration(e){var t=this._integrations[e.name];Dx(this,e,this._integrations),t||Nx(this,[e]);}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);var n=function(e,t,n,r){var i=yk(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...(e.sdk.integrations||[]),...(t.integrations||[])],e.sdk.packages=[...(e.sdk.packages||[]),...(t.packages||[])]);}(e,n&&n.sdk);var a=vk(e,i,r,t);return delete e.sdkProcessingMetadata,ak(a,[[{type:o},e]]);}(e,this._dsn,this._options._metadata,this._options.tunnel);for(var _i13 of t.attachments||[])n=sk(n,hk(_i13));var r=this.sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null);}sendSession(e){var t=function(e,t,n,r){var i=yk(n);return ak({sent_at:new Date().toISOString(),...(i&&{sdk:i}),...(!!r&&t&&{dsn:P_(t)})},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]]);}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t);}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){var _r15="number"==typeof n?n:1,_i14=`${e}:${t}`;Ck&&I_.log(`Recording outcome: "${_i14}"${_r15>1?` (${_r15} times)`:""}`),this._outcomes[_i14]=(this._outcomes[_i14]||0)+_r15;}}on(e,t){var n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{var e=n.indexOf(t);e>-1&&n.splice(e,1);};}emit(e,...t){var n=this._hooks[e];n&&n.forEach(e=>e(...t));}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,e=>(Ck&&I_.error("Error while sending event:",e),e)):(Ck&&I_.error("Transport disabled"),zw({}));}_setupIntegrations(){var{integrations:e}=this._options;this._integrations=function(e,t){var n={};return t.forEach(t=>{t&&Dx(e,t,n);}),n;}(this,e),Nx(this,e);}_updateSessionFromEvent(e,t){var n=!1,r=!1;var i=t.exception&&t.exception.values;if(i){r=!0;for(var _e25 of i){var _t19=_e25.mechanism;if(_t19&&!1===_t19.handled){n=!0;break;}}}var o="ok"===e.status;(o&&0===e.errors||o&&n)&&(Ak(e,{...(n&&{status:"crashed"}),errors:e.errors||Number(r||n)}),this.captureSession(e));}_isClientDoneProcessing(e){return new Ww(t=>{var n=0;var r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)));},1);});}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport;}_prepareEvent(e,t,n,r=Hk()){var i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),lx(i,e,t,n,this,r).then(e=>{if(null===e)return e;var t={...r.getPropagationContext(),...(n?n.getPropagationContext():void 0)};if(!(e.contexts&&e.contexts.trace)&&t){var{traceId:_n23,spanId:_r16,parentSpanId:_i15,dsc:_o8}=t;e.contexts={trace:$_({trace_id:_n23,span_id:_r16,parent_span_id:_i15}),...e.contexts};var _a11=_o8||DS(_n23,this);e.sdkProcessingMetadata={dynamicSamplingContext:_a11,...e.sdkProcessingMetadata};}return e;});}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then(e=>e.event_id,e=>{if(Ck){var _t20=e;"log"===_t20.logLevel?I_.log(_t20.message):I_.warn(_t20);}});}_processEvent(e,t,n){var r=this.getOptions(),{sampleRate:i}=r,o=$x(e),a=jx(e),s=e.type||"error",c=`before send for type \`${s}\``,u=void 0===i?void 0:FS(i);if(a&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",e),Hw(new M_(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));var l="replay_event"===s?"replay":s,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,e),new M_("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;var i=function(e,t,n,r){var{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:a}=t;if(jx(n)&&i)return i(n,r);if($x(n)){if(n.spans&&a){var _t21=[];for(var _r17 of n.spans){var _n24=a(_r17);_n24?_t21.push(_n24):e.recordDroppedEvent("before_send","span");}n.spans=_t21;}if(o){if(n.spans){var _e26=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:_e26};}return o(n,r);}}return n;}(this,r,n,t);return function(e,t){var n=`${t} must return \`null\` or a valid event.`;if(t_(e))return e.then(e=>{if(!Qb(e)&&null!==e)throw new M_(n);return e;},e=>{throw new M_(`${t} rejected with ${e}`);});if(!Qb(e)&&null!==e)throw new M_(n);return e;}(i,c);}).then(r=>{if(null===r){if(this.recordDroppedEvent("before_send",l,e),o){var _t22=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",_t22);}throw new M_(`${c} returned \`null\`, will not send event.`,"log");}var i=n&&n.getSession();if(!o&&i&&this._updateSessionFromEvent(i,r),o){var _e27=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);_e27>0&&this.recordDroppedEvent("before_send","span",_e27);}var a=r.transaction_info;if(o&&a&&r.transaction!==e.transaction){var _e28="custom";r.transaction_info={...a,source:_e28};}return this.sendEvent(r,t),r;}).then(null,e=>{if(e instanceof M_)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new M_(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`);});}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e));}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{var[n,r]=e.split(":");return{reason:n,category:r,quantity:t};});}_flushOutcomes(){Ck&&I_.log("Flushing outcomes...");var e=this._clearOutcomes();if(0===e.length)return void(Ck&&I_.log("No outcomes to send"));if(!this._dsn)return void(Ck&&I_.log("No dsn provided, will not send outcomes"));Ck&&I_.log("Sending outcomes:",e);var t=function(e,t,n){return ak(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:dw(),discarded_events:e}]]);}(e,this._options.tunnel&&P_(this._dsn));this.sendEnvelope(t);}}function jx(e){return void 0===e.type;}function $x(e){return"transaction"===e.type;}function zx(e){zk().setClient(e);}var Hx=64;function Wx(e,t,n=qw(e.bufferSize||Hx)){var r={};return{send:function(i){var o=[];if(ck(i,(t,n)=>{var i=gk(n);if(wk(r,i)){var _r18=qx(t,n);e.recordDroppedEvent("ratelimit_backoff",i,_r18);}else o.push(t);}),0===o.length)return zw({});var a=ak(i[0],o),s=t=>{ck(a,(n,r)=>{var i=qx(n,r);e.recordDroppedEvent(t,gk(r),i);});};return n.add(()=>t({body:dk(a)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Ck&&I_.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=kk(r,e),e),e=>{throw s("network_error"),e;})).then(e=>e,e=>{if(e instanceof M_)return Ck&&I_.error("Skipped sending event because buffer is full."),s("queue_overflow"),zw({});throw e;});},flush:e=>n.drain(e)};}function qx(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0;}var Vx=100,Gx=5e3,Yx=36e5;function Jx(e){function t(...e){Ck&&I_.info("[Offline]:",...e);}return n=>{var r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");var i=n.createStore(n);var o,a=Gx;function s(e){o&&clearTimeout(o),o=setTimeout(async()=>{o=void 0;var e=await i.shift();e&&(t("Attempting to send previously queued event"),e[0].sent_at=new Date().toISOString(),u(e,!0).catch(e=>{t("Failed to retry sending",e);}));},e),"number"!=typeof o&&o.unref&&o.unref();}function c(){o||(s(a),a=Math.min(2*a,Yx));}async function u(e,o=!1){if(!o&&uk(e,["replay_event","replay_recording"]))return await i.push(e),s(Vx),{};try{var _t23=await r.send(e);var _n25=Vx;if(_t23)if(_t23.headers&&_t23.headers["retry-after"])_n25=_k(_t23.headers["retry-after"]);else if(_t23.headers&&_t23.headers["x-sentry-rate-limits"])_n25=6e4;else if((_t23.statusCode||0)>=400)return _t23;return s(_n25),a=Gx,_t23;}catch(u){if(await function(e,t,r){return!uk(e,["client_report"])&&(!n.shouldStore||n.shouldStore(e,t,r));}(e,u,a))return o?await i.unshift(e):await i.push(e),c(),t("Error sending. Event queued.",u),{};throw u;}}return n.flushAtStartup&&c(),{send:u,flush:e=>r.flush(e)};};}function Kx(e,t){var n;return ck(e,(e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n)),n;}function Xx(e,t){var n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host);}(e,n)||function(e,t){if(!t)return!1;return Zx(e)===Zx(t);}(e,r);}function Zx(e){return"/"===e[e.length-1]?e.slice(0,-1):e;}function Qx(e,t,n=[t],r="npm"){var i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:h_})),version:h_}),e._metadata=i;}var eE=100;function tE(e,t){var n=Vk(),r=Hk();if(!n)return;var{beforeBreadcrumb:i=null,maxBreadcrumbs:o=eE}=n.getOptions();if(o<=0)return;var a={timestamp:dw(),...e},s=i?C_(()=>i(a,t)):a;null!==s&&(n.emit&&n.emit("beforeAddBreadcrumb",s,t),r.addBreadcrumb(s,o));}var nE;var rE=new WeakMap(),iE=Bx(()=>({name:"FunctionToString",setupOnce(){nE=Function.prototype.toString;try{Function.prototype.toString=function(...e){var t=B_(this),n=rE.has(Vk())&&void 0!==t?t:this;return nE.apply(n,e);};}catch(e){}},setup(e){rE.set(e,!0);}})),oE=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],aE=Bx((e={})=>({name:"InboundFilters",processEvent(t,n,r){var i=r.getOptions(),o=function(e={},t={}){return{allowUrls:[...(e.allowUrls||[]),...(t.allowUrls||[])],denyUrls:[...(e.denyUrls||[]),...(t.denyUrls||[])],ignoreErrors:[...(e.ignoreErrors||[]),...(t.ignoreErrors||[]),...(e.disableErrorDefaults?[]:oE)],ignoreTransactions:[...(e.ignoreTransactions||[]),...(t.ignoreTransactions||[])],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal};}(e,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type;}catch(t){}return!1;}(e))return Ck&&I_.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Pw(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){var t=[];e.message&&t.push(e.message);var n;try{n=e.exception.values[e.exception.values.length-1];}catch(r){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));return t;}(e).some(e=>c_(e,t));}(e,t.ignoreErrors))return Ck&&I_.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Pw(e)}`),!0;if(function(e){if(e.type)return!1;if(!e.exception||!e.exception.values||0===e.exception.values.length)return!1;return!e.message&&!e.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value);}(e))return Ck&&I_.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Pw(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;var n=e.transaction;return!!n&&c_(n,t);}(e,t.ignoreTransactions))return Ck&&I_.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Pw(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;var n=sE(e);return!!n&&c_(n,t);}(e,t.denyUrls))return Ck&&I_.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Pw(e)}.\nUrl: ${sE(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;var n=sE(e);return!n||c_(n,t);}(e,t.allowUrls))return Ck&&I_.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Pw(e)}.\nUrl: ${sE(e)}`),!0;return!1;}(t,o)?null:t;}}));function sE(e){try{var _n26;try{_n26=e.exception.values[0].stacktrace.frames;}catch(t){}return _n26?function(e=[]){for(var _t24=e.length-1;_t24>=0;_t24--){var _n27=e[_t24];if(_n27&&"<anonymous>"!==_n27.filename&&"[native code]"!==_n27.filename)return _n27.filename||null;}return null;}(_n26):null;}catch(n){return Ck&&I_.error(`Cannot extract url for event ${Pw(e)}`),null;}}var cE=new Map(),uE=new Set();function lE(e,t){return function(e){if(m_._sentryModuleMetadata)for(var _t25 of Object.keys(m_._sentryModuleMetadata)){var _n28=m_._sentryModuleMetadata[_t25];if(uE.has(_t25))continue;uE.add(_t25);var _r19=e(_t25);for(var _e29 of _r19.reverse())if(_e29.filename){cE.set(_e29.filename,_n28);break;}}}(e),cE.get(t);}function dE(e,t){try{t.exception.values.forEach(t=>{if(t.stacktrace)for(var _n29 of t.stacktrace.frames||[]){if(!_n29.filename||_n29.module_metadata)continue;var _t26=lE(e,_n29.filename);_t26&&(_n29.module_metadata=_t26);}});}catch(n){}}function fE(e){try{e.exception.values.forEach(e=>{if(e.stacktrace)for(var _t27 of e.stacktrace.frames||[])delete _t27.module_metadata;});}catch(t){}}var pE=Bx(()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",e=>{ck(e,(e,t)=>{if("event"===t){var _t28=Array.isArray(e)?e[1]:void 0;_t28&&(fE(_t28),e[1]=_t28);}});}),e.on("applyFrameMetadata",t=>{if(t.type)return;dE(e.getOptions().stackParser,t);});}})),hE=Bx((e={})=>{var t=e.levels||x_;return{name:"CaptureConsole",setup(e){"console"in m_&&iw(({args:n,level:r})=>{Vk()===e&&t.includes(r)&&function(e,t){var n={level:Jw(t),extra:{arguments:e}};qk(r=>{if(r.addEventProcessor(e=>(e.logger="console",Rw(e,{handled:!1,type:"console"}),e)),"assert"===t){if(!e[0]){var _t29=`Assertion failed: ${a_(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),mx(_t29,n);}return;}var i=e.find(e=>e instanceof Error);if(i)return void hx(i,n);mx(a_(e," "),n);});}(n,r);});}};});var mE=Bx((e={})=>{var t={debugger:!1,stringify:!1,...e};return{name:"Debug",setup(e){e.on("beforeSendEvent",(e,n)=>{t.debugger,C_(()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(e),n&&Object.keys(n).length&&console.log(n));});});}};}),gE=Bx(()=>{var e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){var n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!vE(e,t))return!1;if(!yE(e,t))return!1;return!0;}(e,t))return!0;if(function(e,t){var n=bE(t),r=bE(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!vE(e,t))return!1;if(!yE(e,t))return!1;return!0;}(e,t))return!0;return!1;}(t,e))return Ck&&I_.warn("Event dropped due to being a duplicate of previously captured event."),null;}catch(n){}return e=t;}};});function yE(e,t){var n=Z_(e),r=Z_(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var _i16=0;_i16<r.length;_i16++){var _e30=r[_i16],_t30=n[_i16];if(_e30.filename!==_t30.filename||_e30.lineno!==_t30.lineno||_e30.colno!==_t30.colno||_e30.function!==_t30.function)return!1;}return!0;}function vE(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""));}catch(i){return!1;}}function bE(e){return e.exception&&e.exception.values&&e.exception.values[0];}var _E=Bx((e={})=>{var{depth:t=3,captureErrorCause:n=!0}=e;return{name:"ExtraErrorData",processEvent(e,r,i){var{maxValueLength:o=250}=i.getOptions();return function(e,t={},n,r,i){if(!t.originalException||!Vb(t.originalException))return e;var o=t.originalException.name||t.originalException.constructor.name,a=function(e,t,n){try{var _r20=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],_i17={};for(var _t31 of Object.keys(e)){if(-1!==_r20.indexOf(_t31))continue;var _o9=e[_t31];_i17[_t31]=Vb(_o9)||"string"==typeof _o9?i_(`${_o9}`,n):_o9;}if(t&&void 0!==e.cause&&(_i17.cause=Vb(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){var _t32=e.toJSON();for(var _e31 of Object.keys(_t32)){var _n30=_t32[_e31];_i17[_e31]=Vb(_n30)?_n30.toString():_n30;}}return _i17;}catch(r){Ck&&I_.error("Unable to extract extra data from the Error object:",r);}return null;}(t.originalException,r,i);if(a){var _t33={...e.contexts},_r21=Lw(a,n);return Qb(_r21)&&(N_(_r21,"__sentry_skip_normalization__",!0),_t33[o]=_r21),{...e,contexts:_t33};}return e;}(e,r,t,n,o);}};});var wE=Bx((e={})=>{var t=e.root,n=e.prefix||"app:///",r="window"in m_&&void 0!==m_.window,i=e.iteratee||function({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;var i=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(e){if(t){var _e32=r.filename;0===_e32.indexOf(t)&&(r.filename=_e32.replace(t,n));}}else if(i||o){var _e33=i?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,_o10=t?function(e,t){e=Fw(e).slice(1),t=Fw(t).slice(1);var n=Uw(e.split("/")),r=Uw(t.split("/")),i=Math.min(n.length,r.length);var o=i;for(var _s9=0;_s9<i;_s9++)if(n[_s9]!==r[_s9]){o=_s9;break;}var a=[];for(var _s10=o;_s10<n.length;_s10++)a.push("..");return a=a.concat(r.slice(o)),a.join("/");}(t,_e33):jw(_e33);r.filename=`${n}${_o10}`;}return r;};}({isBrowser:r,root:t,prefix:n});function o(e){return{...e,frames:e&&e.frames&&e.frames.map(e=>i(e))};}return{name:"RewriteFrames",processEvent(e){var t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>({...e,...(e.stacktrace&&{stacktrace:o(e.stacktrace)})}))}};}catch(t){return e;}}(t)),t;}};});var kE=Bx(()=>{var e=1e3*fw();return{name:"SessionTiming",processEvent(t){var n=1e3*fw();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}};}};});function SE(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0};}function xE(e){var t=new Set();for(var _n31 of e.issues)_n31.path&&_n31.path[0]&&t.add(_n31.path[0]);return`Failed to validate keys: ${i_(Array.from(t).join(", "),100)}`;}function EE(e,t,n){return t.exception&&t.exception.values&&n&&n.originalException&&function(e){return Vb(e)&&"ZodError"===e.name&&Array.isArray(e.errors);}(n.originalException)&&0!==n.originalException.issues.length?{...t,exception:{...t.exception,values:[{...t.exception.values[0],value:xE(n.originalException)},...t.exception.values.slice(1)]},extra:{...t.extra,"zoderror.issues":n.originalException.errors.slice(0,e).map(SE)}}:t;}var CE=Bx((e={})=>{var t=e.limit||10;return{name:"ZodErrors",processEvent:(e,n)=>EE(t,e,n)};}),IE=Bx(e=>({name:"ThirdPartyErrorsFilter",setup(e){e.on("beforeEnvelope",e=>{ck(e,(e,t)=>{if("event"===t){var _t34=Array.isArray(e)?e[1]:void 0;_t34&&(fE(_t34),e[1]=_t34);}});}),e.on("applyFrameMetadata",t=>{if(t.type)return;dE(e.getOptions().stackParser,t);});},processEvent(t){var n=function(e){var t=Z_(e);if(!t)return;return t.filter(e=>!!e.filename).map(e=>e.module_metadata?Object.keys(e.module_metadata).filter(e=>e.startsWith(TE)).map(e=>e.slice(TE.length)):[]);}(t);if(n){if(n["drop-error-if-contains-third-party-frames"===e.behaviour||"apply-tag-if-contains-third-party-frames"===e.behaviour?"some":"every"](t=>!t.some(t=>e.filterKeys.includes(t)))){if("drop-error-if-contains-third-party-frames"===e.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===e.behaviour)return null;t.tags={...t.tags,third_party_code:!0};}}return t;}}));var TE="_sentryBundlerPluginAppKey:",PE="c",AE="g",RE="s",OE="d";function ME(e,t){var n=g_("globalMetricsAggregators",()=>new WeakMap()),r=n.get(e);if(r)return r;var i=new t(e);return e.on("flush",()=>i.flush()),e.on("close",()=>i.close()),n.set(e,i),i;}function LE(e,t,n,r,i={}){var o=i.client||Vk();if(!o)return;var a=kS(),s=a?wS(a):void 0,c=s&&hS(s).description,{unit:u,tags:l,timestamp:d}=i,{release:f,environment:p}=o.getOptions(),h={};f&&(h.release=f),p&&(h.environment=p),c&&(h.transaction=c),Ck&&I_.log(`Adding value of ${r} to ${t} metric ${n}`);ME(o,e).add(t,n,r,u,{...h,...l},d);}function NE(e,t,n,r){LE(e,OE,t,BE(n),r);}var DE={increment:function(e,t,n=1,r){LE(e,"c",t,BE(n),r);},distribution:NE,set:function(e,t,n,r){LE(e,"s",t,n,r);},gauge:function(e,t,n,r){LE(e,"g",t,BE(n),r);},timing:function(e,t,n,r="second",i){if("function"==typeof n){var _r22=fw();return qS({op:"metrics.timing",name:t,startTime:_r22,onlyIfParent:!0},o=>OS(()=>n(),()=>{},()=>{var n=fw();NE(e,t,n-_r22,{...i,unit:"second"}),o.end(n);}));}NE(e,t,n,{...i,unit:r});},getMetricsAggregatorForClient:ME};function BE(e){return"string"==typeof e?parseInt(e):e;}function FE(e){return e.replace(/[^\w\-./]+/gi,"");}var UE=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function jE(e){return[...e].reduce((e,t)=>e+function(e){for(var[_t35,_n32]of UE)if(e===_t35)return _n32;return e;}(t),"");}function $E(e,t){I_.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);var n=function(e,t,n,r){var i={sent_at:new Date().toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version});r&&t&&(i.dsn=P_(t));var o=function(e){var t=function(e){var t="";for(var _n33 of e){var _e34=Object.entries(_n33.tags),_r23=_e34.length>0?`|#${_e34.map(([e,t])=>`${e}:${t}`).join(",")}`:"";t+=`${_n33.name}@${_n33.unit}:${_n33.metric}|${_n33.metricType}${_r23}|T${_n33.timestamp}\n`;}return t;}(e);return[{type:"statsd",length:t.length},t];}(e);return ak(i,[o]);}(t,e.getDsn(),e.getSdkMetadata(),e.getOptions().tunnel);e.sendEnvelope(n);}var zE={[PE]:class{constructor(e){this._value=e;}get weight(){return 1;}add(e){this._value+=e;}toString(){return`${this._value}`;}},[AE]:class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1;}get weight(){return 5;}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++;}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`;}},[OE]:class{constructor(e){this._value=[e];}get weight(){return this._value.length;}add(e){this._value.push(e);}toString(){return this._value.join(":");}},[RE]:class{constructor(e){this.first=e,this._value=new Set([e]);}get weight(){return this._value.size;}add(e){this._value.add(e);}toString(){return Array.from(this._value).map(e=>"string"==typeof e?function(e){var t=0;for(var _n34=0;_n34<e.length;_n34++)t=(t<<5)-t+e.charCodeAt(_n34),t&=t;return t>>>0;}(e):e).join(":");}}};class HE{constructor(e){this._client=e,this._buckets=new Map(),this._interval=setInterval(()=>this.flush(),5e3);}add(e,t,n,r="none",i={},o=fw()){var a=Math.floor(o),s=function(e){return e.replace(/[^\w\-.]+/gi,"_");}(t),c=function(e){var t={};for(var _n35 in e)Object.prototype.hasOwnProperty.call(e,_n35)&&(t[FE(_n35)]=jE(String(e[_n35])));return t;}(i),u=function(e){return e.replace(/[^\w]+/gi,"_");}(r),l=function(e,t,n,r){return`${e}${t}${n}${Object.entries($_(r)).sort((e,t)=>e[0].localeCompare(t[0]))}`;}(e,s,u,c);var d=this._buckets.get(l);var f=d&&"s"===e?d.metric.weight:0;d?(d.metric.add(n),d.timestamp<a&&(d.timestamp=a)):(d={metric:new zE[e](n),timestamp:a,metricType:e,name:s,unit:u,tags:c},this._buckets.set(l,d));SS(e,s,"string"==typeof n?d.metric.weight-f:n,u,i,l);}flush(){if(0===this._buckets.size)return;var e=Array.from(this._buckets.values());$E(this._client,e),this._buckets.clear();}close(){clearInterval(this._interval),this.flush();}}function WE(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;var o=AS()&&t(e.fetchData.url);if(e.endTimestamp&&o){var _t36=e.fetchData.__span;if(!_t36)return;var _n36=r[_t36];return void(_n36&&(!function(e,t){if(t.response){sS(e,t.response.status);var _n37=t.response&&t.response.headers&&t.response.headers.get("content-length");if(_n37){var _t37=parseInt(_n37);_t37>0&&e.setAttribute("http.response_content_length",_t37);}}else t.error&&e.setStatus({code:oS,message:"internal_error"});e.end();}(_n36,e),delete r[_t36]));}var a=zk(),s=Vk(),{method:c,url:u}=e.fetchData,l=function(e){try{return new URL(e).href;}catch(t){return;}}(u),d=l?Vw(l).host:void 0,f=!!kS(),p=o&&f?VS({name:`${c} ${u}`,attributes:{url:u,type:"fetch","http.method":c,"http.url":l,"server.address":d,[Zk]:i,[Xk]:"http.client"}}):new RS();if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&s){var _t38=e.args[0];e.args[1]=e.args[1]||{};var _n38=e.args[1];_n38.headers=function(e,t,n,r,i){var o=Hk(),{traceId:a,spanId:s,sampled:c,dsc:u}={...o.getPropagationContext(),...n.getPropagationContext()},l=i?dS(i):ok(a,s,c),d=tk(u||(i?BS(i):DS(a,t))),f=r.headers||("undefined"!=typeof Request&&n_(e,Request)?e.headers:void 0);if(f){if("undefined"!=typeof Headers&&n_(f,Headers)){var _e35=new Headers(f);return _e35.append("sentry-trace",l),d&&_e35.append(Kw,d),_e35;}if(Array.isArray(f)){var _e36=[...f,["sentry-trace",l]];return d&&_e36.push([Kw,d]),_e36;}{var _e37="baggage"in f?f.baggage:void 0,_t39=[];return Array.isArray(_e37)?_t39.push(..._e37):_e37&&_t39.push(_e37),d&&_t39.push(d),{...f,"sentry-trace":l,baggage:_t39.length>0?_t39.join(","):void 0};}}return{"sentry-trace":l,baggage:d};}(_t38,s,a,_n38,AS()&&f?p:void 0);}return p;}function qE(e,t={},n=zk()){var{message:r,name:i,email:o,url:a,source:s,associatedEventId:c,tags:u}=e,l={contexts:{feedback:$_({contact_email:o,name:i,message:r,url:a,source:s,associated_event_id:c})},type:"feedback",level:"info",tags:u},d=n&&n.getClient()||Vk();d&&d.emit("beforeSendFeedback",l,t);return n.captureEvent(l,t);}var VE=function(){return{bindClient(e){zk().setClient(e);},withScope:qk,getClient:()=>Vk(),getScope:zk,getIsolationScope:Hk,captureException:(e,t)=>zk().captureException(e,t),captureMessage:(e,t,n)=>zk().captureMessage(e,t,n),captureEvent:gx,addBreadcrumb:tE,setUser:kx,setTags:_x,setTag:wx,setExtra:bx,setExtras:vx,setContext:yx,getIntegration(e){var t=Vk();return t&&t.getIntegrationByName(e.id)||null;},startSession:Ex,endSession:Cx,captureSession(e){if(e)return Cx();!function(){var e=zk(),t=Vk(),n=e.getSession();t&&n&&t.captureSession(n);}();}};};var GE=m_;var YE=0;function JE(){return YE>0;}function KE(e,t={},n){if("function"!=typeof e)return e;try{var _t40=e.__sentry_wrapped__;if(_t40)return"function"==typeof _t40?_t40:e;if(B_(e))return e;}catch(i){return e;}var r=function(){var n=Array.prototype.slice.call(arguments);try{var _r24=n.map(e=>KE(e,t));return e.apply(this,_r24);}catch(r){throw function(){YE++,setTimeout(()=>{YE--;});}(),qk(e=>{e.addEventProcessor(e=>(t.mechanism&&(Aw(e,void 0),Rw(e,t.mechanism)),e.extra={...e.extra,arguments:n},e)),hx(r);}),r;}};try{for(var _t41 in e)Object.prototype.hasOwnProperty.call(e,_t41)&&(r[_t41]=e[_t41]);}catch(o){}D_(r,e),N_(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name});}catch(o){}return r;}var XE="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function ZE(e,t){var n=tC(e,t),r={type:iC(t),value:oC(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r;}function QE(e,t,n,r){var i=Vk(),o=i&&i.getOptions().normalizeDepth,a=function(e){for(var _t42 in e)if(Object.prototype.hasOwnProperty.call(e,_t42)){var _n39=e[_t42];if(_n39 instanceof Error)return _n39;}return;}(t),s={__serialized__:Nw(t,o)};if(a)return{exception:{values:[ZE(e,a)]},extra:s};var c={exception:{values:[{type:e_(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:lC(t,{isUnhandledRejection:r})}]},extra:s};if(n){var _t43=tC(e,n);_t43.length&&(c.exception.values[0].stacktrace={frames:_t43});}return c;}function eC(e,t){return{exception:{values:[ZE(e,t)]}};}function tC(e,t){var n=t.stacktrace||t.stack||"",r=function(e){if(e&&nC.test(e.message))return 1;return 0;}(t),i=function(e){if("number"==typeof e.framesToPop)return e.framesToPop;return 0;}(t);try{return e(n,r,i);}catch(o){}return[];}var nC=/Minified React error #\d+;/i;function rC(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception;}function iC(e){var t=e&&e.name;if(!t&&rC(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception";}return t;}function oC(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:rC(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:"No error message";}function aC(e,t,n,r){var i=cC(e,t,n&&n.syntheticException||void 0,r);return Rw(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),zw(i);}function sC(e,t,n="info",r,i){var o=uC(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),zw(o);}function cC(e,t,n,r,i){var o;if(Yb(t)&&t.error){return eC(e,t.error);}if(Jb(t)||function(e){return Gb(e,"DOMException");}(t)){var _i18=t;if("stack"in t)o=eC(e,t);else{var _t44=_i18.name||(Jb(_i18)?"DOMError":"DOMException"),_a12=_i18.message?`${_t44}: ${_i18.message}`:_t44;o=uC(e,_a12,n,r),Aw(o,_a12);}return"code"in _i18&&(o.tags={...o.tags,"DOMException.code":`${_i18.code}`}),o;}if(Vb(t))return eC(e,t);if(Qb(t)||e_(t)){return o=QE(e,t,n,i),Rw(o,{synthetic:!0}),o;}return o=uC(e,t,n,r),Aw(o,`${t}`),Rw(o,{synthetic:!0}),o;}function uC(e,t,n,r){var i={};if(r&&n){var _r25=tC(e,n);_r25.length&&(i.exception={values:[{value:t,stacktrace:{frames:_r25}}]});}if(Xb(t)){var{__sentry_template_string__:_e38,__sentry_template_values__:_n40}=t;return i.logentry={message:_e38,params:_n40},i;}return i.message=t,i;}function lC(e,{isUnhandledRejection:t}){var n=function(e,t=40){var n=Object.keys(F_(e));n.sort();var r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return i_(r,t);for(var _i19=n.length;_i19>0;_i19--){var _e39=n.slice(0,_i19).join(", ");if(!(_e39.length>t))return _i19===n.length?_e39:i_(_e39,t);}return"";}(e),r=t?"promise rejection":"exception";if(Yb(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(e_(e)){return`Event \`${function(e){try{var _t45=Object.getPrototypeOf(e);return _t45?_t45.constructor.name:void 0;}catch(t){}}(e)}\` (type=${e.type}) captured as ${r}`;}return`Object captured as ${r} with keys: ${n}`;}function dC(e,{metadata:t,tunnel:n,dsn:r}){var i={event_id:e.event_id,sent_at:new Date().toISOString(),...(t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),...(!!n&&!!r&&{dsn:P_(r)})},o=function(e){return[{type:"user_report"},e];}(e);return ak(i,[o]);}class fC extends Ux{constructor(e){var t={parentSpanIsAlwaysRootSpan:!0,...e};Qx(t,"browser",["browser"],GE.SENTRY_SDK_SOURCE||function(){return"npm";}()),super(t),t.sendClientReports&&GE.document&&GE.document.addEventListener("visibilitychange",()=>{"hidden"===GE.document.visibilityState&&this._flushOutcomes();});}eventFromException(e,t){return aC(this._options.stackParser,e,t,this._options.attachStacktrace);}eventFromMessage(e,t="info",n){return sC(this._options.stackParser,e,t,n,this._options.attachStacktrace);}captureUserFeedback(e){if(!this._isEnabled())return void(XE&&I_.warn("SDK not enabled, will not capture user feedback."));var t=dC(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t);}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n);}}var pC="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,hC=(e,t,n,r)=>{var i,o;return a=>{t.value>=0&&(a||r)&&(o=t.value-(i||0),(o||void 0===i)&&(i=t.value,t.delta=o,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)));};},mC=m_,gC=()=>`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,yC=()=>mC.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],vC=()=>{var e=yC();return e&&e.activationStart||0;},bC=(e,t)=>{var n=yC();var r="navigate";n&&(mC.document&&mC.document.prerendering||vC()>0?r="prerender":mC.document&&mC.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-")));return{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:gC(),navigationType:r};},_C=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var _r26=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries());});});return _r26.observe(Object.assign({type:e,buffered:!0},n||{})),_r26;}}catch(r){}},wC=e=>{var t=t=>{("pagehide"===t.type||mC.document&&"hidden"===mC.document.visibilityState)&&e(t);};mC.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0));},kC=e=>{var t=!1;return n=>{t||(e(n),t=!0);};};var SC=-1;var xC=e=>{"hidden"===mC.document.visibilityState&&SC>-1&&(SC="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("visibilitychange",xC,!0),removeEventListener("prerenderingchange",xC,!0));},EC=()=>(mC.document&&SC<0&&((()=>{SC="hidden"!==mC.document.visibilityState||mC.document.prerendering?1/0:0;})(),(()=>{addEventListener("visibilitychange",xC,!0),addEventListener("prerenderingchange",xC,!0);})()),{get firstHiddenTime(){return SC;}}),CC=e=>{mC.document&&mC.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e();},IC=[1800,3e3],TC=[.1,.25],PC=(e,t={})=>{((e,t={})=>{CC(()=>{var n=EC(),r=bC("FCP");var i;var o=_C("paint",e=>{e.forEach(e=>{"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-vC(),0),r.entries.push(e),i(!0)));});});o&&(i=hC(e,r,IC,t.reportAllChanges));});})(kC(()=>{var n=bC("CLS",0);var r,i=0,o=[];var a=e=>{e.forEach(e=>{if(!e.hadRecentInput){var _t46=o[0],_n41=o[o.length-1];i&&_t46&&_n41&&e.startTime-_n41.startTime<1e3&&e.startTime-_t46.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e]);}}),i>n.value&&(n.value=i,n.entries=o,r());},s=_C("layout-shift",a);s&&(r=hC(e,n,TC,t.reportAllChanges),wC(()=>{a(s.takeRecords()),r(!0);}),setTimeout(r,0));}));},AC=[100,300],RC=(e,t={})=>{CC(()=>{var n=EC(),r=bC("FID");var i;var o=e=>{e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),i(!0));},a=e=>{e.forEach(o);},s=_C("first-input",a);i=hC(e,r,AC,t.reportAllChanges),s&&wC(kC(()=>{a(s.takeRecords()),s.disconnect();}));});};var OC=0,MC=1/0,LC=0;var NC=e=>{e.forEach(e=>{e.interactionId&&(MC=Math.min(MC,e.interactionId),LC=Math.max(LC,e.interactionId),OC=LC?(LC-MC)/7+1:0);});};var DC;var BC=[200,500],FC=()=>(()=>DC?OC:performance.interactionCount||0)()-0,UC=[],jC={},$C=e=>{var t=UC[UC.length-1],n=jC[e.interactionId];if(n||UC.length<10||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var _t47={id:e.interactionId,latency:e.duration,entries:[e]};jC[_t47.id]=_t47,UC.push(_t47);}UC.sort((e,t)=>t.latency-e.latency),UC.splice(10).forEach(e=>{delete jC[e.id];});}},zC=(e,t={})=>{CC(()=>{(()=>{"interactionCount"in performance||DC||(DC=_C("event",NC,{type:"event",buffered:!0,durationThreshold:0}));})();var n=bC("INP");var r;var i=e=>{e.forEach(e=>{if(e.interactionId&&$C(e),"first-input"===e.entryType){!UC.some(t=>t.entries.some(t=>e.duration===t.duration&&e.startTime===t.startTime))&&$C(e);}});var t=(()=>{var e=Math.min(UC.length-1,Math.floor(FC()/50));return UC[e];})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r());},o=_C("event",i,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});r=hC(e,n,BC,t.reportAllChanges),o&&("PerformanceEventTiming"in mC&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),wC(()=>{i(o.takeRecords()),n.value<0&&FC()>0&&(n.value=0,n.entries=[]),r(!0);}));});},HC=[2500,4e3],WC={},qC=(e,t={})=>{CC(()=>{var n=EC(),r=bC("LCP");var i;var o=e=>{var t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(r.value=Math.max(t.startTime-vC(),0),r.entries=[t],i());},a=_C("largest-contentful-paint",o);if(a){i=hC(e,r,HC,t.reportAllChanges);var _n42=kC(()=>{WC[r.id]||(o(a.takeRecords()),a.disconnect(),WC[r.id]=!0,i(!0));});["keydown","click"].forEach(e=>{mC.document&&addEventListener(e,()=>setTimeout(_n42,0),!0);}),wC(_n42);}});},VC=[800,1800],GC=e=>{mC.document&&mC.document.prerendering?CC(()=>GC(e)):mC.document&&"complete"!==mC.document.readyState?addEventListener("load",()=>GC(e),!0):setTimeout(e,0);},YC=(e,t={})=>{var n=bC("TTFB"),r=hC(e,n,VC,t.reportAllChanges);GC(()=>{var e=yC();if(e){var _t48=e.responseStart;if(_t48<=0||_t48>performance.now())return;n.value=Math.max(_t48-vC(),0),n.entries=[e],r(!0);}});},JC={},KC={};var XC,ZC,QC,eI,tI;function nI(e,t=!1){return pI("cls",e,cI,XC,t);}function rI(e,t=!1){return pI("lcp",e,lI,QC,t);}function iI(e){return pI("fid",e,uI,ZC);}function oI(e){return pI("inp",e,fI,tI);}function aI(e,t){return hI(e,t),KC[e]||(!function(e){var t={};"event"===e&&(t.durationThreshold=0);_C(e,t=>{sI(e,{entries:t});},t);}(e),KC[e]=!0),mI(e,t);}function sI(e,t){var n=JC[e];if(n&&n.length)for(var _i20 of n)try{_i20(t);}catch(r){pC&&I_.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${X_(_i20)}\nError:`,r);}}function cI(){return PC(e=>{sI("cls",{metric:e}),XC=e;},{reportAllChanges:!0});}function uI(){return RC(e=>{sI("fid",{metric:e}),ZC=e;});}function lI(){return qC(e=>{sI("lcp",{metric:e}),QC=e;},{reportAllChanges:!0});}function dI(){return YC(e=>{sI("ttfb",{metric:e}),eI=e;});}function fI(){return zC(e=>{sI("inp",{metric:e}),tI=e;});}function pI(e,t,n,r,i=!1){var o;return hI(e,t),KC[e]||(o=n(),KC[e]=!0),r&&t({metric:r}),mI(e,t,i?o:void 0);}function hI(e,t){JC[e]=JC[e]||[],JC[e].push(t);}function mI(e,t,n){return()=>{n&&n();var r=JC[e];if(!r)return;var i=r.indexOf(t);-1!==i&&r.splice(i,1);};}function gI(e){return"number"==typeof e&&isFinite(e);}function yI(e,t,n,{...r}){var i=hS(e).start_timestamp;return i&&i>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),GS(e,()=>{var e=VS({startTime:t,...r});return e&&e.end(n),e;});}function vI(e){var t=Vk();if(!t)return;var{name:n,transaction:r,attributes:i,startTime:o}=e,{release:a,environment:s}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c&&c.getReplayId(),l=zk(),d=l.getUser(),f=void 0!==d?d.email||d.id||d.ip_address:void 0;var p;try{p=l.getScopeData().contexts.profile.profile_id;}catch(h){}return VS({name:n,attributes:{release:a,environment:s,user:f||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":mC.navigator&&mC.navigator.userAgent,...i},startTime:o,experimental:{standalone:!0}});}function bI(){return mC&&mC.addEventListener&&mC.performance;}function _I(e){return e/1e3;}function wI(){var e,t,n=0;if(!function(){try{return Sk([PerformanceObserver,"access",e=>e.supportedEntryTypes,"optionalAccess",e=>e.includes,"call",e=>e("layout-shift")]);}catch(e){return!1;}}())return;var r=!1;function i(){r||(r=!0,t&&function(e,t,n){pC&&I_.log(`Sending CLS span (${e})`);var r=_I((pw||0)+(Sk([t,"optionalAccess",e=>e.startTime])||0)),i=zk().getScopeData().transactionName,o=t?b_(Sk([t,"access",e=>e.sources,"access",e=>e[0],"optionalAccess",e=>e.node])):"Layout shift",a=$_({[Zk]:"auto.http.browser.cls",[Xk]:"ui.webvital.cls",[nS]:Sk([t,"optionalAccess",e=>e.duration])||0,"sentry.pageload.span_id":n}),s=vI({name:o,transaction:i,attributes:a,startTime:r});Sk([s,"optionalAccess",e=>e.addEvent,"call",t=>t("cls",{[eS]:"",[tS]:e})]),Sk([s,"optionalAccess",e=>e.end,"call",e=>e(r)]);}(n,e,t),o());}var o=nI(({metric:t})=>{var r=t.entries[t.entries.length-1];r&&(n=t.value,e=r);},!0);wC(()=>{i();}),setTimeout(()=>{var e=Sk([Vk(),"optionalAccess",e=>e.on,"call",t=>t("startNavigationSpan",()=>{i(),e&&e();})]),n=kS(),r=n&&wS(n),o=r&&hS(r);o&&"pageload"===o.op&&(t=r.spanContext().spanId);},0);}var kI=2147483647;var SI,xI,EI=0,CI={};function II({recordClsStandaloneSpans:e}){var t=bI();if(t&&pw){t.mark&&mC.performance.mark("sentry-tracing-init");var _n43=function(){return iI(({metric:e})=>{var t=e.entries[e.entries.length-1];if(!t)return;var n=_I(pw),r=_I(t.startTime);pC&&I_.log("[Measurements] Adding FID"),CI.fid={value:e.value,unit:"millisecond"},CI["mark.fid"]={value:n+r,unit:"second"};});}(),_r27=function(){return rI(({metric:e})=>{var t=e.entries[e.entries.length-1];t&&(pC&&I_.log("[Measurements] Adding LCP"),CI.lcp={value:e.value,unit:"millisecond"},SI=t);},!0);}(),_i21=function(){return function(e){return pI("ttfb",e,dI,eI);}(({metric:e})=>{e.entries[e.entries.length-1]&&(pC&&I_.log("[Measurements] Adding TTFB"),CI.ttfb={value:e.value,unit:"millisecond"});});}(),_o11=e?wI():function(){return nI(({metric:e})=>{var t=e.entries[e.entries.length-1];t&&(pC&&I_.log(`[Measurements] Adding CLS ${e.value}`),CI.cls={value:e.value,unit:""},xI=t);},!0);}();return()=>{_n43(),_r27(),_i21(),_o11&&_o11();};}return()=>{};}function TI(e,t){var n=bI();if(!n||!mC.performance.getEntries||!pw)return;pC&&I_.log("[Tracing] Adding & adjusting spans using Performance API");var r=_I(pw),i=n.getEntries(),{op:o,start_timestamp:a}=hS(e);if(i.slice(EI).forEach(t=>{var n=_I(t.startTime),i=_I(Math.max(0,t.duration));if(!("navigation"===o&&a&&r+n<a))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{PI(e,t,r,n);}),PI(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),PI(e,t,"fetch",n,"cache","domainLookupStart"),PI(e,t,"domainLookup",n,"DNS"),function(e,t,n){var r=n+_I(t.requestStart),i=n+_I(t.responseEnd),o=n+_I(t.responseStart);t.responseEnd&&(yI(e,r,i,{op:"browser.request",name:t.name,attributes:{[Zk]:"auto.ui.browser.metrics"}}),yI(e,o,i,{op:"browser.response",name:t.name,attributes:{[Zk]:"auto.ui.browser.metrics"}}));}(e,t,n);}(e,t,r);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i){var o=yC(),a=_I(o?o.requestStart:0),s=i+Math.max(n,a),c=i+n,u=c+r,l={[Zk]:"auto.resource.browser.metrics"};s!==c&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=s);yI(e,s,u,{name:t.name,op:t.entryType,attributes:l});}(e,t,n,i,r);var _o12=EC(),_a13=t.startTime<_o12.firstHiddenTime;"first-paint"===t.name&&_a13&&(pC&&I_.log("[Measurements] Adding FP"),CI.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&_a13&&(pC&&I_.log("[Measurements] Adding FCP"),CI.fcp={value:t.startTime,unit:"millisecond"});break;}case"resource":!function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;var a=Vw(n),s={[Zk]:"auto.resource.browser.metrics"};AI(s,t,"transferSize","http.response_transfer_size"),AI(s,t,"encodedBodySize","http.response_content_length"),AI(s,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus);a.protocol&&(s["url.scheme"]=a.protocol.split(":").pop());a.host&&(s["server.address"]=a.host);s["url.same_origin"]=n.includes(mC.location.origin);var c=o+r,u=c+i;yI(e,c,u,{name:n.replace(mC.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:s});}(e,t,t.name,n,i,r);}}),EI=Math.max(i.length-1,0),function(e){var t=mC.navigator;if(!t)return;var n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),gI(n.rtt)&&(CI["connection.rtt"]={value:n.rtt,unit:"millisecond"}));gI(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`);gI(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency));}(e),"pageload"===o){!function(e){var t=yC();if(!t)return;var{responseStart:n,requestStart:r}=t;r<=n&&(pC&&I_.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"});}(CI);var _n44=CI["mark.fid"];_n44&&CI.fid&&(yI(e,_n44.value,_n44.value+_I(CI.fid.value),{name:"first input delay",op:"ui.action",attributes:{[Zk]:"auto.ui.browser.metrics"}}),delete CI["mark.fid"]),"fcp"in CI&&t.recordClsOnPageloadSpan||delete CI.cls,Object.entries(CI).forEach(([e,t])=>{US(e,t.value,t.unit);}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",vC()),function(e){SI&&(pC&&I_.log("[Measurements] Adding LCP Data"),SI.element&&e.setAttribute("lcp.element",b_(SI.element)),SI.id&&e.setAttribute("lcp.id",SI.id),SI.url&&e.setAttribute("lcp.url",SI.url.trim().slice(0,200)),e.setAttribute("lcp.size",SI.size));xI&&xI.sources&&(pC&&I_.log("[Measurements] Adding CLS Data"),xI.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,b_(t.node))));}(e);}SI=void 0,xI=void 0,CI={};}function PI(e,t,n,r,i,o){var a=o?t[o]:t[`${n}End`],s=t[`${n}Start`];s&&a&&yI(e,r+_I(s),r+_I(a),{op:`browser.${i||n}`,name:t.name,attributes:{[Zk]:"auto.ui.browser.metrics"}});}function AI(e,t,n,r){var i=t[n];null!=i&&i<kI&&(e[r]=i);}var RI=1e3;var OI,MI,LI,NI;function DI(e){tw("dom",e),nw("dom",BI);}function BI(){if(!mC.document)return;var e=rw.bind(null,"dom"),t=FI(e,!0);mC.document.addEventListener("click",t,!1),mC.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{var n=mC[t]&&mC[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(L_(n,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var _r28=this,_o13=_r28.__sentry_instrumentation_handlers__=_r28.__sentry_instrumentation_handlers__||{},_a14=_o13[n]=_o13[n]||{refCount:0};if(!_a14.handler){var _r29=FI(e);_a14.handler=_r29,t.call(this,n,_r29,i);}_a14.refCount++;}catch(o){}return t.call(this,n,r,i);};}),L_(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var _n45=this,_i22=_n45.__sentry_instrumentation_handlers__||{},_o14=_i22[t];_o14&&(_o14.refCount--,_o14.refCount<=0&&(e.call(this,t,_o14.handler,r),_o14.handler=void 0,delete _i22[t]),0===Object.keys(_i22).length&&delete _n45.__sentry_instrumentation_handlers__);}catch(i){}return e.call(this,t,n,r);};}));});}function FI(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;var r=function(e){try{return e.target;}catch(t){return null;}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable);}(n.type,r))return;N_(n,"_sentryCaptured",!0),r&&!r._sentryId&&N_(r,"_sentryId",Iw());var i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==MI)return!1;try{if(!e.target||e.target._sentryId!==LI)return!1;}catch(t){}return!0;}(n)){e({event:n,name:i,global:t}),MI=n.type,LI=r?r._sentryId:void 0;}clearTimeout(OI),OI=mC.setTimeout(()=>{LI=void 0,MI=void 0;},RI);};}function UI(e){var t="history";tw(t,e),nw(t,jI);}function jI(){if(!function(){var e=Ek.chrome,t=e&&e.app&&e.app.runtime,n="history"in Ek&&!!Ek.history.pushState&&!!Ek.history.replaceState;return!t&&n;}())return;var e=mC.onpopstate;function t(e){return function(...t){var n=t.length>2?t[2]:void 0;if(n){var _e40=NI,_t49=String(n);NI=_t49;rw("history",{from:_e40,to:_t49});}return e.apply(this,t);};}mC.onpopstate=function(...t){var n=mC.location.href,r=NI;NI=n;if(rw("history",{from:r,to:n}),e)try{return e.apply(this,t);}catch(i){}},L_(mC.history,"pushState",t),L_(mC.history,"replaceState",t);}var $I={};function zI(e){var t=$I[e];if(t)return t;var n=mC[e];if(cw(n))return $I[e]=n.bind(mC);var r=mC.document;if(r&&"function"==typeof r.createElement)try{var _t50=r.createElement("iframe");_t50.hidden=!0,r.head.appendChild(_t50);var _i23=_t50.contentWindow;_i23&&_i23[e]&&(n=_i23[e]),r.head.removeChild(_t50);}catch(i){pC&&I_.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i);}return n?$I[e]=n.bind(mC):n;}function HI(e){$I[e]=void 0;}function WI(...e){return zI("setTimeout")(...e);}var qI="__sentry_xhr_v3__";function VI(e){tw("xhr",e),nw("xhr",GI);}function GI(){if(!mC.XMLHttpRequest)return;var e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){var r=1e3*fw(),i=Kb(n[0])?n[0].toUpperCase():void 0,o=function(e){if(Kb(e))return e;try{return e.toString();}catch(t){}return;}(n[1]);if(!i||!o)return e.apply(t,n);t[qI]={method:i,url:o,request_headers:{}},"POST"===i&&o.match(/sentry_key/)&&(t.__sentry_own_request__=!0);var a=()=>{var e=t[qI];if(e&&4===t.readyState){try{e.status_code=t.status;}catch(n){}rw("xhr",{endTimestamp:1e3*fw(),startTimestamp:r,xhr:t});}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener("readystatechange",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){var[r,i]=n,o=t[qI];return o&&Kb(r)&&Kb(i)&&(o.request_headers[r.toLowerCase()]=i),e.apply(t,n);}}),e.apply(t,n);}}),e.send=new Proxy(e.send,{apply(e,t,n){var r=t[qI];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return rw("xhr",{startTimestamp:1e3*fw(),xhr:t}),e.apply(t,n);}});}var YI=[],JI=new Map();function KI(){if(bI()&&pw){var _e41=function(){return oI(({metric:e})=>{if(null==e.value)return;var t=e.entries.find(t=>t.duration===e.value&&XI[t.name]);if(!t)return;var{interactionId:n}=t,r=XI[t.name],i=_I(pw+t.startTime),o=_I(e.value),a=kS(),s=a?wS(a):void 0,c=(null!=n?JI.get(n):void 0)||s,u=c?hS(c).description:zk().getScopeData().transactionName,l=vI({name:b_(t.target),transaction:u,attributes:$_({[Zk]:"auto.http.browser.inp",[Xk]:`ui.interaction.${r}`,[nS]:t.duration}),startTime:i});Sk([l,"optionalAccess",e=>e.addEvent,"call",t=>t("inp",{[eS]:"millisecond",[tS]:e.value})]),Sk([l,"optionalAccess",e=>e.end,"call",e=>e(i+o)]);});}();return()=>{_e41();};}return()=>{};}var XI={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function ZI(e,t=zI("fetch")){var n=0,r=0;return Wx(e,function(i){var o=i.body.length;n+=o,r++;var a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return HI("fetch"),Hw("No fetch implementation available");try{return t(e.url,a).then(e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}));}catch(s){return HI("fetch"),n-=o,r--,Hw(s);}});}function QI(e,t,n,r){var i={filename:e,function:"<anonymous>"===t?W_:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i;}var eT=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,tT=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,nT=/\((\S*)(?::(\d+))(?::(\d+))\)/,rT=[30,e=>{var t=eT.exec(e);if(t){var[,_e42,_n46,_r30]=t;return QI(_e42,W_,+_n46,+_r30);}var n=tT.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){var _e43=nT.exec(n[2]);_e43&&(n[2]=_e43[1],n[3]=_e43[2],n[4]=_e43[3]);}var[_e44,_t51]=mT(n[1]||W_,n[2]);return QI(_t51,_e44,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0);}}],iT=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,oT=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,aT=[50,e=>{var t=iT.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var _e45=oT.exec(t[3]);_e45&&(t[1]=t[1]||"eval",t[3]=_e45[1],t[4]=_e45[2],t[5]="");}var _e46=t[3],_n47=t[1]||W_;return[_n47,_e46]=mT(_n47,_e46),QI(_e46,_n47,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0);}}],sT=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,cT=[40,e=>{var t=sT.exec(e);return t?QI(t[2],t[1]||W_,+t[3],t[4]?+t[4]:void 0):void 0;}],uT=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,lT=[10,e=>{var t=uT.exec(e);return t?QI(t[2],t[3]||W_,+t[1]):void 0;}],dT=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,fT=[20,e=>{var t=dT.exec(e);return t?QI(t[5],t[3]||t[4]||W_,+t[1],+t[2]):void 0;}],pT=[rT,aT],hT=G_(...pT),mT=(e,t)=>{var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:W_,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t];},gT=1024,yT=Bx((e={})=>{var t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){t.console&&iw(function(e){return function(t){if(Vk()!==e)return;var n={category:"console",data:{arguments:t.args,logger:"console"},level:Jw(t.level),message:a_(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${a_(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1);}tE(n,{input:t.args,level:t.level});};}(e)),t.dom&&DI(function(e,t){return function(n){if(Vk()!==e)return;var r,i,o="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>gT&&(XE&&I_.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=gT),"string"==typeof o&&(o=[o]);try{var _e47=n.event,_t52=function(e){return!!e&&!!e.target;}(_e47)?_e47.target:_e47;r=b_(_t52,{keyAttrs:o,maxStringLength:a}),i=k_(_t52);}catch(c){r="<unknown>";}if(0===r.length)return;var s={category:`ui.${n.name}`,message:r};i&&(s.data={"ui.component_name":i}),tE(s,{event:n.event,name:n.name,global:n.global});};}(e,t.dom)),t.xhr&&VI(function(e){return function(t){if(Vk()!==e)return;var{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[qI];if(!n||!r||!i)return;var{method:o,url:a,status_code:s,body:c}=i,u={method:o,url:a,status_code:s},l={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r};tE({category:"xhr",data:u,type:"http",level:p_(s)},l);};}(e)),t.fetch&&hw(function(e){return function(t){if(Vk()!==e)return;var{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){tE({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r});}else{var _e48=t.response,_i24={...t.fetchData,status_code:_e48&&_e48.status},_o15={input:t.args,response:_e48,startTimestamp:n,endTimestamp:r};tE({category:"fetch",data:_i24,type:"http",level:p_(_i24.status_code)},_o15);}};}(e)),t.history&&UI(function(e){return function(t){if(Vk()!==e)return;var n=t.from,r=t.to;var i=Vw(GE.location.href);var o=n?Vw(n):void 0;var a=Vw(r);o&&o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),tE({category:"navigation",data:{from:n,to:r}});};}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){Vk()===e&&tE({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Pw(t)},{event:t});};}(e));}};});var vT=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],bT=Bx((e={})=>{var t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&L_(GE,"setTimeout",_T),t.setInterval&&L_(GE,"setInterval",_T),t.requestAnimationFrame&&L_(GE,"requestAnimationFrame",wT),t.XMLHttpRequest&&"XMLHttpRequest"in GE&&L_(XMLHttpRequest.prototype,"send",kT);var e=t.eventTarget;if(e){(Array.isArray(e)?e:vT).forEach(ST);}}};});function _T(e){return function(...t){var n=t[0];return t[0]=KE(n,{mechanism:{data:{function:X_(e)},handled:!1,type:"instrument"}}),e.apply(this,t);};}function wT(e){return function(t){return e.apply(this,[KE(t,{mechanism:{data:{function:"requestAnimationFrame",handler:X_(e)},handled:!1,type:"instrument"}})]);};}function kT(e){return function(...t){var n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&L_(n,e,function(t){var n={mechanism:{data:{function:e,handler:X_(t)},handled:!1,type:"instrument"}},r=B_(t);return r&&(n.mechanism.data.handler=X_(r)),KE(t,n);});}),e.apply(this,t);};}function ST(e){var t=GE,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(L_(n,"addEventListener",function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=KE(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:X_(r),target:e},handled:!1,type:"instrument"}}));}catch(HD){}return t.apply(this,[n,KE(r,{mechanism:{data:{function:"addEventListener",handler:X_(r),target:e},handled:!1,type:"instrument"}}),i]);};}),L_(n,"removeEventListener",function(e){return function(t,n,r){var i=n;try{var _n48=i&&i.__sentry_wrapped__;_n48&&e.call(this,t,_n48,r);}catch(o){}return e.call(this,t,i,r);};}));}var xT=Bx((e={})=>{var t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50;},setup(e){t.onerror&&(!function(e){_w(t=>{var{stackParser:n,attachStacktrace:r}=CT();if(Vk()!==e||JE())return;var{msg:i,url:o,line:a,column:s,error:c}=t,u=function(e,t,n,r){var i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=Kb(t)&&t.length>0?t:w_();0===c.length&&c.push({colno:u,filename:d,function:W_,in_app:!0,lineno:l});return e;}(cC(n,c||i,void 0,r,!1),o,a,s);u.level="error",gx(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}});});}(e),ET("onerror")),t.onunhandledrejection&&(!function(e){Sw(t=>{var{stackParser:n,attachStacktrace:r}=CT();if(Vk()!==e||JE())return;var i=function(e){if(Zb(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason;}catch(t){}return e;}(t),o=Zb(i)?function(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}};}(i):cC(n,i,void 0,r,!0);o.level="error",gx(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}});});}(e),ET("onunhandledrejection"));}};});function ET(e){XE&&I_.log(`Global Handler attached: ${e}`);}function CT(){var e=Vk();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};}var IT=Bx(()=>({name:"HttpContext",preprocessEvent(e){if(!GE.navigator&&!GE.location&&!GE.document)return;var t=e.request&&e.request.url||GE.location&&GE.location.href,{referrer:n}=GE.document||{},{userAgent:r}=GE.navigator||{},i={...(e.request&&e.request.headers),...(n&&{Referer:n}),...(r&&{"User-Agent":r})},o={...e.request,...(t&&{url:t}),headers:i};e.request=o;}})),TT=Bx((e={})=>{var t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){var o=i.getOptions();u_(ZE,o.stackParser,o.maxValueLength,n,t,e,r);}};});function PT(e){return[aE(),iE(),bT(),yT(),xT(),TT(),gE(),IT()];}function AT(e={}){var t=function(e={}){var t={defaultIntegrations:PT(),release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:GE.SENTRY_RELEASE&&GE.SENTRY_RELEASE.id?GE.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,{...t,...e};}(e);if(function(){var e=void 0!==GE.window&&GE;if(!e)return!1;var t=e[e.chrome?"chrome":"browser"],n=t&&t.runtime&&t.runtime.id,r=GE.location&&GE.location.href||"",i=!!n&&GE===GE.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some(e=>r.startsWith(`${e}//`)),o=void 0!==e.nw;return!!n&&!i&&!o;}())return void C_(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/");});XE&&(sw()||I_.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));var n={...t,stackParser:Y_(t.stackParser||hT),integrations:Lx(t),transport:t.transport||ZI},r=function(e,t){!0===t.debug&&(Ck?I_.enable():C_(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.");})),zk().update(t.initialScope);var n=new e(t);return zx(n),n.init(),n;}(fC,n);return t.autoSessionTracking&&function(){if(void 0===GE.document)return void(XE&&I_.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));Ex({ignoreDuration:!0}),Tx(),UI(({from:e,to:t})=>{void 0!==e&&e!==t&&(Ex({ignoreDuration:!0}),Tx());});}(),r;}function RT(e={}){if(!GE.document)return void(XE&&I_.error("Global document not defined in showReportDialog call"));var t=zk(),n=t.getClient(),r=n&&n.getDsn();if(!r)return void(XE&&I_.error("DSN not configured for showReportDialog call"));if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){var _t53=Sx();_t53&&(e.eventId=_t53);}var i=GE.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=function(e,t){var n=O_(e);if(!n)return"";var r=`${Ax(n)}embed/error-page/`;var i=`dsn=${P_(n)}`;for(var _o16 in t)if("dsn"!==_o16&&"onClose"!==_o16)if("user"===_o16){var _e49=t.user;if(!_e49)continue;_e49.name&&(i+=`&name=${encodeURIComponent(_e49.name)}`),_e49.email&&(i+=`&email=${encodeURIComponent(_e49.email)}`);}else i+=`&${encodeURIComponent(_o16)}=${encodeURIComponent(t[_o16])}`;return`${r}?${i}`;}(r,e),e.onLoad&&(i.onload=e.onLoad);var{onClose:o}=e;if(o){var _e50=t=>{if("__sentry_reportdialog_closed__"===t.data)try{o();}finally{GE.removeEventListener("message",_e50);}};GE.addEventListener("message",_e50);}var a=GE.document.head||GE.document.body;a?a.appendChild(i):XE&&I_.error("Not injecting report dialog. No injection point found in HTML");}var OT={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling"},MT=GE;async function LT(e,t){var n=OT[e],r=MT.Sentry=MT.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);var i=r[e];if("function"==typeof i&&!("_isShim"in i))return i;var o=function(e){var t=Vk(),n=t&&t.getOptions(),r=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${h_}/${e}.min.js`,r).toString();}(n),a=GE.document.createElement("script");a.src=o,a.crossOrigin="anonymous",a.referrerPolicy="origin",t&&a.setAttribute("nonce",t);var s=new Promise((e,t)=>{a.addEventListener("load",()=>e()),a.addEventListener("error",t);}),c=GE.document.currentScript,u=GE.document.body||GE.document.head||c&&c.parentElement;if(!u)throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);u.appendChild(a);try{await s;}catch(d){throw new Error(`Error when loading integration: ${e}`);}var l=r[e];if("function"!=typeof l)throw new Error(`Could not load integration: ${e}`);return l;}var NT=m_,DT=new WeakMap(),BT=Bx((e={})=>{var t=e.types||["crash","deprecation","intervention"];function n(e){if(DT.has(Vk())){var _loop=function(_t54){qk(e=>{e.setExtra("url",_t54.url);var n=`ReportingObserver [${_t54.type}]`;var r="No details available";if(_t54.body){var _n49={};for(var _e51 in _t54.body)_n49[_e51]=_t54.body[_e51];if(e.setExtra("body",_n49),"crash"===_t54.type){var _e52=_t54.body;r=[_e52.crashId||"",_e52.reason||""].join(" ").trim()||r;}else{r=_t54.body.message||r;}}mx(`${n}: ${r}`);});};for(var _t54 of e){_loop(_t54);}}}return{name:"ReportingObserver",setupOnce(){if(!function(){return"ReportingObserver"in aw;}())return;new NT.ReportingObserver(n,{buffered:!0,types:t}).observe();},setup(e){DT.set(e,!0);}};}),FT=Bx((e={})=>{var t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:"HttpClient",setup(e){!function(e,t){if(!uw())return;hw(n=>{if(Vk()!==e)return;var{response:r,args:i}=n,[o,a]=i;r&&function(e,t,n,r){if(zT(e,n.status,n.url)){var _e53=function(e,t){if(!t&&e instanceof Request)return e;if(e instanceof Request&&e.bodyUsed)return e;return new Request(e,t);}(t,r);var _i25,_o17,_a15,_s11;WT()&&([_i25,_a15]=UT("Cookie",_e53),[_o17,_s11]=UT("Set-Cookie",n));gx(HT({url:_e53.url,method:_e53.method,status:n.status,requestHeaders:_i25,responseHeaders:_o17,requestCookies:_a15,responseCookies:_s11}));}}(t,o,r,a);});}(e,t),function(e,t){if(!("XMLHttpRequest"in m_))return;VI(n=>{if(Vk()!==e)return;var r=n.xhr,i=r[qI];if(!i)return;var{method:o,request_headers:a}=i;try{!function(e,t,n,r){if(zT(e,t.status,t.responseURL)){var _e54,_o18,_a16;if(WT()){try{var _e55=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;_e55&&(_o18=$T(_e55));}catch(i){XE&&I_.log("Could not extract cookies from response headers");}try{_a16=function(e){var t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce((e,t)=>{var[n,r]=t.split(": ");return n&&r&&(e[n]=r),e;},{});}(t);}catch(i){XE&&I_.log("Could not extract headers from response");}_e54=r;}gx(HT({url:t.responseURL,method:n,status:t.status,requestHeaders:_e54,responseHeaders:_a16,responseCookies:_o18}));}}(t,r,o,a);}catch(s){XE&&I_.warn("Error while extracting response event form XHR response",s);}});}(e,t);}};});function UT(e,t){var n=function(e){var t={};return e.forEach((e,n)=>{t[n]=e;}),t;}(t.headers);var r;try{var _t55=n[e]||n[e.toLowerCase()]||void 0;_t55&&(r=$T(_t55));}catch(i){XE&&I_.log(`Could not extract cookies from header ${e}`);}return[n,r];}function jT(e){if(e){var _t56=e["Content-Length"]||e["content-length"];if(_t56)return parseInt(_t56,10);}}function $T(e){return e.split("; ").reduce((e,t)=>{var[n,r]=t.split("=");return n&&r&&(e[n]=r),e;},{});}function zT(e,t,n){return function(e,t){return e.some(e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1]);}(e.failedRequestStatusCodes,t)&&function(e,t){return e.some(e=>"string"==typeof e?t.includes(e):e.test(t));}(e.failedRequestTargets,n)&&!Xx(n,Vk());}function HT(e){var t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:jT(e.responseHeaders)}}};return Rw(n,{type:"http.client",handled:!1}),n;}function WT(){var e=Vk();return!!e&&Boolean(e.getOptions().sendDefaultPii);}var qT=m_,VT=Bx((e={})=>{var t=null!=e.frameContextLines?e.frameContextLines:7;return{name:"ContextLines",processEvent:e=>function(e,t){var n=qT.document,r=qT.location&&function(e){return e.split(/[?#]/,1)[0];}(qT.location.href);if(!n||!r)return e;var i=e.exception&&e.exception.values;if(!i||!i.length)return e;var o=n.documentElement.innerHTML;if(!o)return e;var a=["<!DOCTYPE html>","<html>",...o.split("\n"),"</html>"];return i.forEach(e=>{var n=e.stacktrace;n&&n.frames&&(n.frames=n.frames.map(e=>function(e,t,n,r){if(e.filename!==n||!e.lineno||!t.length)return e;return function(e,t,n=5){if(void 0===t.lineno)return;var r=e.length,i=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,i-n),i).map(e=>o_(e,0));var o=Math.min(r-1,i);t.context_line=o_(e[o],t.colno||0),t.post_context=e.slice(Math.min(i+1,r),i+1+n).map(e=>o_(e,0));}(t,e,r),e;}(e,a,r,t)));}),e;}(e,t)};});var GT=m_,YT="sentryReplaySession",JT="replay_event",KT="Unable to send Replay",XT=15e4,ZT=5e3,QT=2e7,eP=36e5;function tP(e,t){return null!=e?e:t();}function nP(e){var t,n=e[0],r=1;for(;r<e.length;){var _i26=e[r],_o19=e[r+1];if(r+=2,("optionalAccess"===_i26||"optionalCall"===_i26)&&null==n)return;"access"===_i26||"optionalAccess"===_i26?(t=n,n=_o19(n)):"call"!==_i26&&"optionalCall"!==_i26||(n=_o19((...e)=>n.call(t,...e)),t=void 0);}return n;}var rP;function iP(e){var t=nP([e,"optionalAccess",e=>e.host]);return Boolean(nP([t,"optionalAccess",e=>e.shadowRoot])===e);}function oP(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e);}function aP(e){try{var _t57=e.rules||e.cssRules;return _t57?function(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e;}(Array.from(_t57,sP).join("")):null;}catch(t){return null;}}function sP(e){var t;if(function(e){return"styleSheet"in e;}(e))try{t=aP(e.styleSheet)||function(e){var{cssText:t}=e;if(t.split('"').length<3)return t;var n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";";}(e);}catch(n){}else if(function(e){return"selectorText"in e;}(e)&&e.selectorText.includes(":"))return function(e){var t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2");}(e.cssText);return t||e.cssText;}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment";}(rP||(rP={}));class cP{constructor(){this.idNodeMap=new Map(),this.nodeMetaMap=new WeakMap();}getId(e){if(!e)return-1;return tP(nP([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]),()=>-1);}getNode(e){return this.idNodeMap.get(e)||null;}getIds(){return Array.from(this.idNodeMap.keys());}getMeta(e){return this.nodeMetaMap.get(e)||null;}removeNodeFromMap(e){var t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e));}has(e){return this.idNodeMap.has(e);}hasNode(e){return this.nodeMetaMap.has(e);}add(e,t){var n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t);}replace(e,t){var n=this.getNode(e);if(n){var _e56=this.nodeMetaMap.get(n);_e56&&this.nodeMetaMap.set(t,_e56);}this.idNodeMap.set(e,t);}reset(){this.idNodeMap=new Map(),this.nodeMetaMap=new WeakMap();}}function uP({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text);}function lP({isMasked:e,element:t,value:n,maskInputFn:r}){var i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i;}function dP(e){return e.toLowerCase();}function fP(e){return e.toUpperCase();}var pP="__rrweb_original__";function hP(e){var t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?dP(t):null;}function mP(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||"";}function gP(e,t){var n;try{n=new URL(e,tP(t,()=>window.location.href));}catch(HD){return null;}return tP(nP([n.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",e=>e[1]]),()=>null);}var yP={};function vP(e){var t=yP[e];if(t)return t;var n=window.document;var r=window[e];if(n&&"function"==typeof n.createElement)try{var _t58=n.createElement("iframe");_t58.hidden=!0,n.head.appendChild(_t58);var _i27=_t58.contentWindow;_i27&&_i27[e]&&(r=_i27[e]),n.head.removeChild(_t58);}catch(i){}return yP[e]=r.bind(window);}function bP(...e){return vP("setTimeout")(...e);}function _P(...e){return vP("clearTimeout")(...e);}var wP=1;var kP=new RegExp("[^a-z0-9-_:]"),SP=-2;function xP(){return wP++;}var EP,CP;var IP=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,TP=/^(?:[a-z+]+:)?\/\//i,PP=/^www\..*/i,AP=/^(data:)([^,]*),(.*)/i;function RP(e,t){return(e||"").replace(IP,(e,n,r,i,o,a)=>{var s=r||o||a,c=n||i||"";if(!s)return e;if(TP.test(s)||PP.test(s))return`url(${c}${s}${c})`;if(AP.test(s))return`url(${c}${s}${c})`;if("/"===s[0])return`url(${c}${function(e){var t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t;}(t)+s}${c})`;var u=t.split("/"),l=s.split("/");u.pop();for(var _t59 of l)"."!==_t59&&(".."===_t59?u.pop():u.push(_t59));return`url(${c}${u.join("/")}${c})`;});}var OP=/^[^ \t\n\r\u000c]+/,MP=/^[, \t\n\r\u000c]+/;var LP=new WeakMap();function NP(e,t){return t&&""!==t.trim()?BP(e,t):t;}function DP(e){return Boolean("svg"===e.tagName||e.ownerSVGElement);}function BP(e,t){var n=LP.get(e);if(n||(n=e.createElement("a"),LP.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t;}else t="";return n.setAttribute("href",t),n.href;}function FP(e,t,n,r,i,o){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?NP(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;var n=0;function r(e){var r;var i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):"";}var i=[];for(;r(MP),!(n>=t.length);){var _o20=r(OP);if(","===_o20.slice(-1))_o20=NP(e,_o20.substring(0,_o20.length-1)),i.push(_o20);else{var _r31="";_o20=NP(e,_o20);var _a17=!1;for(;;){var _e57=t.charAt(n);if(""===_e57){i.push((_o20+_r31).trim());break;}if(_a17)")"===_e57&&(_a17=!1);else{if(","===_e57){n+=1,i.push((_o20+_r31).trim());break;}"("===_e57&&(_a17=!0);}_r31+=_e57,n+=1;}}}return i.join(", ");}(e,r):"style"===n?RP(r,BP(e)):"object"===t&&"data"===n?NP(e,r):"function"==typeof o?o(n,r,i):r:NP(e,r):r;}function UP(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t;}function jP(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:jP(e.parentNode,t,n,r+1):-1;}function $P(e,t){return n=>{var r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0;}else if(function(e,t){for(var _n50=e.classList.length;_n50--;){var _r32=e.classList[_n50];if(t.test(_r32))return!0;}return!1;}(r,e))return!0;return!(!t||!r.matches(t));}catch(i){return!1;}};}function zP(e,t,n,r,i,o){try{var _a18=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===_a18)return!1;if("INPUT"===_a18.tagName){var _e58=_a18.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(_e58))return!0;}var _s12=-1,_c4=-1;if(o){if(_c4=jP(_a18,$P(r,i)),_c4<0)return!0;_s12=jP(_a18,$P(t,n),_c4>=0?_c4:1/0);}else{if(_s12=jP(_a18,$P(t,n)),_s12<0)return!1;_c4=jP(_a18,$P(r,i),_s12>=0?_s12:1/0);}return _s12>=0?!(_c4>=0)||_s12<=_c4:!(_c4>=0)&&!!o;}catch(a){}return!!o;}function HP(e,t){var{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:v,recordCanvas:b,keepIframeSrcFn:_,newlyAddedElement:w=!1}=t,k=function(e,t){if(!t.hasNode(e))return;var n=t.getId(e);return 1===n?void 0:n;}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:rP.Document,childNodes:[],compatMode:e.compatMode}:{type:rP.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:rP.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return function(e,t){var{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:a,maskInputOptions:s={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:m,maskAllText:g,maskTextClass:y,unmaskTextClass:v,maskTextSelector:b,unmaskTextSelector:_}=t,w=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0;}else for(var _n51=e.classList.length;_n51--;){var _r33=e.classList[_n51];if(t.test(_r33))return!0;}if(n)return e.matches(n);}catch(i){}return!1;}(e,r,i,o),k=function(e){if(e instanceof HTMLFormElement)return"form";var t=dP(e.tagName);return kP.test(t)?"div":t;}(e);var S={};var x=e.attributes.length;for(var _I2=0;_I2<x;_I2++){var _t60=e.attributes[_I2];_t60.name&&!UP(k,_t60.name,_t60.value)&&(S[_t60.name]=FP(n,k,dP(_t60.name),_t60.value,e,c));}if("link"===k&&a){var _t61=Array.from(n.styleSheets).find(t=>t.href===e.href);var _r34=null;_t61&&(_r34=aP(_t61)),_r34&&(delete S.rel,delete S.href,S._cssText=RP(_r34,_t61.href));}if("style"===k&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var _t62=aP(e.sheet);_t62&&(S._cssText=RP(_t62,BP(n)));}if("input"===k||"textarea"===k||"select"===k||"option"===k){var _t63=e,_n52=hP(_t63),_r35=mP(_t63,fP(k),_n52),_i28=_t63.checked;if("submit"!==_n52&&"button"!==_n52&&_r35){var _e59=zP(_t63,y,b,v,_,uP({type:_n52,tagName:fP(k),maskInputOptions:s}));S.value=lP({isMasked:_e59,element:_t63,value:_r35,maskInputFn:u});}_i28&&(S.checked=_i28);}"option"===k&&(e.selected&&!s.select?S.selected=!0:delete S.selected);if("canvas"===k&&f)if("2d"===e.__context)(function(e){var t=e.getContext("2d");if(!t)return!0;for(var _n53=0;_n53<e.width;_n53+=50)for(var _r36=0;_r36<e.height;_r36+=50){var _i29=t.getImageData,_o21=pP in _i29?_i29[pP]:_i29;if(new Uint32Array(_o21.call(t,_n53,_r36,Math.min(50,e.width-_n53),Math.min(50,e.height-_r36)).data.buffer).some(e=>0!==e))return!1;}return!0;})(e)||(S.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){var _t64=e.toDataURL(l.type,l.quality),_r37=n.createElement("canvas");_r37.width=e.width,_r37.height=e.height;_t64!==_r37.toDataURL(l.type,l.quality)&&(S.rr_dataURL=_t64);}if("img"===k&&d){EP||(EP=n.createElement("canvas"),CP=EP.getContext("2d"));var _t65=e,_r38=_t65.currentSrc||_t65.getAttribute("src")||"<unknown-src>",_i30=_t65.crossOrigin,_o22=()=>{_t65.removeEventListener("load",_o22);try{EP.width=_t65.naturalWidth,EP.height=_t65.naturalHeight,CP.drawImage(_t65,0,0),S.rr_dataURL=EP.toDataURL(l.type,l.quality);}catch(HD){if("anonymous"!==_t65.crossOrigin)return _t65.crossOrigin="anonymous",void(_t65.complete&&0!==_t65.naturalWidth?_o22():_t65.addEventListener("load",_o22));console.warn(`Cannot inline img src=${_r38}! Error: ${HD}`);}"anonymous"===_t65.crossOrigin&&(_i30?S.crossOrigin=_i30:_t65.removeAttribute("crossorigin"));};_t65.complete&&0!==_t65.naturalWidth?_o22():_t65.addEventListener("load",_o22);}"audio"!==k&&"video"!==k||(S.rr_mediaState=e.paused?"paused":"played",S.rr_mediaCurrentTime=e.currentTime);h||(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop));if(w){var{width:_t66,height:_n54}=e.getBoundingClientRect();S={class:S.class,rr_width:`${_t66}px`,rr_height:`${_n54}px`};}"iframe"!==k||p(S.src)||(w||e.contentDocument||(S.rr_src=S.src),delete S.src);var E;try{customElements.get(k)&&(E=!0);}catch(C){}return{type:rP.Element,tagName:k,attributes:S,childNodes:[],isSVG:DP(e)||void 0,needBlock:w,rootId:m,isCustom:E};}(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:a,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:g,dataURLOptions:y,inlineImages:v,recordCanvas:b,keepIframeSrcFn:_,newlyAddedElement:w,rootId:k,maskAllText:s,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return function(e,t){var{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:a,maskTextFn:s,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;var f=e.textContent;var p="STYLE"===d||void 0,h="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(p&&f){try{e.nextSibling||e.previousSibling||nP([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(f=aP(e.parentNode.sheet));}catch(HD){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${HD}`,e);}f=RP(f,BP(t.doc));}h&&(f="SCRIPT_PLACEHOLDER");var g=zP(e,r,o,i,a,n);p||h||m||!f||!g||(f=s?s(f,e.parentElement):f.replace(/[\S]/g,"*"));m&&f&&(c.textarea||g)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*"));if("OPTION"===d&&f){f=lP({isMasked:zP(e,r,o,i,a,uP({type:null,tagName:d,maskInputOptions:c})),element:e,value:f,maskInputFn:u});}return{type:rP.Text,textContent:f||"",isStyle:p,rootId:l};}(e,{doc:n,maskAllText:s,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:h,maskInputFn:g,rootId:k});case e.CDATA_SECTION_NODE:return{type:rP.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:rP.Comment,textContent:e.textContent||"",rootId:k};default:return!1;}}function WP(e){return null==e?"":e.toLowerCase();}function qP(e,t){var{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b={},inlineImages:_=!1,recordCanvas:w=!1,onSerialize:k,onIframeLoad:S,iframeLoadTimeout:x=5e3,onStylesheetLoad:E,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:I=()=>!1,newlyAddedElement:T=!1}=t;var{preserveWhiteSpace:P=!0}=t;var A=HP(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:s,unblockSelector:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:b,inlineImages:_,recordCanvas:w,keepIframeSrcFn:I,newlyAddedElement:T});if(!A)return console.warn(e,"not serialized"),null;var R;R=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===rP.Comment)return!0;if(e.type===rP.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===gP(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(WP(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===WP(e.attributes.name)||"icon"===WP(e.attributes.rel)||"apple-touch-icon"===WP(e.attributes.rel)||"shortcut icon"===WP(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&WP(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(WP(e.attributes.property).match(/^(og|twitter|fb):/)||WP(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===WP(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===WP(e.attributes.name)||"googlebot"===WP(e.attributes.name)||"bingbot"===WP(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===WP(e.attributes.name)||"generator"===WP(e.attributes.name)||"framework"===WP(e.attributes.name)||"publisher"===WP(e.attributes.name)||"progid"===WP(e.attributes.name)||WP(e.attributes.property).match(/^article:/)||WP(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===WP(e.attributes.name)||"yandex-verification"===WP(e.attributes.name)||"csrf-token"===WP(e.attributes.name)||"p:domain_verify"===WP(e.attributes.name)||"verify-v1"===WP(e.attributes.name)||"verification"===WP(e.attributes.name)||"shopify-checkout-api-token"===WP(e.attributes.name)))return!0;}}return!1;}(A,v)&&(P||A.type!==rP.Text||A.isStyle||A.textContent.replace(/^\s+|\s+$/gm,"").length)?xP():SP;var O=Object.assign(A,{id:R});if(r.add(e,O),R===SP)return null;k&&k(e);var M=!f;if(O.type===rP.Element){M=M&&!O.needBlock,delete O.needBlock;var _t67=e.shadowRoot;_t67&&oP(_t67)&&(O.isShadowHost=!0);}if((O.type===rP.Document||O.type===rP.Element)&&M){v.headWhitespace&&O.type===rP.Element&&"head"===O.tagName&&(P=!1);var _t68={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:s,unblockSelector:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:_,recordCanvas:w,preserveWhiteSpace:P,onSerialize:k,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:C,keepIframeSrcFn:I};for(var _n55 of Array.from(e.childNodes)){var _e60=qP(_n55,_t68);_e60&&O.childNodes.push(_e60);}if(function(e){return e.nodeType===e.ELEMENT_NODE;}(e)&&e.shadowRoot)for(var _n56 of Array.from(e.shadowRoot.childNodes)){var _r39=qP(_n56,_t68);_r39&&(oP(e.shadowRoot)&&(_r39.isShadow=!0),O.childNodes.push(_r39));}}return e.parentNode&&iP(e.parentNode)&&oP(e.parentNode)&&(O.isShadow=!0),O.type===rP.Element&&"iframe"===O.tagName&&function(e,t,n){var r=e.contentWindow;if(!r)return;var i,o=!1;try{i=r.document.readyState;}catch(s){return;}if("complete"!==i){var _r40=bP(()=>{o||(t(),o=!0);},n);return void e.addEventListener("load",()=>{_P(_r40),o=!0,t();});}var a="about:blank";if(r.location.href!==a||e.src===a||""===e.src)return bP(t,0),e.addEventListener("load",t);e.addEventListener("load",t);}(e,()=>{var t=e.contentDocument;if(t&&S){var _n57=qP(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:_,recordCanvas:w,preserveWhiteSpace:P,onSerialize:k,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:C,keepIframeSrcFn:I});_n57&&S(e,_n57);}},x),O.type===rP.Element&&"link"===O.tagName&&"string"==typeof O.attributes.rel&&("stylesheet"===O.attributes.rel||"preload"===O.attributes.rel&&"string"==typeof O.attributes.href&&"css"===gP(O.attributes.href))&&function(e,t,n){var r,i=!1;try{r=e.sheet;}catch(a){return;}if(r)return;var o=bP(()=>{i||(t(),i=!0);},n);e.addEventListener("load",()=>{_P(o),i=!0,t();});}(e,()=>{if(E){var _t69=qP(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:_,recordCanvas:w,preserveWhiteSpace:P,onSerialize:k,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:C,keepIframeSrcFn:I});_t69&&E(e,_t69);}},C),O;}function VP(e){var t,n=e[0],r=1;for(;r<e.length;){var _i31=e[r],_o23=e[r+1];if(r+=2,("optionalAccess"===_i31||"optionalCall"===_i31)&&null==n)return;"access"===_i31||"optionalAccess"===_i31?(t=n,n=_o23(n)):"call"!==_i31&&"optionalCall"!==_i31||(n=_o23((...e)=>n.call(t,...e)),t=void 0);}return n;}function GP(e,t,n=document){var r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r);}var YP="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";var JP={map:{},getId:()=>(console.error(YP),-1),getNode:()=>(console.error(YP),null),removeNodeFromMap(){console.error(YP);},has:()=>(console.error(YP),!1),reset(){console.error(YP);}};function KP(e,t,n={}){var r=null,i=0;return function(...o){var a=Date.now();i||!1!==n.leading||(i=a);var s=t-(a-i),c=this;s<=0||s>t?(r&&(!function(...e){gA("clearTimeout")(...e);}(r),r=null),i=a,e.apply(c,o)):r||!1===n.trailing||(r=yA(()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(c,o);},s));};}function XP(e,t,n,r,i=window){var o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){yA(()=>{n.set.call(this,e);},0),o&&o.set&&o.set.call(this,e);}}),()=>XP(e,t,o||{},!0);}function ZP(e,t,n){try{if(!(t in e))return()=>{};var _r41=e[t],_i32=n(_r41);return"function"==typeof _i32&&(_i32.prototype=_i32.prototype||{},Object.defineProperties(_i32,{__rrweb_original__:{enumerable:!1,value:_r41}})),e[t]=_i32,()=>{e[t]=_r41;};}catch(r){return()=>{};}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(JP=new Proxy(JP,{get:(e,t,n)=>("map"===t&&console.error(YP),Reflect.get(e,t,n))}));var QP=Date.now;function eA(e){var t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:VP([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||VP([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||VP([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:VP([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||VP([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||VP([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0};}function tA(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight;}function nA(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth;}function rA(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement;}function iA(e,t,n,r,i){if(!e)return!1;var o=rA(e);if(!o)return!1;var a=$P(t,n);if(!i){var _e61=r&&o.matches(r);return a(o)&&!_e61;}var s=jP(o,a);var c=-1;return!(s<0)&&(r&&(c=jP(o,$P(null,r))),s>-1&&c<0||s<c);}function oA(e,t){return t.getId(e)===SP;}function aA(e,t){if(iP(e))return!1;var n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||aA(e.parentNode,t));}function sA(e){return Boolean(e.changedTouches);}function cA(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e));}function uA(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e));}function lA(e){return Boolean(VP([e,"optionalAccess",e=>e.shadowRoot]));}/[1-9][0-9]{12}/.test(Date.now().toString())||(QP=()=>new Date().getTime());class dA{constructor(){this.id=1,this.styleIDMap=new WeakMap(),this.idStyleMap=new Map();}getId(e){return function(e,t){return null!=e?e:t();}(this.styleIDMap.get(e),()=>-1);}has(e){return this.styleIDMap.has(e);}add(e,t){if(this.has(e))return this.getId(e);var n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n;}getStyle(e){return this.idStyleMap.get(e)||null;}reset(){this.styleIDMap=new WeakMap(),this.idStyleMap=new Map(),this.id=1;}generateId(){return this.id++;}}function fA(e){var t=null;return VP([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t;}function pA(e){var t=e.ownerDocument;if(!t)return!1;var n=function(e){var t,n=e;for(;t=fA(n);)n=t;return n;}(e);return t.contains(n);}function hA(e){var t=e.ownerDocument;return!!t&&(t.contains(e)||pA(e));}var mA={};function gA(e){var t=mA[e];if(t)return t;var n=window.document;var r=window[e];if(n&&"function"==typeof n.createElement)try{var _t70=n.createElement("iframe");_t70.hidden=!0,n.head.appendChild(_t70);var _i33=_t70.contentWindow;_i33&&_i33[e]&&(r=_i33[e]),n.head.removeChild(_t70);}catch(i){}return mA[e]=r.bind(window);}function yA(...e){return gA("setTimeout")(...e);}var vA=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(vA||{}),bA=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(bA||{}),_A=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(_A||{}),wA=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(wA||{});function kA(e){var t,n=e[0],r=1;for(;r<e.length;){var _i34=e[r],_o24=e[r+1];if(r+=2,("optionalAccess"===_i34||"optionalCall"===_i34)&&null==n)return;"access"===_i34||"optionalAccess"===_i34?(t=n,n=_o24(n)):"call"!==_i34&&"optionalCall"!==_i34||(n=_o24((...e)=>n.call(t,...e)),t=void 0);}return n;}function SA(e){return"__ln"in e;}class xA{constructor(){this.length=0,this.head=null,this.tail=null;}get(e){if(e>=this.length)throw new Error("Position outside of list range");var t=this.head;for(var _n58=0;_n58<e;_n58++)t=kA([t,"optionalAccess",e=>e.next])||null;return t;}addNode(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&SA(e.previousSibling)){var _n59=e.previousSibling.__ln.next;t.next=_n59,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,_n59&&(_n59.previous=t);}else if(e.nextSibling&&SA(e.nextSibling)&&e.nextSibling.__ln.previous){var _n60=e.nextSibling.__ln.previous;t.previous=_n60,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,_n60&&(_n60.next=t);}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++;}removeNode(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--);}}var EA=(e,t)=>`${e}@${t}`;class CA{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap(),this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set(),this.movedSet=new Set(),this.droppedSet=new Set(),this.processMutations=e=>{e.forEach(this.processMutation),this.emit();},this.emit=()=>{if(this.frozen||this.locked)return;var e=[],t=new Set(),n=new xA(),r=e=>{var t=e,n=SP;for(;n===SP;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n;},i=i=>{if(!i.parentNode||!hA(i))return;var o=iP(i.parentNode)?this.mirror.getId(fA(i)):this.mirror.getId(i.parentNode),a=r(i);if(-1===o||-1===a)return n.addNode(i);var s=qP(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{cA(e,this.mirror)&&!iA(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),uA(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),lA(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc);},onIframeLoad:(e,t)=>{iA(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e));},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t);}});s&&(e.push({parentId:o,nextId:a,node:s}),t.add(s.id));};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(var _s13 of this.movedSet)TA(this.removes,_s13,this.mirror)&&!this.movedSet.has(_s13.parentNode)||i(_s13);for(var _s14 of this.addedSet)PA(this.droppedSet,_s14)||TA(this.removes,_s14,this.mirror)?PA(this.movedSet,_s14)?i(_s14):this.droppedSet.add(_s14):i(_s14);var o=null;for(;n.length;){var _e62=null;if(o){var _t71=this.mirror.getId(o.value.parentNode),_n61=r(o.value);-1!==_t71&&-1!==_n61&&(_e62=o);}if(!_e62){var _t72=n.tail;for(;_t72;){var _n62=_t72;if(_t72=_t72.previous,_n62){var _t73=this.mirror.getId(_n62.value.parentNode);if(-1===r(_n62.value))continue;if(-1!==_t73){_e62=_n62;break;}{var _t74=_n62.value;if(_t74.parentNode&&_t74.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var _r42=_t74.parentNode.host;if(-1!==this.mirror.getId(_r42)){_e62=_n62;break;}}}}}}if(!_e62){for(;n.head;)n.removeNode(n.head.value);break;}o=_e62.previous,n.removeNode(_e62.value),i(_e62.value);}var a={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{var{attributes:t}=e;if("string"==typeof t.style){var _n63=JSON.stringify(e.styleDiff),_r43=JSON.stringify(e._unchangedStyles);_n63.length<t.style.length&&(_n63+_r43).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff);}return{id:this.mirror.getId(e.node),attributes:t};}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap(),this.removes=[],this.addedSet=new Set(),this.movedSet=new Set(),this.droppedSet=new Set(),this.movedMap={},this.mutationCb(a));},this.processMutation=e=>{if(!oA(e.target,this.mirror))switch(e.type){case"characterData":{var _t75=e.target.textContent;iA(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||_t75===e.oldValue||this.texts.push({value:zP(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&_t75?this.maskTextFn?this.maskTextFn(_t75,rA(e.target)):_t75.replace(/[\S]/g,"*"):_t75,node:e.target});break;}case"attributes":{var _n64=e.target;var _r44=e.attributeName,_i35=e.target.getAttribute(_r44);if("value"===_r44){var _t76=hP(_n64),_r45=_n64.tagName;_i35=mP(_n64,_r45,_t76);var _o25=uP({maskInputOptions:this.maskInputOptions,tagName:_r45,type:_t76});_i35=lP({isMasked:zP(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,_o25),element:_n64,value:_i35,maskInputFn:this.maskInputFn});}if(iA(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||_i35===e.oldValue)return;var _o26=this.attributeMap.get(e.target);if("IFRAME"===_n64.tagName&&"src"===_r44&&!this.keepIframeSrcFn(_i35)){if(_n64.contentDocument)return;_r44="rr_src";}if(_o26||(_o26={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(_o26),this.attributeMap.set(e.target,_o26)),"type"===_r44&&"INPUT"===_n64.tagName&&"password"===(e.oldValue||"").toLowerCase()&&_n64.setAttribute("data-rr-is-password","true"),!UP(_n64.tagName,_r44)&&(_o26.attributes[_r44]=FP(this.doc,dP(_n64.tagName),dP(_r44),_i35,_n64,this.maskAttributeFn),"style"===_r44)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument();}catch(t){this.unattachedDoc=this.doc;}var _r46=this.unattachedDoc.createElement("span");e.oldValue&&_r46.setAttribute("style",e.oldValue);for(var _e63 of Array.from(_n64.style)){var _t77=_n64.style.getPropertyValue(_e63),_i36=_n64.style.getPropertyPriority(_e63);_t77!==_r46.style.getPropertyValue(_e63)||_i36!==_r46.style.getPropertyPriority(_e63)?_o26.styleDiff[_e63]=""===_i36?_t77:[_t77,_i36]:_o26._unchangedStyles[_e63]=[_t77,_i36];}for(var _e64 of Array.from(_r46.style))""===_n64.style.getPropertyValue(_e64)&&(_o26.styleDiff[_e64]=!1);}break;}case"childList":if(iA(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{var n=this.mirror.getId(t),r=iP(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);iA(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||oA(t,this.mirror)||!function(e,t){return-1!==t.getId(e);}(t,this.mirror)||(this.addedSet.has(t)?(IA(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||aA(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[EA(n,r)]?IA(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!iP(e.target)||!oP(e.target))||void 0})),this.mapRemoves.push(t));});}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(oA(e,this.mirror))return;this.movedSet.add(e);var _n65=null;t&&this.mirror.hasNode(t)&&(_n65=this.mirror.getId(t)),_n65&&-1!==_n65&&(this.movedMap[EA(this.mirror.getId(e),_n65)]=!0);}else this.addedSet.add(e),this.droppedSet.delete(e);iA(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(e=>this.genAdds(e)),lA(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e);}));}};}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t];});}freeze(){this.frozen=!0,this.canvasManager.freeze();}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit();}isFrozen(){return this.frozen;}lock(){this.locked=!0,this.canvasManager.lock();}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit();}reset(){this.shadowDomManager.reset(),this.canvasManager.reset();}}function IA(e,t){e.delete(t),t.childNodes.forEach(t=>IA(e,t));}function TA(e,t,n){return 0!==e.length&&function(e,t,n){var r=t.parentNode;var _loop2=function(){var t=n.getId(r);if(e.some(e=>e.id===t))return{v:!0};r=r.parentNode;},_ret;for(;r;){_ret=_loop2();if(_ret)return _ret.v;}return!1;}(e,t,n);}function PA(e,t){return 0!==e.size&&AA(e,t);}function AA(e,t){var{parentNode:n}=t;return!!n&&(!!e.has(n)||AA(e,n));}var RA;var OA=e=>{if(!RA)return e;return(...t)=>{try{return e(...t);}catch(n){if(RA&&!0===RA(n))return()=>{};throw n;}};};function MA(e){var t,n=e[0],r=1;for(;r<e.length;){var _i37=e[r],_o27=e[r+1];if(r+=2,("optionalAccess"===_i37||"optionalCall"===_i37)&&null==n)return;"access"===_i37||"optionalAccess"===_i37?(t=n,n=_o27(n)):"call"!==_i37&&"optionalCall"!==_i37||(n=_o27((...e)=>n.call(t,...e)),t=void 0);}return n;}var LA=[];function NA(e){try{if("composedPath"in e){var _t78=e.composedPath();if(_t78.length)return _t78[0];}else if("path"in e&&e.path.length)return e.path[0];}catch(t){}return e&&e.target;}function DA(e,t){var n=new CA();LA.push(n),n.init(e);var r=window.MutationObserver||window.__rrMutationObserver;var i=MA([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);i&&window[i]&&(r=window[i]);var o=new r(OA(t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t);}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o;}function BA({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:a}){if(!1===a.mouseInteraction)return()=>{};var s=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,c=[];var u=null;return Object.keys(_A).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e]).forEach(a=>{var s=dP(a);var l=(t=>a=>{var s=NA(a);if(iA(s,r,i,o,!0))return;var c=null,l=t;if("pointerType"in a){switch(a.pointerType){case"mouse":c=wA.Mouse;break;case"touch":c=wA.Touch;break;case"pen":c=wA.Pen;}c===wA.Touch?_A[t]===_A.MouseDown?l="TouchStart":_A[t]===_A.MouseUp&&(l="TouchEnd"):wA.Pen;}else sA(a)&&(c=wA.Touch);null!==c?(u=c,(l.startsWith("Touch")&&c===wA.Touch||l.startsWith("Mouse")&&c===wA.Mouse)&&(c=null)):_A[t]===_A.Click&&(c=u,u=null);var d=sA(a)?a.changedTouches[0]:a;if(!d)return;var f=n.getId(s),{clientX:p,clientY:h}=d;OA(e)({type:_A[l],id:f,x:p,y:h,...(null!==c&&{pointerType:c})});})(a);if(window.PointerEvent)switch(_A[a]){case _A.MouseDown:case _A.MouseUp:s=s.replace("mouse","pointer");break;case _A.TouchStart:case _A.TouchEnd:return;}c.push(GP(s,l,t));}),OA(()=>{c.forEach(e=>e());});}function FA({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:a}){return GP("scroll",OA(KP(OA(a=>{var s=NA(a);if(!s||iA(s,r,i,o,!0))return;var c=n.getId(s);if(s===t&&t.defaultView){var _n66=eA(t.defaultView);e({id:c,x:_n66.left,y:_n66.top});}else e({id:c,x:s.scrollLeft,y:s.scrollTop});}),a.scroll||100)),t);}var UA=["INPUT","TEXTAREA","SELECT"],jA=new WeakMap();function $A({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:a,ignoreSelector:s,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:m}){function g(e){var n=NA(e);var l=e.isTrusted,g=n&&fP(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||UA.indexOf(g)<0||iA(n,r,i,o,!0))return;var v=n;if(v.classList.contains(a)||s&&v.matches(s))return;var b=hP(n);var _=mP(v,g,b),w=!1;var k=uP({maskInputOptions:c,tagName:g,type:b}),S=zP(n,f,h,p,m,k);"radio"!==b&&"checkbox"!==b||(w=n.checked),_=lP({isMasked:S,element:n,value:_,maskInputFn:u}),y(n,d?{text:_,isChecked:w,userTriggered:l}:{text:_,isChecked:w});var x=n.name;"radio"===b&&x&&w&&t.querySelectorAll(`input[type="radio"][name="${x}"]`).forEach(e=>{if(e!==n){var _t79=lP({isMasked:S,element:e,value:mP(e,g,b),maskInputFn:u});y(e,d?{text:_t79,isChecked:!w,userTriggered:!1}:{text:_t79,isChecked:!w});}});}function y(t,r){var i=jA.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){jA.set(t,r);var _i38=n.getId(t);OA(e)({...r,id:_i38});}}var v=("last"===l.input?["change"]:["input","change"]).map(e=>GP(e,OA(g),t)),b=t.defaultView;if(!b)return()=>{v.forEach(e=>e());};var _=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),w=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return _&&_.set&&v.push(...w.map(e=>XP(e[0],e[1],{set(){OA(g)({target:this,isTrusted:!1});}},!1,b))),OA(()=>{v.forEach(e=>e());});}function zA(e){return function(e,t){if(VA("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||VA("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||VA("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||VA("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){var _n67=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(_n67);}else if(e.parentStyleSheet){var _n68=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(_n68);}return t;}(e,[]);}function HA(e,t,n){var r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{};}function WA({mirror:e,stylesheetManager:t},n){var r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);var i="#document"===n.nodeName?MA([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):MA([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),o=MA([i,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(MA([i,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&i&&o?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return MA([o,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)]);},set(e){var n=MA([o,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r);}catch(i){}return n;}}),OA(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set});})):()=>{};}function qA(e,t={}){var n=e.doc.defaultView;if(!n)return()=>{};var r;e.recordDOM&&(r=DA(e,e.doc));var i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};var i="number"==typeof t.mousemove?t.mousemove:50,o="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;var a,s=[];var c=KP(OA(t=>{var n=Date.now()-a;e(s.map(e=>(e.timeOffset-=n,e)),t),s=[],a=null;}),o),u=OA(KP(OA(e=>{var t=NA(e),{clientX:n,clientY:i}=sA(e)?e.changedTouches[0]:e;a||(a=QP()),s.push({x:n,y:i,id:r.getId(t),timeOffset:QP()-a}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?bA.Drag:e instanceof MouseEvent?bA.MouseMove:bA.TouchMove);}),i,{trailing:!1})),l=[GP("mousemove",u,n),GP("touchmove",u,n),GP("drag",u,n)];return OA(()=>{l.forEach(e=>e());});}(e),o=BA(e),a=FA(e),s=function({viewportResizeCb:e},{win:t}){var n=-1,r=-1;return GP("resize",OA(KP(OA(()=>{var t=tA(),i=nA();n===t&&r===i||(e({width:Number(i),height:Number(t)}),n=t,r=i);}),200)),t);}(e,{win:n}),c=$A(e),u=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:a}){var s=OA(a=>KP(OA(o=>{var s=NA(o);if(!s||iA(s,t,n,r,!0))return;var{currentTime:c,volume:u,muted:l,playbackRate:d}=s;e({type:a,id:i.getId(s),currentTime:c,volume:u,muted:l,playbackRate:d});}),o.media||500)),c=[GP("play",s(0),a),GP("pause",s(1),a),GP("seeked",s(2),a),GP("volumechange",s(3),a),GP("ratechange",s(4),a)];return OA(()=>{c.forEach(e=>e());});}(e);var l=()=>{},d=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(l=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};var i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:OA((r,i,o)=>{var[a,s]=o,{id:c,styleId:u}=HA(i,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:a,index:s}]}),r.apply(i,o);})});var o=r.CSSStyleSheet.prototype.deleteRule;var a,s;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:OA((r,i,o)=>{var[a]=o,{id:s,styleId:c}=HA(i,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,removes:[{index:a}]}),r.apply(i,o);})}),r.CSSStyleSheet.prototype.replace&&(a=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:OA((r,i,o)=>{var[a]=o,{id:s,styleId:c}=HA(i,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,replace:a}),r.apply(i,o);})})),r.CSSStyleSheet.prototype.replaceSync&&(s=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:OA((r,i,o)=>{var[a]=o,{id:s,styleId:c}=HA(i,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,replaceSync:a}),r.apply(i,o);})}));var c={};GA("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(GA("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),GA("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),GA("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));var u={};return Object.entries(c).forEach(([r,i])=>{u[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(u[r].insertRule,{apply:OA((r,i,o)=>{var[a,s]=o,{id:c,styleId:u}=HA(i.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:a,index:[...zA(i),s||0]}]}),r.apply(i,o);})}),i.prototype.deleteRule=new Proxy(u[r].deleteRule,{apply:OA((r,i,o)=>{var[a]=o,{id:s,styleId:c}=HA(i.parentStyleSheet,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,removes:[{index:[...zA(i),a]}]}),r.apply(i,o);})});}),OA(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,a&&(r.CSSStyleSheet.prototype.replace=a),s&&(r.CSSStyleSheet.prototype.replaceSync=s),Object.entries(c).forEach(([e,t])=>{t.prototype.insertRule=u[e].insertRule,t.prototype.deleteRule=u[e].deleteRule;});});}(e,{win:n}),d=WA(e,e.doc),f=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){var o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:OA((i,a,s)=>{var[c,u,l]=s;if(n.has(c))return o.apply(a,[c,u,l]);var{id:d,styleId:f}=HA(MA([a,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||f&&-1!==f)&&e({id:d,styleId:f,set:{property:c,value:u,priority:l},index:zA(a.parentRule)}),i.apply(a,s);})});var a=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:OA((i,o,s)=>{var[c]=s;if(n.has(c))return a.apply(o,[c]);var{id:u,styleId:l}=HA(MA([o,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(u&&-1!==u||l&&-1!==l)&&e({id:u,styleId:l,remove:{property:c},index:zA(o.parentRule)}),i.apply(o,s);})}),OA(()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=a;});}(e,{win:n}),e.collectFonts&&(p=function({fontCb:e,doc:t}){var n=t.defaultView;if(!n)return()=>{};var r=[],i=new WeakMap(),o=n.FontFace;n.FontFace=function(e,t,n){var r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r;};var a=ZP(t.fonts,"add",function(t){return function(n){return yA(OA(()=>{var t=i.get(n);t&&(e(t),i.delete(n));}),0),t.apply(this,[n]);};});return r.push(()=>{n.FontFace=o;}),r.push(a),OA(()=>{r.forEach(e=>e());});}(e)));var h=function(e){var{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:a}=e;var s=!0;var c=OA(()=>{var e=t.getSelection();if(!e||s&&MA([e,"optionalAccess",e=>e.isCollapsed]))return;s=e.isCollapsed||!1;var c=[],u=e.rangeCount||0;for(var _t80=0;_t80<u;_t80++){var _a19=e.getRangeAt(_t80),{startContainer:_s15,startOffset:_u6,endContainer:_l4,endOffset:_d3}=_a19;iA(_s15,r,i,o,!0)||iA(_l4,r,i,o,!0)||c.push({start:n.getId(_s15),startOffset:_u6,end:n.getId(_l4),endOffset:_d3});}a({ranges:c});});return c(),GP("selectionchange",c);}(e),m=function({doc:e,customElementCb:t}){var n=e.defaultView;return n&&n.customElements?ZP(n.customElements,"define",function(e){return function(n,r,i){try{t({define:{name:n}});}catch(o){}return e.apply(this,[n,r,i]);};}):()=>{};}(e),g=[];for(var _y2 of e.plugins)g.push(_y2.observer(_y2.callback,n,_y2.options));return OA(()=>{LA.forEach(e=>e.reset()),MA([r,"optionalAccess",e=>e.disconnect,"call",e=>e()]),i(),o(),a(),s(),c(),u(),l(),d(),f(),p(),h(),m(),g.forEach(e=>e());});}function VA(e){return void 0!==window[e];}function GA(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype);}class YA{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap(),this.iframeRemoteIdToIdMap=new WeakMap();}getId(e,t,n,r){var i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e);var a=i.get(t);return a||(a=this.generateIdFn(),i.set(t,a),o.set(a,t)),a;}getIds(e,t){var n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,r));}getRemoteId(e,t,n){var r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;var i=r.get(t);return i||-1;}getRemoteIds(e,t){var n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n));}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap(),void(this.iframeRemoteIdToIdMap=new WeakMap());this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e);}getIdToRemoteIdMap(e){var t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map(),this.iframeIdToRemoteIdMap.set(e,t)),t;}getRemoteIdToIdMap(e){var t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map(),this.iframeRemoteIdToIdMap.set(e,t)),t;}}function JA(e){var t,n=e[0],r=1;for(;r<e.length;){var _i39=e[r],_o28=e[r+1];if(r+=2,("optionalAccess"===_i39||"optionalCall"===_i39)&&null==n)return;"access"===_i39||"optionalAccess"===_i39?(t=n,n=_o28(n)):"call"!==_i39&&"optionalCall"!==_i39||(n=_o28((...e)=>n.call(t,...e)),t=void 0);}return n;}class KA{constructor(){this.crossOriginIframeMirror=new YA(xP),this.crossOriginIframeRootIdMap=new WeakMap();}addIframe(){}addLoadListener(){}attachIframe(){}}class XA{constructor(e){this.iframes=new WeakMap(),this.crossOriginIframeMap=new WeakMap(),this.crossOriginIframeMirror=new YA(xP),this.crossOriginIframeRootIdMap=new WeakMap(),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new YA(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this));}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e);}addLoadListener(e){this.loadListener=e;}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),JA([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument));}handleMessage(e){var t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;var n=this.crossOriginIframeMap.get(e.source);if(!n)return;var r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout);}transformCrossOriginEvent(e,t){switch(t.type){case vA.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);var _n69=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,_n69),this.patchRootIdOnNode(t.data.node,_n69),{timestamp:t.timestamp,type:vA.IncrementalSnapshot,data:{source:bA.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};}case vA.Meta:case vA.Load:case vA.DomContentLoaded:return!1;case vA.Plugin:return t;case vA.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case vA.IncrementalSnapshot:switch(t.data.source){case bA.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);var n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n);}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"]);}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"]);}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"]);}),t;case bA.Drag:case bA.TouchMove:case bA.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"]);}),t;case bA.ViewportResize:return!1;case bA.MediaInteraction:case bA.MouseInteraction:case bA.Scroll:case bA.CanvasMutation:case bA.Input:return this.replaceIds(t.data,e,["id"]),t;case bA.StyleSheetRule:case bA.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case bA.Font:return t;case bA.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"]);}),t;case bA.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),JA([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t(t=>{this.replaceStyleIds(t,e,["styleId"]);})]),t;}}return!1;}replace(e,t,n,r){for(var _i40 of r)(Array.isArray(t[_i40])||"number"==typeof t[_i40])&&(Array.isArray(t[_i40])?t[_i40]=e.getIds(n,t[_i40]):t[_i40]=e.getId(n,t[_i40]));return t;}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n);}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n);}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t);});}patchRootIdOnNode(e,t){e.type===rP.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t);});}}class ZA{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class QA{constructor(e){this.shadowDoms=new WeakSet(),this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init();}init(){this.reset(),this.patchAttachShadow(Element,document);}addShadowRoot(e,t){if(!oP(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);var n=DA({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(FA({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),yA(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(WA({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e));},0);}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument);}patchAttachShadow(e,t){var n=this;this.restoreHandlers.push(ZP(e.prototype,"attachShadow",function(e){return function(r){var i=e.call(this,r);return this.shadowRoot&&hA(this)&&n.addShadowRoot(this.shadowRoot,t),i;};}));}reset(){this.restoreHandlers.forEach(e=>{try{e();}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet(),this.bypassOptions.canvasManager.resetShadowRoots();}}class eR{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class tR{constructor(e){this.trackedLinkElements=new WeakSet(),this.styleMirror=new dA(),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb;}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e);}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e));}adoptStyleSheets(e,t){if(0===e.length)return;var n={id:t,styleIds:[]},r=[];for(var _i41 of e){var _e65=void 0;this.styleMirror.has(_i41)?_e65=this.styleMirror.getId(_i41):(_e65=this.styleMirror.add(_i41),r.push({styleId:_e65,rules:Array.from(_i41.rules||CSSRule,(e,t)=>({rule:sP(e),index:t}))})),n.styleIds.push(_e65);}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n);}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet();}trackStylesheetInLinkElement(e){}}class nR{constructor(){this.nodeMap=new WeakMap(),this.active=!1;}inOtherBuffer(e,t){var n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t);}add(e,t){this.active||(this.active=!0,function(...e){gA("requestAnimationFrame")(...e);}(()=>{this.nodeMap=new WeakMap(),this.active=!1;})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set()).add(t));}destroy(){}}var rR,iR;try{if(2!==Array.from([1],e=>2*e)[0]){var _e66=document.createElement("iframe");document.body.appendChild(_e66),Array.from=Sk([_e66,"access",e=>e.contentWindow,"optionalAccess",e=>e.Array,"access",e=>e.from])||Array.from,document.body.removeChild(_e66);}}catch(HD){console.debug("Unable to override Array.from",HD);}var oR=function(){return new cP();}();function aR(e={}){var{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:a=null,ignoreClass:s="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:v,maskInputFn:b,maskTextFn:_,maxCanvasSize:w=null,packFn:k,sampling:S={},dataURLOptions:x={},mousemoveWait:E,recordDOM:C=!0,recordCanvas:I=!1,recordCrossOriginIframes:T=!1,recordAfter:P="DOMContentLoaded"===e.recordAfter?e.recordAfter:"load",userTriggeredOnInput:A=!1,collectFonts:R=!1,inlineImages:O=!1,plugins:M,keepIframeSrcFn:L=()=>!1,ignoreCSSAttributes:N=new Set([]),errorHandler:D,onMutation:B,getCanvasManager:F}=e;!function(e){RA=e;}(D);var U=!T||window.parent===window;var j=!1;if(!U)try{window.parent.document&&(j=!1);}catch(te){j=!0;}if(U&&!t)throw new Error("emit function is required");if(!U&&!j)return()=>{};void 0!==E&&void 0===S.mousemove&&(S.mousemove=E),oR.reset();var $=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},z=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};var H;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{var t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0;}while(t=t&&t.parentNode);return!1;});}();var W=0;var q=e=>{for(var _t81 of M||[])_t81.eventProcessor&&(e=_t81.eventProcessor(e));return k&&!j&&(e=k(e)),e;};rR=(e,i)=>{var o=e;if(o.timestamp=QP(),!Sk([LA,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||o.type===vA.FullSnapshot||o.type===vA.IncrementalSnapshot&&o.data.source===bA.Mutation||LA.forEach(e=>e.unfreeze()),U)Sk([t,"optionalCall",e=>e(q(o),i)]);else if(j){var _e67={type:"rrweb",event:q(o),origin:window.location.origin,isCheckout:i};window.parent.postMessage(_e67,"*");}if(o.type===vA.FullSnapshot)H=o,W=0;else if(o.type===vA.IncrementalSnapshot){if(o.data.source===bA.Mutation&&o.data.isAttachIframe)return;W++;var _e68=r&&W>=r,_t82=n&&H&&o.timestamp-H.timestamp>n;(_e68||_t82)&&ee(!0);}};var V=e=>{rR({type:vA.IncrementalSnapshot,data:{source:bA.Mutation,...e}});},G=e=>rR({type:vA.IncrementalSnapshot,data:{source:bA.Scroll,...e}}),Y=e=>rR({type:vA.IncrementalSnapshot,data:{source:bA.CanvasMutation,...e}}),J=new tR({mutationCb:V,adoptedStyleSheetCb:e=>rR({type:vA.IncrementalSnapshot,data:{source:bA.AdoptedStyleSheet,...e}})}),K="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new KA():new XA({mirror:oR,mutationCb:V,stylesheetManager:J,recordCrossOriginIframes:T,wrappedEmit:rR});for(var _re of M||[])_re.getMirror&&_re.getMirror({nodeMirror:oR,crossOriginIframeMirror:K.crossOriginIframeMirror,crossOriginIframeStyleMirror:K.crossOriginIframeStyleMirror});var X=new nR(),Z=function(e,t){try{return e?e(t):new eR();}catch(te){return console.warn("Unable to initialize CanvasManager"),new eR();}}(F,{mirror:oR,win:window,mutationCb:e=>rR({type:vA.IncrementalSnapshot,data:{source:bA.CanvasMutation,...e}}),recordCanvas:I,blockClass:i,blockSelector:o,unblockSelector:a,maxCanvasSize:w,sampling:S.canvas,dataURLOptions:x,errorHandler:D}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new ZA():new QA({mutationCb:V,scrollCb:G,bypassOptions:{onMutation:B,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:$,dataURLOptions:x,maskAttributeFn:v,maskTextFn:_,maskInputFn:b,recordCanvas:I,inlineImages:O,sampling:S,slimDOMOptions:z,iframeManager:K,stylesheetManager:J,canvasManager:Z,keepIframeSrcFn:L,processedNodeManager:X},mirror:oR}),ee=(e=!1)=>{if(!C)return;rR({type:vA.Meta,data:{href:window.location.href,width:nA(),height:tA()}},e),J.reset(),Q.init(),LA.forEach(e=>e.lock());var t=function(e,t){var{mirror:n=new cP(),blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:a=!1,maskTextClass:s="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:v=!1,dataURLOptions:b,preserveWhiteSpace:_,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:S,onStylesheetLoad:x,stylesheetLoadTimeout:E,keepIframeSrcFn:C=()=>!1}=t||{};return qP(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:s,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===h?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===h?{}:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:b,inlineImages:f,recordCanvas:p,preserveWhiteSpace:_,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:S,onStylesheetLoad:x,stylesheetLoadTimeout:E,keepIframeSrcFn:C,newlyAddedElement:!1});}(document,{mirror:oR,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:$,maskAttributeFn:v,maskInputFn:b,maskTextFn:_,slimDOM:z,dataURLOptions:x,recordCanvas:I,inlineImages:O,onSerialize:e=>{cA(e,oR)&&K.addIframe(e),uA(e,oR)&&J.trackLinkElement(e),lA(e)&&Q.addShadowRoot(e.shadowRoot,document);},onIframeLoad:(e,t)=>{K.attachIframe(e,t),e.contentWindow&&Z.addWindow(e.contentWindow),Q.observeAttachShadow(e);},onStylesheetLoad:(e,t)=>{J.attachLinkElement(e,t);},keepIframeSrcFn:L});if(!t)return console.warn("Failed to snapshot the document");rR({type:vA.FullSnapshot,data:{node:t,initialOffset:eA(window)}}),LA.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&J.adoptStyleSheets(document.adoptedStyleSheets,oR.getId(document));};iR=ee;try{var _e69=[],_t83=e=>OA(qA)({onMutation:B,mutationCb:V,mousemoveCb:(e,t)=>rR({type:vA.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>rR({type:vA.IncrementalSnapshot,data:{source:bA.MouseInteraction,...e}}),scrollCb:G,viewportResizeCb:e=>rR({type:vA.IncrementalSnapshot,data:{source:bA.ViewportResize,...e}}),inputCb:e=>rR({type:vA.IncrementalSnapshot,data:{source:bA.Input,...e}}),mediaInteractionCb:e=>rR({type:vA.IncrementalSnapshot,data:{source:bA.MediaInteraction,...e}}),styleSheetRuleCb:e=>rR({type:vA.IncrementalSnapshot,data:{source:bA.StyleSheetRule,...e}}),styleDeclarationCb:e=>rR({type:vA.IncrementalSnapshot,data:{source:bA.StyleDeclaration,...e}}),canvasMutationCb:Y,fontCb:e=>rR({type:vA.IncrementalSnapshot,data:{source:bA.Font,...e}}),selectionCb:e=>{rR({type:vA.IncrementalSnapshot,data:{source:bA.Selection,...e}});},customElementCb:e=>{rR({type:vA.IncrementalSnapshot,data:{source:bA.CustomElement,...e}});},blockClass:i,ignoreClass:s,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:$,inlineStylesheet:h,sampling:S,recordDOM:C,recordCanvas:I,inlineImages:O,userTriggeredOnInput:A,collectFonts:R,doc:e,maskAttributeFn:v,maskInputFn:b,maskTextFn:_,keepIframeSrcFn:L,blockSelector:o,unblockSelector:a,slimDOMOptions:z,dataURLOptions:x,mirror:oR,iframeManager:K,stylesheetManager:J,shadowDomManager:Q,processedNodeManager:X,canvasManager:Z,ignoreCSSAttributes:N,plugins:Sk([M,"optionalAccess",e=>e.filter,"call",e=>e(e=>e.observer),"optionalAccess",e=>e.map,"call",e=>e(e=>({observer:e.observer,options:e.options,callback:t=>rR({type:vA.Plugin,data:{plugin:e.name,payload:t}})}))])||[]},{});K.addLoadListener(n=>{try{_e69.push(_t83(n.contentDocument));}catch(r){console.warn(r);}});var _n70=()=>{ee(),_e69.push(_t83(document));};return"interactive"===document.readyState||"complete"===document.readyState?_n70():(_e69.push(GP("DOMContentLoaded",()=>{rR({type:vA.DomContentLoaded,data:{}}),"DOMContentLoaded"===P&&_n70();})),_e69.push(GP("load",()=>{rR({type:vA.Load,data:{}}),"load"===P&&_n70();},window))),()=>{_e69.forEach(e=>e()),X.destroy(),iR=void 0,function(){RA=void 0;}();};}catch(ne){console.warn(ne);}}aR.mirror=oR,aR.takeFullSnapshot=function(e){if(!iR)throw new Error("please take full snapshot after start recording");iR(e);};var sR="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,cR=["info","warn","error","log"],uR="[Replay] ";function lR(e,t="info"){tE({category:"console",data:{logger:"replay"},level:t,message:`${uR}${e}`},{level:t});}var dR=function(){var e=!1,t=!1;var n={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=n.captureExceptions,t=n.traceInternals;}};return sR?(cR.forEach(e=>{n[e]=(...n)=>{I_[e](uR,...n),t&&lR(n.join(""),Jw(e));};}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),I_.error(uR,r),e?hx(r):t&&lR(r,"error");},n.infoTick=(...e)=>{I_.info(uR,...e),t&&setTimeout(()=>lR(e[0]),0);}):cR.forEach(e=>{n[e]=()=>{};}),n;}(),fR=3;function pR(e){return e>9999999999?e:1e3*e;}function hR(e){return e>9999999999?e/1e3:e;}function mR(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:vA.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:Lw(t,10,1e3)}}),"console"===t.category)));}var gR="button,a";function yR(e){return e.closest(gR)||e;}function vR(e){var t=bR(e);return t&&t instanceof Element?yR(t):t;}function bR(e){return function(e){return"object"==typeof e&&!!e&&"target"in e;}(e)?e.target:e;}var _R;function wR(e){return _R||(_R=[],function(){L_(GT,"open",function(e){return function(...t){if(_R)try{_R.forEach(e=>e());}catch(n){}return e.apply(GT,t);};});}()),_R.push(e),()=>{var t=_R?_R.indexOf(e):-1;t>-1&&_R.splice(t,1);};}var kR=new Set([bA.Mutation,bA.StyleSheetRule,bA.StyleDeclaration,bA.AdoptedStyleSheet,bA.CanvasMutation,bA.Selection,bA.MediaInteraction]);class SR{constructor(e,t,n=mR){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n;}addListeners(){var e=wR(()=>{this._lastMutation=ER();});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0;};}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout);}handleClick(e,t){if(function(e,t){if(!xR.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1;}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp);}(e))return;var n={timestamp:hR(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1)||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks());}registerMutation(e=Date.now()){this._lastMutation=hR(e);}registerScroll(e=Date.now()){this._lastScroll=hR(e);}registerClick(e){var t=yR(e);this._handleMultiClick(t);}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++;});}_getClicks(e){return this._clicks.filter(t=>t.node===e);}_checkClicks(){var e=[],t=ER();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n);});for(var _n71 of e){var _e70=this._clicks.indexOf(_n71);_e70>-1&&(this._generateBreadcrumbs(_n71),this._clicks.splice(_e70,1));}this._clicks.length&&this._scheduleCheckClicks();}_generateBreadcrumbs(e){var t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!n&&!r,{clickCount:o,clickBreadcrumb:a}=e;if(i){var _n72=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),_r47=_n72<1e3*this._timeout?"mutation":"timeout",_i42={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:GT.location.href,route:t.getCurrentRoute(),timeAfterClickMs:_n72,endReason:_r47,clickCount:o||1}};this._addBreadcrumbEvent(t,_i42);}else if(o>1){var _e71={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:GT.location.href,route:t.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(t,_e71);}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=WI(()=>this._checkClicks(),1e3);}}var xR=["A","BUTTON","INPUT"];function ER(){return Date.now()/1e3;}function CR(e,t){try{if(!function(e){return e.type===fR;}(t))return;var{source:_n73}=t.data;if(kR.has(_n73)&&e.registerMutation(t.timestamp),_n73===bA.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===bA.MouseInteraction;}(t)){var{type:_n74,id:_r48}=t.data,_i43=aR.mirror.getNode(_r48);_i43 instanceof HTMLElement&&_n74===_A.Click&&e.registerClick(_i43);}}catch(n){}}function IR(e){return{timestamp:Date.now()/1e3,type:"default",...e};}var TR;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment";}(TR||(TR={}));var PR=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function AR(e){var t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(var _n75 in e)if(PR.has(_n75)){var _r49=_n75;"data-testid"!==_n75&&"data-test-id"!==_n75||(_r49="testId"),t[_r49]=e[_n75];}return t;}var RR=e=>t=>{if(!e.isEnabled())return;var n=function(e){var{target:t,message:n}=function(e){var t="click"===e.name;var n,r=null;try{r=t?vR(e.event):bR(e.event),n=b_(r,{maxStringLength:200})||"<unknown>";}catch(i){n="<unknown>";}return{target:r,message:n};}(e);return IR({category:`ui.${e.name}`,...OR(t,n)});}(t);if(!n)return;var r="click"===t.name,i=r?t.event:void 0;!(r&&e.clickDetector&&i&&i.target)||i.altKey||i.metaKey||i.ctrlKey||i.shiftKey||function(e,t,n){e.handleClick(t,n);}(e.clickDetector,n,vR(t.event)),mR(e,n);};function OR(e,t){var n=aR.mirror.getId(e),r=n&&aR.mirror.getNode(n),i=r&&aR.mirror.getMeta(r),o=i&&function(e){return e.type===TR.Element;}(i)?i:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(e=>e.type===TR.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:AR(o.attributes)}}:{}};}function MR(e,t){if(!e.isEnabled())return;e.updateUserActivity();var n=function(e){var{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o,target:a}=e;if(!a||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable;}(a)||!o)return null;var s=t||r||i,c=1===o.length;if(!s&&c)return null;var u=b_(a,{maxStringLength:200})||"<unknown>",l=OR(a,u);return IR({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o}});}(t);n&&mR(e,n);}var LR={resource:function(e){var{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:o,decodedBodySize:a,encodedBodySize:s,responseStatus:c,transferSize:u}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:BR(o),end:BR(i),name:r,data:{size:u,statusCode:c,decodedBodySize:a,encodedBodySize:s}};},paint:function(e){var{duration:t,entryType:n,name:r,startTime:i}=e,o=BR(i);return{type:n,name:r,start:o,end:o+t,data:void 0};},navigation:function(e){var{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:o,encodedBodySize:a,domContentLoadedEventStart:s,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:h,type:m}=e;if(0===i)return null;return{type:`${t}.${m}`,start:BR(p),end:BR(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:a,duration:i,domInteractive:u,domContentLoadedEventStart:s,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:o,redirectCount:f}};}};function NR(e,t){return({metric:n})=>{t.replayPerformanceEntries.push(e(n));};}function DR(e){var t=LR[e.entryType];return t?t(e):null;}function BR(e){return((pw||GT.performance.timeOrigin)+e)/1e3;}function FR(e){var t=e.entries[e.entries.length-1];return HR(e,"largest-contentful-paint",t&&t.element?[t.element]:void 0);}function UR(e){return void 0!==e.sources;}function jR(e){var t=[],n=[];for(var _r50 of e.entries)if(UR(_r50)){var _e72=[];for(var _t84 of _r50.sources)if(_t84.node){n.push(_t84.node);var _r51=aR.mirror.getId(_t84.node);_r51&&_e72.push(_r51);}t.push({value:_r50.value,nodeIds:_e72.length?_e72:void 0});}return HR(e,"cumulative-layout-shift",n,t);}function $R(e){var t=e.entries[e.entries.length-1];return HR(e,"first-input-delay",t&&t.target?[t.target]:void 0);}function zR(e){var t=e.entries[e.entries.length-1];return HR(e,"interaction-to-next-paint",t&&t.target?[t.target]:void 0);}function HR(e,t,n,r){var i=e.value,o=e.rating,a=BR(i);return{type:"web-vital",name:t,start:a,end:a,data:{value:i,size:i,rating:o,nodeIds:n?n.map(e=>aR.mirror.getId(e)):void 0,attributions:r}};}var WR='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';class qR extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.");}}class VR{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1;}get hasEvents(){return this.events.length>0;}get type(){return"sync";}destroy(){this.events=[];}async addEvent(e){var t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>QT)throw new qR();this.events.push(e);}finish(){return new Promise(e=>{var t=this.events;this.clear(),e(JSON.stringify(t));});}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1;}getEarliestTimestamp(){var e=this.events.map(e=>e.timestamp).sort()[0];return e?pR(e):null;}}class GR{constructor(e){this._worker=e,this._id=0;}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():t();},{once:!0}),this._worker.addEventListener("error",e=>{t(e);},{once:!0});})),this._ensureReadyPromise;}destroy(){sR&&dR.info("Destroying compression worker"),this._worker.terminate();}postMessage(e,t){var n=this._getAndIncrementId();return new Promise((r,i)=>{var o=({data:t})=>{var a=t;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",o),!a.success)return sR&&dR.error("Error in compression worker: ",a.response),void i(new Error("Error in compression worker"));r(a.response);}};this._worker.addEventListener("message",o),this._worker.postMessage({id:n,method:e,arg:t});});}_getAndIncrementId(){return this._id++;}}class YR{constructor(e){this._worker=new GR(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1;}get hasEvents(){return!!this._earliestTimestamp;}get type(){return"worker";}ensureReady(){return this._worker.ensureReady();}destroy(){this._worker.destroy();}addEvent(e){var t=pR(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);var n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>QT?Promise.reject(new qR()):this._sendEventToWorker(n);}finish(){return this._finishRequest();}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{sR&&dR.exception(e,'Sending "clear" message to worker failed',e);});}getEarliestTimestamp(){return this._earliestTimestamp;}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e);}async _finishRequest(){var e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e;}}class JR{constructor(e){this._fallback=new VR(),this._compression=new YR(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded();}get type(){return this._used.type;}get hasEvents(){return this._used.hasEvents;}get hasCheckout(){return this._used.hasCheckout;}set hasCheckout(e){this._used.hasCheckout=e;}destroy(){this._fallback.destroy(),this._compression.destroy();}clear(){return this._used.clear();}getEarliestTimestamp(){return this._used.getEarliestTimestamp();}addEvent(e){return this._used.addEvent(e);}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish();}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise;}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady();}catch(e){return void(sR&&dR.exception(e,"Failed to load the compression worker, falling back to simple buffer"));}await this._switchToCompressionWorker();}async _switchToCompressionWorker(){var{events:e,hasCheckout:t}=this._fallback,n=[];for(var _i44 of e)n.push(this._compression.addEvent(_i44));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n),this._fallback.clear();}catch(r){sR&&dR.exception(r,"Failed to add events when switching buffers.");}}}function KR({useCompression:e,workerUrl:t}){if(e&&window.Worker){var _e73=function(e){try{var _t85=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){var e=new Blob([WR]);return URL.createObjectURL(e);}();return"";}();if(!_t85)return;sR&&dR.info("Using compression worker"+(e?` from ${e}`:""));var _n76=new Worker(_t85);return new JR(_n76);}catch(t){sR&&dR.exception(t,"Failed to create compression worker");}}(t);if(_e73)return _e73;}return sR&&dR.info("Using simple buffer"),new VR();}function XR(){try{return"sessionStorage"in GT&&!!GT.sessionStorage;}catch(e){return!1;}}function ZR(e){!function(){if(!XR())return;try{GT.sessionStorage.removeItem(YT);}catch(e){}}(),e.session=void 0;}function QR(e){return void 0!==e&&Math.random()<e;}function eO(e){var t=Date.now();return{id:e.id||Iw(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId};}function tO(e){if(XR())try{GT.sessionStorage.setItem(YT,JSON.stringify(e));}catch(t){}}function nO({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){var i=function(e,t){return QR(e)?"session":!!t&&"buffer";}(e,t),o=eO({sampled:i,previousSessionId:r});return n&&tO(o),o;}function rO(e,t,n=+new Date()){return null===e||void 0===t||t<0||0!==t&&e+t<=n;}function iO(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return rO(e.started,t,r)||rO(e.lastActivity,n,r);}function oO(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!iO(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId);}function aO({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){var i=r.stickySession&&function(){if(!XR())return null;try{var _e74=GT.sessionStorage.getItem(YT);if(!_e74)return null;var _t86=JSON.parse(_e74);return sR&&dR.infoTick("Loading existing session"),eO(_t86);}catch(e){return null;}}();return i?oO(i,{sessionIdleExpire:e,maxReplayDuration:t})?(sR&&dR.infoTick("Session in sessionStorage is expired, creating new one..."),nO(r,{previousSessionId:i.id})):i:(sR&&dR.infoTick("Creating new session"),nO(r,{previousSessionId:n}));}function sO(e,t,n){return!!uO(e,t)&&(cO(e,t,n),!0);}async function cO(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);var _r52=function(e,t){try{if("function"==typeof t&&function(e){return e.type===vA.Custom;}(e))return t(e);}catch(n){return sR&&dR.exception(n,"An error occured in the `beforeAddRecordingEvent` callback, skipping the event..."),null;}return e;}(t,e.getOptions().beforeAddRecordingEvent);if(!_r52)return;return await e.eventBuffer.addEvent(_r52);}catch(r){var _t87=r&&r instanceof qR?"addEventSizeExceeded":"addEvent";e.handleException(r),await e.stop({reason:_t87});var _n77=Vk();_n77&&_n77.recordDroppedEvent("internal_sdk_error","replay");}}function uO(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;var n=pR(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(sR&&dR.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1));}function lO(e){return!e.type;}function dO(e){return"transaction"===e.type;}function fO(e){return"feedback"===e.type;}function pO(e){return(t,n)=>{if(!e.isEnabled()||!lO(t)&&!dO(t))return;var r=n&&n.statusCode;!r||r<200||r>=300||(dO(t)?function(e,t){var n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id);}(e,t):function(e,t){var n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;var{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;WI(async()=>{try{await e.sendBufferedReplayOrFlush();}catch(HD){e.handleException(HD);}});}(e,t));};}function hO(e){return t=>{e.isEnabled()&&lO(t)&&function(e,t){var n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){mR(e,IR({category:"replay.hydrate-error",data:{url:w_()}}));}}(e,t);};}function mO(e){var t=Vk();t&&t.on("beforeAddBreadcrumb",t=>function(e,t){if(!e.isEnabled()||!gO(t))return;var n=function(e){if(!gO(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(e){var t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return IR(e);var n=!1;var r=t.map(e=>{if(!e)return e;if("string"==typeof e)return e.length>ZT?(n=!0,`${e.slice(0,ZT)}…`):e;if("object"==typeof e)try{var _t88=Lw(e,7);return JSON.stringify(_t88).length>ZT?(n=!0,`${JSON.stringify(_t88,null,2).slice(0,ZT)}…`):_t88;}catch(t){}return e;});return IR({...e,data:{...e.data,arguments:r,...(n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}});}(e);return IR(e);}(t);n&&mR(e,n);}(e,t));}function gO(e){return!!e.category;}function yO(e){return Object.assign((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(function(e){return"replay_event"===e.type;}(t))return delete t.breadcrumbs,t;if(!lO(t)&&!dO(t)&&!fO(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(fO(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate(()=>!t.timestamp||(e.throttledAddEvent({type:vA.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1));}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__);}(t,n)&&!e.getOptions()._experiments.captureExceptions)return sR&&dR.log("Ignoring error from rrweb internals",t),null;var r=function(e,t){return"buffer"===e.recordingMode&&t.message!==KT&&!(!t.exception||t.type)&&QR(e.getOptions().errorSampleRate);}(e,t);return(r||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),t;},{id:"Replay"});}function vO(e,t){return t.map(({type:t,start:n,end:r,name:i,data:o})=>{var a=e.throttledAddEvent({type:vA.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:i,startTimestamp:n,endTimestamp:r,data:o}}});return"string"==typeof a?Promise.resolve(null):a;});}function bO(e){return t=>{if(!e.isEnabled())return;var n=function(e){var{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}};}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(vO(e,[n]),!1)));};}function _O(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!sR||!e.getOptions()._experiments.traceInternals)&&Xx(t,Vk());}(e,t.name)||e.addUpdate(()=>(vO(e,[t]),!0)));}function wO(e){if(!e)return;var t=new TextEncoder();try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){var _n78=PO(e);return t.encode(_n78).length;}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength;}catch(n){}}function kO(e){if(!e)return;var t=parseInt(e,10);return isNaN(t)?void 0:t;}function SO(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[PO(e)];if(!e)return[void 0];}catch(t){return sR&&dR.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"];}return sR&&dR.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"];}function xO(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};var n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e;}function EO(e,t){if(!t)return null;var{startTimestamp:n,endTimestamp:r,url:i,method:o,statusCode:a,request:s,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:$_({method:o,statusCode:a,request:s,response:c})};}function CO(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}};}function IO(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};var r={headers:e,size:t},{body:i,warnings:o}=function(e){if(!e||"string"!=typeof e)return{body:e};var t=e.length>XT,n=function(e){var t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n;}(e);if(t){var _t89=e.slice(0,XT);return n?{body:_t89,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${_t89}…`,warnings:["TEXT_TRUNCATED"]};}if(n)try{return{body:JSON.parse(e)};}catch(r){}return{body:e};}(n);return r.body=i,o&&o.length>0&&(r._meta={warnings:o}),r;}function TO(e,t){return Object.entries(e).reduce((n,[r,i])=>{var o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=i),n;},{});}function PO(e){return new URLSearchParams(e).toString();}function AO(e,t){var n=function(e,t=GT.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(GT.location.origin))return e;var n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;var r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r;}(e);return c_(n,t);}async function RO(e,t,n){try{var _r53=await async function(e,t,n){var r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r}=t,{url:a,method:s,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=AO(a,n.networkDetailAllowUrls)&&!AO(a,n.networkDetailDenyUrls),f=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){var i=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return LO(e[0],t);if(2===e.length)return LO(e[1],t);return{};}(n,t):{};if(!e)return IO(i,r,void 0);var o=OO(n),[a,s]=SO(o),c=IO(i,r,a);if(s)return xO(c,s);return c;}(n,t.input,u):CO(u),p=await async function(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&void 0!==i)return CO(i);var o=r?MO(r.headers,n):{};if(!r||!t&&void 0!==i)return IO(o,i,void 0);var[a,s]=await async function(e){var t=function(e){try{return e.clone();}catch(t){sR&&dR.exception(t,"Failed to clone response body");}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{var _e75=await function(e){return new Promise((t,n)=>{var r=WI(()=>n(new Error("Timeout while trying to read response body")),500);(async function(e){return await e.text();})(e).then(e=>t(e),e=>n(e)).finally(()=>clearTimeout(r));});}(t);return[_e75];}catch(n){return sR&&dR.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"];}}(r),c=function(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{var _o29=e&&e.length&&void 0===n?wO(e):n;return r?IO(i,_o29,t?e:void 0):CO(_o29);}catch(o){return sR&&dR.exception(o,"Failed to serialize response body"),IO(i,n,void 0);}}(a,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:o});if(s)return xO(c,s);return c;}(d,n,t.response,l);return{startTimestamp:i,endTimestamp:o,url:a,method:s,statusCode:c,request:f,response:p};}(e,t,n),_i45=EO("resource.fetch",_r53);_O(n.replay,_i45);}catch(r){sR&&dR.exception(r,"Failed to capture fetch breadcrumb");}}function OO(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body;}function MO(e,t){var n={};return t.forEach(t=>{e.get(t)&&(n[t]=e.get(t));}),n;}function LO(e,t){if(!e)return{};var n=e.headers;return n?n instanceof Headers?MO(n,t):Array.isArray(n)?{}:TO(n,t):{};}async function NO(e,t,n){try{var _r54=function(e,t,n){var r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r,input:a,xhr:s}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!s||!AO(c,n.networkDetailAllowUrls)||AO(c,n.networkDetailDenyUrls)){return{startTimestamp:i,endTimestamp:o,url:c,method:u,statusCode:l,request:CO(d),response:CO(f)};}var p=s[qI],h=p?TO(p.request_headers,n.networkRequestHeaders):{},m=TO(function(e){var t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce((e,t)=>{var[n,r]=t.split(": ");return r&&(e[n.toLowerCase()]=r),e;},{});}(s),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?SO(a):[void 0],[v,b]=n.networkCaptureBodies?function(e){var t=[];try{return[e.responseText];}catch(n){t.push(n);}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0];}catch(n){return sR&&dR.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"];}return sR&&dR.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"];}(e.response,e.responseType);}catch(n){t.push(n);}return sR&&dR.warn("Failed to get xhr response body",...t),[void 0];}(s):[void 0],_=IO(h,d,g),w=IO(m,f,v);return{startTimestamp:i,endTimestamp:o,url:c,method:u,statusCode:l,request:y?xO(_,y):_,response:b?xO(w,b):w};}(e,t,n),_i46=EO("resource.xhr",_r54);_O(n.replay,_i46);}catch(r){sR&&dR.exception(r,"Failed to capture xhr breadcrumb");}}function DO(e,t){var{xhr:n,input:r}=t;if(!n)return;var i=wO(r),o=n.getResponseHeader("content-length")?kO(n.getResponseHeader("content-length")):function(e,t){try{return wO("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e);}catch(n){return;}}(n.response,n.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o);}function BO(e){var t=Vk();try{var{networkDetailAllowUrls:_n79,networkDetailDenyUrls:_r55,networkCaptureBodies:_i47,networkRequestHeaders:_o30,networkResponseHeaders:_a20}=e.getOptions(),_s16={replay:e,networkDetailAllowUrls:_n79,networkDetailDenyUrls:_r55,networkCaptureBodies:_i47,networkRequestHeaders:_o30,networkResponseHeaders:_a20};t&&t.on("beforeAddBreadcrumb",(e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category;})(t)&&function(e){return e&&e.xhr;}(n)&&(DO(t,n),NO(t,n,e)),function(e){return"fetch"===e.category;}(t)&&function(e){return e&&e.response;}(n)&&(!function(e,t){var{input:n,response:r}=t,i=wO(n?OO(n):void 0),o=r?kO(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o);}(t,n),RO(t,n,e));}catch(r){sR&&dR.exception(r,"Error when enriching network breadcrumb");}}(_s16,e,t));}catch(n){}}function FO(e){var{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}};}function UO(e){var t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(sR&&dR.warn("Received replay event after session expired."));var i=r||!t;t=!0,e.clickDetector&&CR(e.clickDetector,n),e.addUpdate(()=>{if("buffer"===e.recordingMode&&i&&e.setInitialState(),!sO(e,n,i))return!0;if(!i)return!1;var t=e.session;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;sO(e,function(e){var t=e.getOptions();return{type:vA.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}};}(e),!1);}(e,i),t&&t.previousSessionId)return!0;if("buffer"===e.recordingMode&&t&&e.eventBuffer){var _n80=e.eventBuffer.getEarliestTimestamp();_n80&&(sR&&dR.info(`Updating session start time to earliest event in buffer to ${new Date(_n80)}`),t.started=_n80,e.getOptions().stickySession&&tO(t));}return"session"===e.recordingMode&&e.flush(),!0;});};}async function jO({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:o}){var a=function({recordingData:e,headers:t}){var n;var r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{var _t90=new TextEncoder().encode(r);n=new Uint8Array(_t90.length+e.length),n.set(_t90),n.set(e,_t90.length);}return n;}({recordingData:e,headers:{segment_id:n}}),{urls:s,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=Vk(),f=zk(),p=d&&d.getTransport(),h=d&&d.getDsn();if(!(d&&p&&h&&o.sampled))return zw({});var m={type:JT,replay_start_timestamp:l/1e3,timestamp:i/1e3,error_ids:c,trace_ids:u,urls:s,replay_id:t,segment_id:n,replay_type:o.sampled},g=await async function({client:e,scope:t,replayId:n,event:r}){var i={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit("preprocessEvent",r,i);var o=await lx(e.getOptions(),r,i,t,e,Hk());if(!o)return null;o.platform=o.platform||"javascript";var a=e.getSdkMetadata(),{name:s,version:c}=a&&a.sdk||{};return o.sdk={...o.sdk,name:s||"sentry.javascript.unknown",version:c||"0.0.0"},o;}({scope:f,client:d,replayId:t,event:m});if(!g)return d.recordDroppedEvent("event_processor","replay",m),sR&&dR.info("An event processor returned `null`, will not send event."),zw({});delete g.sdkProcessingMetadata;var y=function(e,t,n,r){return ak(vk(e,yk(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?new TextEncoder().encode(t).length:t.length},t]]);}(g,a,h,d.getOptions().tunnel);var v;try{v=await p.send(y);}catch(HD){var _t91=new Error(KT);try{_t91.cause=HD;}catch(_){}throw _t91;}if("number"==typeof v.statusCode&&(v.statusCode<200||v.statusCode>=300))throw new $O(v.statusCode);var b=kk({},v);if(wk(b,"replay"))throw new zO(b);return v;}class $O extends Error{constructor(e){super(`Transport returned status code ${e}`);}}class zO extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e;}}async function HO(e,t={count:0,interval:5e3}){var{recordingData:n,onError:r}=e;if(n.length)try{return await jO(e),!0;}catch(HD){if(HD instanceof $O||HD instanceof zO)throw HD;if(yx("Replays",{_retryCount:t.count}),r&&r(HD),t.count>=3){var _e76=new Error(`${KT} - max retries exceeded`);try{_e76.cause=HD;}catch(i){}throw _e76;}return t.interval*=++t.count,new Promise((n,r)=>{WI(async()=>{try{await HO(e,t),n(!0);}catch(i){r(i);}},t.interval);});}}var WO="__THROTTLED";function qO(e,t,n){var r=new Map();var i=!1;return(...o)=>{var a=Math.floor(Date.now()/1e3);if((e=>{var t=e-n;r.forEach((e,n)=>{n<t&&r.delete(n);});})(a),(()=>[...r.values()].reduce((e,t)=>e+t,0))()>=t){var _e77=i;return i=!0,_e77?"__SKIPPED":WO;}i=!1;var s=r.get(a)||0;return r.set(a,s+1),e(...o);};}class VO{constructor({options:e,recordingOptions:t}){VO.prototype.__init.call(this),VO.prototype.__init2.call(this),VO.prototype.__init3.call(this),VO.prototype.__init4.call(this),VO.prototype.__init5.call(this),VO.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set(),traceIds:new Set(),urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){var r,i,o;var a=n&&n.maxWait?Math.max(n.maxWait,t):0;function s(){return c(),r=e(),r;}function c(){void 0!==i&&clearTimeout(i),void 0!==o&&clearTimeout(o),i=o=void 0;}function u(){return i&&clearTimeout(i),i=WI(s,t),a&&void 0===o&&(o=WI(s,a)),r;}return u.cancel=c,u.flush=function(){return void 0!==i||void 0!==o?s():r;},u;}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=qO((e,t)=>function(e,t,n){return uO(e,t)?cO(e,t,n):Promise.resolve(null);}(this,e,t),300,5);var{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),i=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;if(i&&(this.clickDetector=new SR(this,i)),sR){var _t92=e._experiments;dR.setConfig({captureExceptions:!!_t92.captureExceptions,traceInternals:!!_t92.traceInternals});}}getContext(){return this._context;}isEnabled(){return this._isEnabled;}isPaused(){return this._isPaused;}isRecordingCanvas(){return Boolean(this._canvas);}getOptions(){return this._options;}handleException(e){sR&&dR.exception(e),this._options.onError&&this._options.onError(e);}initializeSampling(e){var{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;this._requiresManualStart=r,r||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",sR&&dR.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording()):sR&&dR.exception(new Error("Unable to initialize and create session")));}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(sR&&dR.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(sR&&dR.info("Buffering is in progress, call `flush()` to save the replay"));sR&&dR.infoTick("Starting replay in session mode"),this._updateUserActivity();var e=aO({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording();}startBuffering(){if(this._isEnabled)return void(sR&&dR.info("Buffering is in progress, call `flush()` to save the replay"));sR&&dR.infoTick("Starting replay in buffer mode");var e=aO({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording();}startRecording(){try{var _e78=this._canvas;this._stopRecording=aR({...this._recordingOptions,...("buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),emit:UO(this),onMutation:this._onMutationHandler,...(_e78?{recordCanvas:_e78.recordCanvas,getCanvasManager:_e78.getCanvasManager,sampling:_e78.sampling,dataURLOptions:_e78.dataURLOptions}:{})});}catch(HD){this.handleException(HD);}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0;}catch(HD){return this.handleException(HD),!1;}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{sR&&dR.info("Stopping Replay"+(t?` triggered by ${t}`:"")),function(){var e=zk().getPropagationContext().dsc;e&&delete e.replay_id;var t=kS();t&&delete BS(t).replay_id;}(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&(await this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,ZR(this);}catch(HD){this.handleException(HD);}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),sR&&dR.info("Pausing replay"));}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),sR&&dR.info("Resuming replay"));}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();var t=Date.now();sR&&dR.info("Converting buffer to session"),await this.flushImmediate();var n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording());}addUpdate(e){var t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush();}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume();}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity();}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate();}flush(){return this._debouncedFlush();}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush();}cancelFlush(){this._debouncedFlush.cancel();}getSessionId(){return this.session&&this.session.id;}checkAndHandleExpiredSession(){if(!(this._lastActivity&&rO(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause();}setInitialState(){var e=`${GT.location.pathname}${GT.location.hash}${GT.location.search}`,t=`${GT.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t);}throttledAddEvent(e,t){var n=this._throttledAddEvent(e,t);if(n===WO){var _e79=IR({category:"replay.throttled"});this.addUpdate(()=>!sO(this,{type:5,timestamp:_e79.timestamp||0,data:{tag:"breadcrumb",payload:_e79,metric:!0}}));}return n;}getCurrentRoute(){var e=this.lastActiveSpan||kS(),t=e&&wS(e),n=(t&&hS(t).data||{})[Jk];if(t&&n&&["route","custom"].includes(n))return hS(t).description;}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=KR({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording();}_initializeSessionForSampling(e){var t=this._options.errorSampleRate>0,n=aO({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n;}_checkSession(){if(!this.session)return!1;var e=this.session;return!oO(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1);}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id));}_addListeners(){try{GT.document.addEventListener("visibilitychange",this._handleVisibilityChange),GT.addEventListener("blur",this._handleWindowBlur),GT.addEventListener("focus",this._handleWindowFocus),GT.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){var t=Vk();DI(RR(e)),UI(bO(e)),mO(e),BO(e),xx(yO(e)),t&&(t.on("beforeSendEvent",hO(e)),t.on("afterSendEvent",pO(e)),t.on("createDsc",t=>{var n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n);}),t.on("spanStart",t=>{e.lastActiveSpan=t;}),t.on("spanEnd",t=>{e.lastActiveSpan=t;}),t.on("beforeSendFeedback",(t,n)=>{var r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r);}));}(this),this._hasInitializedCoreListeners=!0);}catch(HD){this.handleException(HD);}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t);}function n({entries:e}){e.forEach(t);}var r=[];return["navigation","paint","resource"].forEach(e=>{r.push(aI(e,n));}),r.push(rI(NR(FR,e)),nI(NR(jR,e)),iI(NR($R,e)),oI(NR(zR,e))),()=>{r.forEach(e=>e());};}(this);}_removeListeners(){try{GT.document.removeEventListener("visibilitychange",this._handleVisibilityChange),GT.removeEventListener("blur",this._handleWindowBlur),GT.removeEventListener("focus",this._handleWindowFocus),GT.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback();}catch(HD){this.handleException(HD);}}__init(){this._handleVisibilityChange=()=>{"visible"===GT.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks();};}__init2(){this._handleWindowBlur=()=>{var e=IR({category:"ui.blur"});this._doChangeToBackgroundTasks(e);};}__init3(){this._handleWindowFocus=()=>{var e=IR({category:"ui.focus"});this._doChangeToForegroundTasks(e);};}__init4(){this._handleKeyboardEvent=e=>{MR(this,e);};}_doChangeToBackgroundTasks(e){if(!this.session)return;iO(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush());}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):sR&&dR.info("Document has become active, but session has expired");}_updateUserActivity(e=Date.now()){this._lastActivity=e;}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession());}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:vA.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}});});}_addPerformanceEntries(){var e=function(e){return e.map(DR).filter(Boolean);}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(vO(this,e));}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[];}_updateInitialTimestampFromEventBuffer(){var{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart)return;if(e.segmentId)return;var n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n);}_popEventContext(){var e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e;}async _runFlush(){var e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(vO(e,[FO(GT.performance.memory)]));}catch(t){return[];}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();var _t93=Date.now();if(_t93-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");var _n81=this._popEventContext(),_r56=this.session.segmentId++;this._maybeSaveSession();var _i48=await this.eventBuffer.finish();await HO({replayId:e,recordingData:_i48,segmentId:_r56,eventContext:_n81,session:this.session,timestamp:_t93,onError:e=>this.handleException(e)});}catch(HD){this.handleException(HD),this.stop({reason:"sendReplay"});var _t94=Vk();if(_t94){var _n82=HD instanceof zO?"ratelimit_backoff":"send_error";_t94.recordDroppedEvent(_n82,"replay");}}}else sR&&dR.error("No session or eventBuffer found to flush.");}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(sR&&dR.error("Attempting to finish replay event after session expired."));if(!this.session)return;var t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();var r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i)return sR&&dR.info(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),void(r&&this._debouncedFlush());var o=this.eventBuffer;o&&0===this.session.segmentId&&!o.hasCheckout&&sR&&dR.info("Flushing initial segment without checkout.");var a=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock;}catch(HD){this.handleException(HD);}finally{this._flushLock=void 0,a&&this._debouncedFlush();}};}_maybeSaveSession(){this.session&&this._options.stickySession&&tO(this.session);}__init6(){this._onMutationHandler=e=>{var t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){var _e80=IR({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(_e80);}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1);};}}function GO(e,t){return[...e,...t].join(",");}var YO='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',JO=["content-length","content-type","accept"];var KO=!1;class XO{static __initStatic(){this.id="Replay";}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:s={},maskAllText:c=!0,maskAllInputs:u=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:d=750,mutationLimit:f=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:h=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:g=[],networkCaptureBodies:y=!0,networkRequestHeaders:v=[],networkResponseHeaders:b=[],mask:_=[],maskAttributes:w=["title","placeholder"],unmask:k=[],block:S=[],unblock:x=[],ignore:E=[],maskFn:C,beforeAddRecordingEvent:I,beforeErrorSampling:T}={}){this.name=XO.id;var P=function({mask:e,unmask:t,block:n,unblock:r,ignore:i}){return{maskTextSelector:GO(e,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:GO(t,[]),blockSelector:GO(n,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:GO(r,[]),ignoreSelector:GO(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])};}({mask:_,unmask:k,block:S,unblock:x,ignore:E});if(this._recordingOptions={maskAllInputs:u,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:C,maskInputFn:C,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:o}){return r?i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?o:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o;}({maskAttributes:w,maskAllText:c,privacyOptions:P,key:e,value:t,el:n}),...P,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0;}catch(t){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,eP),stickySession:i,useCompression:o,workerUrl:a,blockAllMedia:l,maskAllInputs:u,maskAllText:c,mutationBreadcrumbLimit:d,mutationLimit:f,slowClickTimeout:p,slowClickIgnoreSelectors:h,networkDetailAllowUrls:m,networkDetailDenyUrls:g,networkCaptureBodies:y,networkRequestHeaders:ZO(v),networkResponseHeaders:ZO(b),beforeAddRecordingEvent:I,beforeErrorSampling:T,_experiments:s},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${YO}`:YO),this._isInitialized&&Cw())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0;}get _isInitialized(){return KO;}set _isInitialized(e){KO=e;}afterAllSetup(e){Cw()&&!this._replay&&(this._setup(e),this._initialize(e));}start(){this._replay&&this._replay.start();}startBuffering(){this._replay&&this._replay.startBuffering();}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve();}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve();}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId();}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling());}_setup(e){var t=function(e,t){var n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...$_(e)},i=FS(n.replaysSessionSampleRate),o=FS(n.replaysOnErrorSampleRate);null==i&&null==o&&C_(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.");});null!=i&&(r.sessionSampleRate=i);null!=o&&(r.errorSampleRate=o);return r;}(this._initialOptions,e);this._replay=new VO({options:t,recordingOptions:this._recordingOptions});}_maybeLoadFromReplayCanvasIntegration(e){try{var _t95=e.getIntegrationByName("ReplayCanvas");if(!_t95)return;this._replay._canvas=_t95.getOptions();}catch(t){}}}function ZO(e){return[...JO,...e.map(e=>e.toLowerCase())];}var QO;function eM(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:eM(e.parentNode,t,n,r+1):-1;}function tM(e,t){return n=>{var r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0;}else if(function(e,t){for(var _n83=e.classList.length;_n83--;){var _r57=e.classList[_n83];if(t.test(_r57))return!0;}return!1;}(r,e))return!0;return!(!t||!r.matches(t));}catch(i){return!1;}};}XO.__initStatic(),function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment";}(QO||(QO={}));var nM="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";var rM={map:{},getId:()=>(console.error(nM),-1),getNode:()=>(console.error(nM),null),removeNodeFromMap(){console.error(nM);},has:()=>(console.error(nM),!1),reset(){console.error(nM);}};function iM(e,t,n,r,i=window){var o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){lM(()=>{n.set.call(this,e);},0),o&&o.set&&o.set.call(this,e);}}),()=>iM(e,t,o||{},!0);}function oM(e,t,n){try{if(!(t in e))return()=>{};var _r58=e[t],_i49=n(_r58);return"function"==typeof _i49&&(_i49.prototype=_i49.prototype||{},Object.defineProperties(_i49,{__rrweb_original__:{enumerable:!1,value:_r58}})),e[t]=_i49,()=>{e[t]=_r58;};}catch(r){return()=>{};}}function aM(e,t,n,r,i){if(!e)return!1;var o=function(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null;}(e);if(!o)return!1;var a=eM(o,tM(t,n));var s=-1;return!(a<0)&&(r&&(s=eM(o,tM(null,r))),a>-1&&s<0||a<s);}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(rM=new Proxy(rM,{get:(e,t,n)=>("map"===t&&console.error(nM),Reflect.get(e,t,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());var sM={};function cM(e){var t=sM[e];if(t)return t;var n=window.document;var r=window[e];if(n&&"function"==typeof n.createElement)try{var _t96=n.createElement("iframe");_t96.hidden=!0,n.head.appendChild(_t96);var _i50=_t96.contentWindow;_i50&&_i50[e]&&(r=_i50[e]),n.head.removeChild(_t96);}catch(i){}return sM[e]=r.bind(window);}function uM(...e){return cM("requestAnimationFrame")(...e);}function lM(...e){return cM("setTimeout")(...e);}var dM=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(dM||{});var fM;var pM=e=>{if(!fM)return e;return(...t)=>{try{return e(...t);}catch(n){if(fM&&!0===fM(n))return()=>{};throw n;}};};for(var hM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mM="undefined"==typeof Uint8Array?[]:new Uint8Array(256),gM=0;gM<64;gM++)mM[hM.charCodeAt(gM)]=gM;var yM=new Map();var vM=(e,t,n)=>{if(!e||!wM(e,t)&&"object"!=typeof e)return;var r=function(e,t){var n=yM.get(e);return n||(n=new Map(),yM.set(e,n)),n.has(t)||n.set(t,[]),n.get(t);}(n,e.constructor.name);var i=r.indexOf(e);return-1===i&&(i=r.length,r.push(e)),i;};function bM(e,t,n){if(e instanceof Array)return e.map(e=>bM(e,t,n));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]};}if(e instanceof ArrayBuffer){return{rr_type:e.constructor.name,base64:function(e){var t,n=new Uint8Array(e),r=n.length,i="";for(t=0;t<r;t+=3)i+=hM[n[t]>>2],i+=hM[(3&n[t])<<4|n[t+1]>>4],i+=hM[(15&n[t+1])<<2|n[t+2]>>6],i+=hM[63&n[t+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i;}(e)};}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[bM(e.buffer,t,n),e.byteOffset,e.byteLength]};}if(e instanceof HTMLImageElement){var _t97=e.constructor.name,{src:_n84}=e;return{rr_type:_t97,src:_n84};}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()};}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[bM(e.data,t,n),e.width,e.height]};}if(wM(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:vM(e,t,n)};}return e;}var _M=(e,t,n)=>e.map(e=>bM(e,t,n)),wM=(e,t)=>{var n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(e=>"function"==typeof t[e]);return Boolean(n.find(n=>e instanceof t[n]));};function kM(e,t,n,r,i){var o=[];try{var _a21=oM(e.HTMLCanvasElement.prototype,"getContext",function(e){return function(o,...a){if(!aM(this,t,n,r)){var _e81=function(e){return"experimental-webgl"===e?"webgl":e;}(o);if("__context"in this||(this.__context=_e81),i&&["webgl","webgl2"].includes(_e81))if(a[0]&&"object"==typeof a[0]){var _e82=a[0];_e82.preserveDrawingBuffer||(_e82.preserveDrawingBuffer=!0);}else a.splice(0,1,{preserveDrawingBuffer:!0});}return e.apply(this,[o,...a]);};});o.push(_a21);}catch(a){console.error("failed to patch HTMLCanvasElement.prototype.getContext");}return()=>{o.forEach(e=>e());};}function SM(e,t,n,r,i,o,a,s){var c=[],u=Object.getOwnPropertyNames(e);var _loop3=function(_d4){if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(_d4))try{if("function"!=typeof e[_d4])return 1;// continue
var _a22=oM(e,_d4,function(e){return function(...a){var c=e.apply(this,a);if(vM(c,s,this),"tagName"in this.canvas&&!aM(this.canvas,r,i,o)){var _e83=_M(a,s,this),_r59={type:t,property:_d4,args:_e83};n(this.canvas,_r59);}return c;};});c.push(_a22);}catch(l){var _r60=iM(e,_d4,{set(e){n(this.canvas,{type:t,property:_d4,args:[e],setter:!0});}});c.push(_r60);}};for(var _d4 of u){if(_loop3(_d4))continue;}return c;}class xM{reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(e=>{try{e();}catch(t){}}),this.restoreHandlers=[],this.windowsSet=new WeakSet(),this.windows=[],this.shadowDoms=new Set(),Sk([this,"access",e=>e.worker,"optionalAccess",e=>e.terminate,"call",e=>e()]),this.worker=null,this.snapshotInProgressMap=new Map(),(this.options.recordCanvas&&"number"==typeof this.options.sampling||this.options.enableManualSnapshot)&&(this.worker=this.initFPSWorker());}freeze(){this.frozen=!0;}unfreeze(){this.frozen=!1;}lock(){this.locked=!0;}unlock(){this.locked=!1;}constructor(e){this.pendingCanvasMutations=new Map(),this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set(),this.windowsSet=new WeakSet(),this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map(),this.worker=null,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t);};var{sampling:t="all",win:n,blockClass:r,blockSelector:i,unblockSelector:o,maxCanvasSize:a,recordCanvas:s,dataURLOptions:c,errorHandler:u}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,u&&function(e){fM=e;}(u),(s&&"number"==typeof t||e.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(n),e.enableManualSnapshot||pM(()=>{s&&"all"===t&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),s&&"number"==typeof t&&this.initCanvasFPSObserver(t,r,i,o,a,{dataURLOptions:c});})();}addWindow(e){var{sampling:t="all",blockClass:n,blockSelector:r,unblockSelector:i,recordCanvas:o,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(e)){if(a)return this.windowsSet.add(e),void this.windows.push(new WeakRef(e));pM(()=>{if(o&&"all"===t&&this.initCanvasMutationObserver(e,n,r,i),o&&"number"==typeof t){var _t98=kM(e,n,r,i,!0);this.restoreHandlers.push(()=>{_t98();});}})(),this.windowsSet.add(e),this.windows.push(new WeakRef(e));}}addShadowRoot(e){this.shadowDoms.add(new WeakRef(e));}resetShadowRoots(){this.shadowDoms=new Set();}initFPSWorker(){var e=new Worker(function(){var e=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(e);}());return e.onmessage=e=>{var t=e.data,{id:n}=t;if(this.snapshotInProgressMap.set(n,!1),!("base64"in t))return;var{base64:r,type:i,width:o,height:a}=t;this.mutationCb({id:n,type:dM["2D"],commands:[{property:"clearRect",args:[0,0,o,a]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:i}]},0,0,o,a]}]});},e;}initCanvasFPSObserver(e,t,n,r,i,o){var a=this.takeSnapshot(!1,e,t,n,r,i,o.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a);});}initCanvasMutationObserver(e,t,n,r){var i=kM(e,t,n,r,!1),o=function(e,t,n,r,i){var o=[],a=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);var _loop4=function(_c5){try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[_c5])return 1;// continue
var _a23=oM(t.CanvasRenderingContext2D.prototype,_c5,function(o){return function(...a){return aM(this.canvas,n,r,i)||lM(()=>{var n=_M(a,t,this);e(this.canvas,{type:dM["2D"],property:_c5,args:n});},0),o.apply(this,a);};});o.push(_a23);}catch(s){var _n85=iM(t.CanvasRenderingContext2D.prototype,_c5,{set(t){e(this.canvas,{type:dM["2D"],property:_c5,args:[t],setter:!0});}});o.push(_n85);}};for(var _c5 of a){if(_loop4(_c5))continue;}return()=>{o.forEach(e=>e());};}(this.processMutation.bind(this),e,t,n,r),a=function(e,t,n,r,i,o){var a=[];return a.push(...SM(t.WebGLRenderingContext.prototype,dM.WebGL,e,n,r,i,0,t)),void 0!==t.WebGL2RenderingContext&&a.push(...SM(t.WebGL2RenderingContext.prototype,dM.WebGL2,e,n,r,i,0,t)),()=>{a.forEach(e=>e());};}(this.processMutation.bind(this),e,t,n,r,this.mirror);this.restoreHandlers.push(()=>{i(),o(),a();});}snapshot(e){var{options:t}=this,n=this.takeSnapshot(!0,"all"===t.sampling?2:t.sampling||2,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.restoreHandlers.push(()=>{cancelAnimationFrame(n);});}takeSnapshot(e,t,n,r,i,o,a,s){var c=1e3/t;var u,l=0;var d=e=>{if(e)return[e];var t=[],o=e=>{e.querySelectorAll("canvas").forEach(e=>{aM(e,n,r,i)||t.push(e);});};for(var _n86 of this.windows){var _e84=_n86.deref();_e84&&o(_e84.document);}for(var _n87 of this.shadowDoms){var _e85=_n87.deref();_e85&&o(_e85);}return t;},f=t=>{this.windows.length&&(l&&t-l<c?u=uM(f):(l=t,d(s).forEach(t=>{if(!this.mirror.hasNode(t))return;var n=this.mirror.getId(t);if(!this.snapshotInProgressMap.get(n)&&t.width&&t.height){if(this.snapshotInProgressMap.set(n,!0),!e&&["webgl","webgl2"].includes(t.__context)){var _e86=t.getContext(t.__context);!1===Sk([_e86,"optionalAccess",e=>e.getContextAttributes,"call",e=>e(),"optionalAccess",e=>e.preserveDrawingBuffer])&&_e86.clear(_e86.COLOR_BUFFER_BIT);}createImageBitmap(t).then(e=>{Sk([this,"access",e=>e.worker,"optionalAccess",e=>e.postMessage,"call",r=>r({id:n,bitmap:e,width:t.width,height:t.height,dataURLOptions:a,maxCanvasSize:o},[e])]);}).catch(e=>{pM(()=>{throw e;})();});}}),e||(u=uM(f))));};return u=uM(f),u;}startPendingCanvasMutationFlusher(){uM(()=>this.flushPendingCanvasMutations());}startRAFTimestamping(){var e=t=>{this.rafStamps.latestId=t,uM(e);};uM(e);}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{var n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n);}),uM(()=>this.flushPendingCanvasMutations());}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;var n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;var r=n.map(e=>{var{type:t,...n}=e;return n;}),{type:i}=n[0];this.mutationCb({id:t,type:i,commands:r}),this.pendingCanvasMutations.delete(e);}}var EM={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},CM=1280,IM=Bx((e={})=>{var[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,CM):CM,n?Math.min(n,CM):CM]};var i;var o=new Promise(e=>i=e);return{name:"ReplayCanvas",getOptions(){var{quality:e,enableManualSnapshot:t,maxCanvasSize:n}=r;return{enableManualSnapshot:t,recordCanvas:!0,getCanvasManager:e=>{var r=new xM({...e,enableManualSnapshot:t,maxCanvasSize:n,errorHandler:e=>{try{"object"==typeof e&&(e.__rrweb__=!0);}catch(t){}}});return i(r),r;},...(EM[e||"medium"]||EM.medium)};},async snapshot(e){(await o).snapshot(e);}};}),TM=m_,PM=TM.document,AM=TM.navigator,RM="Report a Bug",OM="widget",MM=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");var n=Vk();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&zk().setTags(e.tags);var r=qE({source:"api",url:w_(),...e},t);return new Promise((e,t)=>{var i=setTimeout(()=>t("Unable to determine if Feedback was correctly sent."),5e3),o=n.on("afterSendEvent",(n,a)=>{if(n.event_id===r)return clearTimeout(i),o(),a&&"number"==typeof a.statusCode&&a.statusCode>=200&&a.statusCode<300&&e(r),a&&"number"==typeof a.statusCode&&0===a.statusCode?t("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):a&&"number"==typeof a.statusCode&&403===a.statusCode?t("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):t("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker");});});},LM="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function NM(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen&&t.onFormOpen(),e.onFormOpen&&e.onFormOpen();},onFormClose:()=>{t.onFormClose&&t.onFormClose(),e.onFormClose&&e.onFormClose();},onSubmitSuccess:n=>{t.onSubmitSuccess&&t.onSubmitSuccess(n),e.onSubmitSuccess&&e.onSubmitSuccess(n);},onSubmitError:n=>{t.onSubmitError&&t.onSubmitError(n),e.onSubmitError&&e.onSubmitError(n);},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted(),e.onFormSubmitted&&e.onFormSubmitted();},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}};}function DM(e,t){return Object.entries(t).forEach(([t,n])=>{e.setAttributeNS(null,t,n);}),e;}var BM=20,FM="http://www.w3.org/2000/svg";function UM({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){var i=PM.createElement("button");if(i.type="button",i.className="widget__actor",i.ariaHidden="false",i.ariaLabel=t||e||RM,i.appendChild(function(){var e=e=>TM.document.createElementNS(FM,e),t=DM(e("svg"),{width:`${BM}`,height:`${BM}`,viewBox:`0 0 ${BM} ${BM}`,fill:"var(--actor-color, var(--foreground))"}),n=DM(e("g"),{clipPath:"url(#clip0_57_80)"}),r=DM(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);var i=e("defs"),o=DM(e("clipPath"),{id:"clip0_57_80"}),a=DM(e("rect"),{width:`${BM}`,height:`${BM}`,fill:"white"});return o.appendChild(a),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(a),t;}()),e){var _t99=PM.createElement("span");_t99.appendChild(PM.createTextNode(e)),i.appendChild(_t99);}var o=function(e){var t=PM.createElement("style");return t.textContent='\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden="true"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n',e&&t.setAttribute("nonce",e),t;}(r);return{el:i,appendToDom(){n.appendChild(o),n.appendChild(i);},removeFromDom(){n.removeChild(i),n.removeChild(o);},show(){i.ariaHidden="false";},hide(){i.ariaHidden="true";}};}var jM="rgba(88, 74, 192, 1)",$M={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:jM,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},zM={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:jM,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function HM(e){return`\n  --foreground: ${e.foreground};\n  --background: ${e.background};\n  --accent-foreground: ${e.accentForeground};\n  --accent-background: ${e.accentBackground};\n  --success-color: ${e.successColor};\n  --error-color: ${e.errorColor};\n  --border: ${e.border};\n  --box-shadow: ${e.boxShadow};\n  --outline: ${e.outline};\n  --interactive-filter: ${e.interactiveFilter};\n  `;}var WM=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:r="sentry-feedback",autoInject:i=!0,showBranding:o=!0,isEmailRequired:a=!1,isNameRequired:s=!1,showEmail:c=!0,showName:u=!0,enableScreenshot:l=!0,useSentryUser:d={email:"email",name:"username"},tags:f,styleNonce:p,scriptNonce:h,colorScheme:m="system",themeLight:g={},themeDark:y={},addScreenshotButtonLabel:v="Add a screenshot",cancelButtonLabel:b="Cancel",confirmButtonLabel:_="Confirm",emailLabel:w="Email",emailPlaceholder:k="your.email@example.org",formTitle:S="Report a Bug",isRequiredLabel:x="(required)",messageLabel:E="Description",messagePlaceholder:C="What's the bug? What did you expect?",nameLabel:I="Name",namePlaceholder:T="Your Name",removeScreenshotButtonLabel:P="Remove screenshot",submitButtonLabel:A="Send Bug Report",successMessageText:R="Thank you for your report!",triggerLabel:O=RM,triggerAriaLabel:M="",onFormOpen:L,onFormClose:N,onSubmitSuccess:D,onSubmitError:B,onFormSubmitted:F}={})=>{var U={id:r,autoInject:i,showBranding:o,isEmailRequired:a,isNameRequired:s,showEmail:c,showName:u,enableScreenshot:l,useSentryUser:d,tags:f,styleNonce:p,scriptNonce:h,colorScheme:m,themeDark:y,themeLight:g,triggerLabel:O,triggerAriaLabel:M,cancelButtonLabel:b,submitButtonLabel:A,confirmButtonLabel:_,formTitle:S,emailLabel:w,emailPlaceholder:k,messageLabel:E,messagePlaceholder:C,nameLabel:I,namePlaceholder:T,successMessageText:R,isRequiredLabel:x,addScreenshotButtonLabel:v,removeScreenshotButtonLabel:P,onFormClose:N,onFormOpen:L,onSubmitError:B,onSubmitSuccess:D,onFormSubmitted:F};var j=null,$=[];var z=e=>{if(!j){var _t100=PM.createElement("div");_t100.id=String(e.id),PM.body.appendChild(_t100),j=_t100.attachShadow({mode:"open"}),j.appendChild(function({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){var i=PM.createElement("style");return i.textContent=`\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${"system"!==e?"color-scheme: only light;":""}\n\n  ${HM("dark"===e?{...zM,...t}:{...$M,...n})}\n}\n\n${"system"===e?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${HM({...zM,...t})}\n  }\n}`:""}\n}\n`,r&&i.setAttribute("nonce",r),i;}(e));}return j;},H=async(t,n,r)=>{var i=Vk(),o=i&&i.getIntegrationByName(t);if(o)return o;var a=(n&&n()||(await e(r,h)))();return i&&i.addIntegration(a),a;},W=async e=>{var r=e.enableScreenshot&&function(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(AM.userAgent)||/Macintosh/i.test(AM.userAgent)&&AM.maxTouchPoints&&AM.maxTouchPoints>1||!isSecureContext);}(),[i,o]=await Promise.all([H("FeedbackModal",t,"feedbackModalIntegration"),r?H("FeedbackScreenshot",n,"feedbackScreenshotIntegration"):void 0]);if(!i)throw LM&&I_.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");r&&!o&&LM&&I_.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.");var a=i.createDialog({options:{...e,onFormClose:()=>{a&&a.close(),e.onFormClose&&e.onFormClose();},onFormSubmitted:()=>{a&&a.close(),e.onFormSubmitted&&e.onFormSubmitted();}},screenshotIntegration:r?o:void 0,sendFeedback:MM,shadow:z(e)});return a;},q=(e,t={})=>{var n=NM(U,t),r="string"==typeof e?PM.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)throw LM&&I_.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");var i=null;var o=async()=>{i||(i=await W({...n,onFormSubmitted:()=>{i&&i.removeFromDom(),n.onFormSubmitted&&n.onFormSubmitted();}})),i.appendToDom(),i.open();};r.addEventListener("click",o);var a=()=>{$=$.filter(e=>e!==a),i&&i.removeFromDom(),i=null,r.removeEventListener("click",o);};return $.push(a),a;},V=(e={})=>{var t=NM(U,e),n=z(t),r=UM({triggerLabel:t.triggerLabel,triggerAriaLabel:t.triggerAriaLabel,shadow:n,styleNonce:p});return q(r.el,{...t,onFormOpen(){r.hide();},onFormClose(){r.show();},onFormSubmitted(){r.show();}}),r;};return{name:"Feedback",setupOnce(){Cw()&&U.autoInject&&("loading"===PM.readyState?PM.addEventListener("DOMContentLoaded",()=>V().appendToDom()):V().appendToDom());},attachTo:q,createWidget(e={}){var t=V(NM(U,e));return t.appendToDom(),t;},createForm:async(e={})=>W(NM(U,e)),remove(){j&&(j.parentElement&&j.parentElement.remove(),j=null),$.forEach(e=>e()),$=[];}};};var qM,VM,GM,YM,JM,KM,XM,ZM={},QM=[],eL=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,tL=Array.isArray;function nL(e,t){for(var n in t)e[n]=t[n];return e;}function rL(e){var t=e.parentNode;t&&t.removeChild(e);}function iL(e,t,n){var r,i,o,a={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?qM.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return oL(e,a,r,i,null);}function oL(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++GM:i,__i:-1,__u:0};return null==i&&null!=VM.vnode&&VM.vnode(o),o;}function aL(e){return e.children;}function sL(e,t){this.props=e,this.context=t;}function cL(e,t){if(null==t)return e.__?cL(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?cL(e):null;}function uL(e,t,n){var r,i=e.__v,o=i.__e,a=e.__P;if(a)return(r=nL({},i)).__v=i.__v+1,VM.vnode&&VM.vnode(r),_L(a,r,i,e.__n,void 0!==a.ownerSVGElement,32&i.__u?[o]:null,t,null==o?cL(i):o,!!(32&i.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&lL(r),r;}function lL(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break;}return lL(e);}}function dL(e){(!e.__d&&(e.__d=!0)&&YM.push(e)&&!fL.__r++||JM!==VM.debounceRendering)&&((JM=VM.debounceRendering)||KM)(fL);}function fL(){var e,t,n,r=[],i=[];for(YM.sort(XM);e=YM.shift();)e.__d&&(n=YM.length,t=uL(e,r,i)||t,0===n||YM.length>n?(wL(r,t,i),i.length=r.length=0,t=void 0,YM.sort(XM)):t&&VM.__c&&VM.__c(t,QM));t&&wL(r,t,i),fL.__r=0;}function pL(e,t,n,r,i,o,a,s,c,u,l){var d,f,p,h,m,g=r&&r.__k||QM,y=t.length;for(n.__d=c,function(e,t,n){var r,i,o,a,s,c=t.length,u=n.length,l=u,d=0;for(e.__k=[],r=0;r<c;r++)null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?oL(null,i,null,null,i):tL(i)?oL(aL,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?oL(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,s=mL(i,n,a=r+d,l),i.__i=s,o=null,-1!==s&&(l--,(o=n[s])&&(o.__u|=131072)),null==o||null===o.__v?(-1==s&&d--,"function"!=typeof i.type&&(i.__u|=65536)):s!==a&&(s===a+1?d++:s>a?l>c-a?d+=s-a:d--:d=s<a&&s==a-1?s-a:0,s!==r+d&&(i.__u|=65536))):(o=n[r])&&null==o.key&&o.__e&&(o.__e==e.__d&&(e.__d=cL(o)),SL(o,o,!1),n[r]=null,l--);if(l)for(r=0;r<u;r++)null!=(o=n[r])&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=cL(o)),SL(o,o));}(n,t,g),c=n.__d,d=0;d<y;d++)null!=(p=n.__k[d])&&"boolean"!=typeof p&&"function"!=typeof p&&(f=-1===p.__i?ZM:g[p.__i]||ZM,p.__i=d,_L(e,p,f,i,o,a,s,c,u,l),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&kL(f.ref,null,p),l.push(p.ref,p.__c||h,p)),null==m&&null!=h&&(m=h),65536&p.__u||f.__k===p.__k?c=hL(p,c,e):"function"==typeof p.type&&void 0!==p.__d?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=m;}function hL(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=hL(r[i],t,n));return t;}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling;}while(null!=t&&8===t.nodeType);return t;}function mL(e,t,n,r){var i=e.key,o=e.type,a=n-1,s=n+1,c=t[n];if(null===c||c&&i==c.key&&o===c.type)return n;if(r>(null==c||131072&c.__u?0:1))for(;a>=0||s<t.length;){if(a>=0){if((c=t[a])&&!(131072&c.__u)&&i==c.key&&o===c.type)return a;a--;}if(s<t.length){if((c=t[s])&&!(131072&c.__u)&&i==c.key&&o===c.type)return s;s++;}}return-1;}function gL(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||eL.test(t)?n:n+"px";}function yL(e,t,n,r,i){var o;e:if("style"===t){if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||gL(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||gL(e.style,t,n[t]);}}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?bL:vL,o)):e.removeEventListener(t,o?bL:vL,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e;}catch(a){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n));}}function vL(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return;}else e.t=Date.now();return t(VM.event?VM.event(e):e);}}function bL(e){if(this.l)return this.l[e.type+!0](VM.event?VM.event(e):e);}function _L(e,t,n,r,i,o,a,s,c,u){var l,d,f,p,h,m,g,y,v,b,_,w,k,S,x,E=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),o=[s=t.__e=n.__e]),(l=VM.__b)&&l(t);e:if("function"==typeof E)try{if(y=t.props,v=(l=E.contextType)&&r[l.__c],b=l?v?v.props.value:l.__:r,n.__c?g=(d=t.__c=n.__c).__=d.__E:("prototype"in E&&E.prototype.render?t.__c=d=new E(y,b):(t.__c=d=new sL(y,b),d.constructor=E,d.render=xL),v&&v.sub(d),d.props=y,d.state||(d.state={}),d.context=b,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=E.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=nL({},d.__s)),nL(d.__s,E.getDerivedStateFromProps(y,d.__s))),p=d.props,h=d.state,d.__v=t,f)null==E.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==E.getDerivedStateFromProps&&y!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(y,b),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(y,d.__s,b)||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=y,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t);}),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[],d.__h.length&&a.push(d);break e;}null!=d.componentWillUpdate&&d.componentWillUpdate(y,d.__s,b),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(p,h,m);});}if(d.context=b,d.props=y,d.__P=e,d.__e=!1,w=VM.__r,k=0,"prototype"in E&&E.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(t),l=d.render(d.props,d.state,d.context),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[];}else do{d.__d=!1,w&&w(t),l=d.render(d.props,d.state,d.context),d.state=d.__s;}while(d.__d&&++k<25);d.state=d.__s,null!=d.getChildContext&&(r=nL(nL({},r),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(p,h)),pL(e,tL(x=null!=l&&l.type===aL&&null==l.key?l.props.children:l)?x:[x],t,n,r,i,o,a,s,c,u),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),g&&(d.__E=d.__=null);}catch(C){t.__v=null,c||null!=o?(t.__e=s,t.__u|=c?160:32,o[o.indexOf(s)]=null):(t.__e=n.__e,t.__k=n.__k),VM.__e(C,t,n);}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,o,a,s,c){var u,l,d,f,p,h,m,g=n.props,y=t.props,v=t.type;if("svg"===v&&(i=!0),null!=o)for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!v&&(v?p.localName===v:3===p.nodeType)){e=p,o[u]=null;break;}if(null==e){if(null===v)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),o=null,s=!1;}if(null===v)g===y||s&&e.data===y||(e.data=y);else{if(o=o&&qM.call(e.childNodes),g=n.props||ZM,!s&&null!=o)for(g={},u=0;u<e.attributes.length;u++)g[(p=e.attributes[u]).name]=p.value;for(u in g)p=g[u],"children"==u||("dangerouslySetInnerHTML"==u?d=p:"key"===u||u in y||yL(e,u,null,p,i));for(u in y)p=y[u],"children"==u?f=p:"dangerouslySetInnerHTML"==u?l=p:"value"==u?h=p:"checked"==u?m=p:"key"===u||s&&"function"!=typeof p||g[u]===p||yL(e,u,p,g[u],i);if(l)s||d&&(l.__html===d.__html||l.__html===e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(d&&(e.innerHTML=""),pL(e,tL(f)?f:[f],t,n,r,i&&"foreignObject"!==v,o,a,o?o[0]:n.__k&&cL(n,0),s,c),null!=o)for(u=o.length;u--;)null!=o[u]&&rL(o[u]);s||(u="value",void 0!==h&&(h!==e[u]||"progress"===v&&!h||"option"===v&&h!==g[u])&&yL(e,u,h,g[u],!1),u="checked",void 0!==m&&m!==e[u]&&yL(e,u,m,g[u],!1));}return e;}(n.__e,t,n,r,i,o,a,c,u);(l=VM.diffed)&&l(t);}function wL(e,t,n){for(var r=0;r<n.length;r++)kL(n[r],n[++r],n[++r]);VM.__c&&VM.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t);});}catch(n){VM.__e(n,t.__v);}});}function kL(e,t,n){try{"function"==typeof e?e(t):e.current=t;}catch(r){VM.__e(r,n);}}function SL(e,t,n){var r,i;if(VM.unmount&&VM.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||kL(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount();}catch(o){VM.__e(o,t);}r.base=r.__P=null,e.__c=void 0;}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&SL(r[i],t,n||"function"!=typeof e.type);n||null==e.__e||rL(e.__e),e.__=e.__e=e.__d=void 0;}function xL(e,t,n){return this.constructor(e,n);}qM=QM.slice,VM={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i;}catch(s){e=s;}throw e;}},GM=0,sL.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=nL({},this.state),"function"==typeof e&&(e=e(nL({},n),this.props)),e&&nL(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),dL(this));},sL.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),dL(this));},sL.prototype.render=aL,YM=[],KM="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,XM=function(e,t){return e.__v.__b-t.__v.__b;},fL.__r=0;var EL,CL,IL,TL,PL=0,AL=[],RL=[],OL=VM,ML=OL.__b,LL=OL.__r,NL=OL.diffed,DL=OL.__c,BL=OL.unmount,FL=OL.__;function UL(e,t){OL.__h&&OL.__h(CL,e,PL||t),PL=0;var n=CL.__H||(CL.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:RL}),n.__[e];}function jL(e){return PL=1,$L(XL,e);}function $L(e,t,n){var r=UL(EL++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):XL(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}));}],r.__c=CL,!CL.u)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter(function(e){return!!e.__c;});if(i.every(function(e){return!e.__N;}))return!o||o.call(this,e,t,n);var a=!1;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0);}}),!(!a&&r.__c.props===e)&&(!o||o.call(this,e,t,n));};CL.u=!0;var o=CL.shouldComponentUpdate,a=CL.componentWillUpdate;CL.componentWillUpdate=function(e,t,n){if(this.__e){var r=o;o=void 0,i(e,t,n),o=r;}a&&a.call(this,e,t,n);},CL.shouldComponentUpdate=i;}return r.__N||r.__;}function zL(e,t){var n=UL(EL++,4);!OL.__s&&KL(n.__H,t)&&(n.__=e,n.i=t,CL.__h.push(n));}function HL(e,t){var n=UL(EL++,7);return KL(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__;}function WL(e,t){return PL=8,HL(function(){return e;},t);}function qL(){for(var e;e=AL.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(YL),e.__H.__h.forEach(JL),e.__H.__h=[];}catch(t){e.__H.__h=[],OL.__e(t,e.__v);}}OL.__b=function(e){CL=null,ML&&ML(e);},OL.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),FL&&FL(e,t);},OL.__r=function(e){LL&&LL(e),EL=0;var t=(CL=e.__c).__H;t&&(IL===CL?(t.__h=[],CL.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=RL,e.__N=e.i=void 0;})):(t.__h.forEach(YL),t.__h.forEach(JL),t.__h=[],EL=0)),IL=CL;},OL.diffed=function(e){NL&&NL(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==AL.push(t)&&TL===OL.requestAnimationFrame||((TL=OL.requestAnimationFrame)||GL)(qL)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==RL&&(e.__=e.__V),e.i=void 0,e.__V=RL;})),IL=CL=null;},OL.__c=function(e,t){t.some(function(e){try{e.__h.forEach(YL),e.__h=e.__h.filter(function(e){return!e.__||JL(e);});}catch(n){t.some(function(e){e.__h&&(e.__h=[]);}),t=[],OL.__e(n,e.__v);}}),DL&&DL(e,t);},OL.unmount=function(e){BL&&BL(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{YL(e);}catch(n){t=n;}}),n.__H=void 0,t&&OL.__e(t,n.__v));};var VL="function"==typeof requestAnimationFrame;function GL(e){var t,n=function(){clearTimeout(r),VL&&cancelAnimationFrame(t),setTimeout(e);},r=setTimeout(n,100);VL&&(t=requestAnimationFrame(n));}function YL(e){var t=CL,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),CL=t;}function JL(e){var t=CL;e.__c=e.__(),CL=t;}function KL(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n];});}function XL(e,t){return"function"==typeof t?t(e):t;}var ZL={__proto__:null,useCallback:WL,useContext:function(e){var t=CL.context[e.__c],n=UL(EL++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(CL)),t.props.value):e.__;},useDebugValue:function(e,t){OL.useDebugValue&&OL.useDebugValue(t?t(e):e);},useEffect:function(e,t){var n=UL(EL++,3);!OL.__s&&KL(n.__H,t)&&(n.__=e,n.i=t,CL.__H.__h.push(n));},useErrorBoundary:function(e){var t=UL(EL++,10),n=jL();return t.__=e,CL.componentDidCatch||(CL.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e);}),[n[0],function(){n[1](void 0);}];},useId:function(){var e=UL(EL++,11);if(!e.__){for(var t=CL.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++;}return e.__;},useImperativeHandle:function(e,t,n){PL=6,zL(function(){return"function"==typeof e?(e(t()),function(){return e(null);}):e?(e.current=t(),function(){return e.current=null;}):void 0;},null==n?n:n.concat(e));},useLayoutEffect:zL,useMemo:HL,useReducer:$L,useRef:function(e){return PL=5,HL(function(){return{current:e};},[]);},useState:jL},QL="http://www.w3.org/2000/svg";function eN(){var e=e=>PM.createElementNS(QL,e),t=DM(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=DM(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t;}var tN="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function nN({options:e}){var t=HL(()=>({__html:eN().outerHTML}),[]);return iL("h2",{class:"dialog__header",__self:this,__source:{fileName:tN,lineNumber:16}},e.formTitle,e.showBranding?iL("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t,__self:this,__source:{fileName:tN,lineNumber:19}}):null);}var rN="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function iN(e,t){var n=e.get(t);return"string"==typeof n?n.trim():"";}function oN({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:i,onSubmitSuccess:o,onSubmitError:a,showEmail:s,showName:c,screenshotInput:u}){var{tags:l,addScreenshotButtonLabel:d,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:m,isEmailRequired:g,isNameRequired:y,messageLabel:v,messagePlaceholder:b,nameLabel:_,namePlaceholder:w,submitButtonLabel:k,isRequiredLabel:S}=e,[x,E]=jL(null),[C,I]=jL(!1),T=u&&u.input,[P,A]=jL(null),R=WL(e=>{A(e),I(!1);},[]),O=WL(e=>{var t=function(e,t){var n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n;}(e,{emailLabel:h,isEmailRequired:g,isNameRequired:y,messageLabel:v,nameLabel:_});return t.length>0?E(`Please enter in the following required fields: ${t.join(", ")}`):E(null),0===t.length;},[h,g,y,v,_]);return iL("form",{class:"form",onSubmit:WL(async e=>{try{if(e.preventDefault(),!(e.target instanceof HTMLFormElement))return;var _n88=new FormData(e.target),_r61=await(u&&C?u.value():void 0),_s17={name:iN(_n88,"name"),email:iN(_n88,"email"),message:iN(_n88,"message"),attachments:_r61?[_r61]:void 0};if(!O(_s17))return;try{await i({name:_s17.name,email:_s17.email,message:_s17.message,source:OM,tags:l},{attachments:_s17.attachments}),o(_s17);}catch(t){LM&&I_.error(t),E(t),a(t);}}catch(n){}},[u&&C,o,a]),__self:this,__source:{fileName:rN,lineNumber:144}},T&&C?iL(T,{onError:R,__self:this,__source:{fileName:rN,lineNumber:146}}):null,iL("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:rN,lineNumber:149}},iL("div",{class:"form__top",__self:this,__source:{fileName:rN,lineNumber:150}},x?iL("div",{class:"form__error-container",__self:this,__source:{fileName:rN,lineNumber:151}},x):null,c?iL("label",{for:"name",class:"form__label",__self:this,__source:{fileName:rN,lineNumber:154}},iL(aN,{label:_,isRequiredLabel:S,isRequired:y,__self:this,__source:{fileName:rN,lineNumber:155}}),iL("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:w,required:y,type:"text",__self:this,__source:{fileName:rN,lineNumber:156}})):iL("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden",__self:this,__source:{fileName:rN,lineNumber:167}}),s?iL("label",{for:"email",class:"form__label",__self:this,__source:{fileName:rN,lineNumber:171}},iL(aN,{label:h,isRequiredLabel:S,isRequired:g,__self:this,__source:{fileName:rN,lineNumber:172}}),iL("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:g,type:"email",__self:this,__source:{fileName:rN,lineNumber:173}})):iL("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden",__self:this,__source:{fileName:rN,lineNumber:184}}),iL("label",{for:"message",class:"form__label",__self:this,__source:{fileName:rN,lineNumber:187}},iL(aN,{label:v,isRequiredLabel:S,isRequired:!0,__self:this,__source:{fileName:rN,lineNumber:188}}),iL("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:b,required:!0,rows:5,__self:this,__source:{fileName:rN,lineNumber:189}})),T?iL("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:rN,lineNumber:201}},iL("button",{class:"btn btn--default",type:"button",onClick:()=>{A(null),I(e=>!e);},__self:this,__source:{fileName:rN,lineNumber:202}},C?f:d),P?iL("div",{class:"form__error-container",__self:this,__source:{fileName:rN,lineNumber:212}},P.message):null):null),iL("div",{class:"btn-group",__self:this,__source:{fileName:rN,lineNumber:216}},iL("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:rN,lineNumber:217}},k),iL("button",{class:"btn btn--default",type:"button",onClick:r,__self:this,__source:{fileName:rN,lineNumber:220}},p))));}function aN({label:e,isRequired:t,isRequiredLabel:n}){return iL("span",{class:"form__label__text",__self:this,__source:{fileName:rN,lineNumber:239}},e,t&&iL("span",{class:"form__label__text--required",__self:this,__source:{fileName:rN,lineNumber:241}},n));}var sN=16,cN=17,uN="http://www.w3.org/2000/svg";function lN(){var e=e=>TM.document.createElementNS(uN,e),t=DM(e("svg"),{width:`${sN}`,height:`${cN}`,viewBox:`0 0 ${sN} ${cN}`,fill:"inherit"}),n=DM(e("g"),{clipPath:"url(#clip0_57_156)"}),r=DM(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=DM(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(i,r);var o=e("defs"),a=DM(e("clipPath"),{id:"clip0_57_156"}),s=DM(e("rect"),{width:`${sN}`,height:`${sN}`,fill:"white",transform:"translate(0 0.5)"});return a.appendChild(s),o.appendChild(a),t.appendChild(o).appendChild(a).appendChild(s),t;}var dN="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function fN({open:e,onFormSubmitted:t,...n}){var r=n.options,i=HL(()=>({__html:lN().outerHTML}),[]),[o,a]=jL(null),s=WL(()=>{o&&(clearTimeout(o),a(null)),t();},[o]),c=WL(e=>{n.onSubmitSuccess(e),a(setTimeout(()=>{t(),a(null);},5e3));},[t]);return iL(aL,{__self:this,__source:{fileName:dN,lineNumber:48}},o?iL("div",{class:"success__position",onClick:s,__self:this,__source:{fileName:dN,lineNumber:50}},iL("div",{class:"success__content",__self:this,__source:{fileName:dN,lineNumber:51}},r.successMessageText,iL("span",{class:"success__icon",dangerouslySetInnerHTML:i,__self:this,__source:{fileName:dN,lineNumber:53}}))):iL("dialog",{class:"dialog",onClick:r.onFormClose,open:e,__self:this,__source:{fileName:dN,lineNumber:57}},iL("div",{class:"dialog__position",__self:this,__source:{fileName:dN,lineNumber:58}},iL("div",{class:"dialog__content",onClick:e=>{e.stopPropagation();},__self:this,__source:{fileName:dN,lineNumber:59}},iL(nN,{options:r,__self:this,__source:{fileName:dN,lineNumber:66}}),iL(oN,{...n,onSubmitSuccess:c,__self:this,__source:{fileName:dN,lineNumber:67}})))));}var pN=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{var i=r,o=e.useSentryUser,a=function(){var e=zk().getUser(),t=Hk().getUser(),n=Wk().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n;}(),s=PM.createElement("div"),c=function(e){var t=PM.createElement("style");return t.textContent="\n:host {\n  --dialog-inset: var(--inset);\n}\n\n\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n\n\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  width: var(--form-width, 272px);\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n}\n\n@media (max-width: 600px) {\n  .form__right {\n    width: var(--form-width, 100%);\n  }\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n\n\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n\n",e&&t.setAttribute("nonce",e),t;}(e.styleNonce);var u="";var l={get el(){return s;},appendToDom(){i.contains(c)||i.contains(s)||(i.appendChild(c),i.appendChild(s));},removeFromDom(){i.removeChild(s),i.removeChild(c),PM.body.style.overflow=u;},open(){f(!0),e.onFormOpen&&e.onFormOpen(),u=PM.body.style.overflow,PM.body.style.overflow="hidden";},close(){f(!1),PM.body.style.overflow=u;}},d=t&&t.createInput({h:iL,hooks:ZL,dialog:l,options:e}),f=t=>{!function(e,t,n){var r,i,o,a;VM.__&&VM.__(e,t),i=(r="function"==typeof n)?null:t.__k,o=[],a=[],_L(t,e=(!r&&n||t).__k=iL(aL,null,[e]),i||ZM,ZM,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?qM.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r,a),e.__d=void 0,wL(o,e,a);}(iL(fN,{options:e,screenshotInput:d,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&a&&a[o.name]||"",defaultEmail:o&&a&&a[o.email]||"",onFormClose:()=>{f(!1),e.onFormClose&&e.onFormClose();},onSubmit:n,onSubmitSuccess:t=>{f(!1),e.onSubmitSuccess&&e.onSubmitSuccess(t);},onSubmitError:t=>{e.onSubmitError&&e.onSubmitError(t);},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted();},open:t,__self:void 0,__source:{fileName:"/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx",lineNumber:67}}),s);};return l;}}),hN="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/CropCorner.tsx";function mN(e){var t=PM.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`\n.editor {\n  padding: 10px;\n  padding-top: 65px;\n  padding-bottom: 65px;\n  flex-grow: 1;\n\n  background-color: ${n};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${n} 8px,\n      ${n} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${r} 15px,\n      ${r} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container canvas {\n  object-fit: contain;\n  position: relative;\n}\n\n.editor__crop-btn-group {\n  padding: 8px;\n  gap: 8px;\n  border-radius: var(--menu-border-radius, 6px);\n  background: var(--button-primary-background, var(--background));\n  width: 175px;\n  position: absolute;\n}\n\n.editor__crop-corner {\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  background: none;\n  border: 3px solid #ffffff;\n}\n\n.editor__crop-corner--top-left {\n  cursor: nwse-resize;\n  border-right: none;\n  border-bottom: none;\n}\n.editor__crop-corner--top-right {\n  cursor: nesw-resize;\n  border-left: none;\n  border-bottom: none;\n}\n.editor__crop-corner--bottom-left {\n  cursor: nesw-resize;\n  border-right: none;\n  border-top: none;\n}\n.editor__crop-corner--bottom-right {\n  cursor: nwse-resize;\n  border-left: none;\n  border-top: none;\n}\n`,e&&t.setAttribute("nonce",e),t;}var gN="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",yN=33,vN=TM.devicePixelRatio,bN=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),_N=e=>{var t=e.clientHeight,n=e.clientWidth,r=e.width/e.height;var i=t*r,o=t;i>n&&(i=n,o=n/r);var a=(n-i)/2,s=(t-o)/2;return{startX:a,startY:s,endX:i+a,endY:o+s};};function wN({h:e,hooks:t,imageBuffer:n,dialog:r,options:i}){var o=function({hooks:e}){return function({onBeforeScreenshot:t,onScreenshot:n,onAfterScreenshot:r,onError:i}){e.useEffect(()=>{(async()=>{t();var e=await AM.mediaDevices.getDisplayMedia({video:{width:TM.innerWidth*TM.devicePixelRatio,height:TM.innerHeight*TM.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),i=PM.createElement("video");await new Promise((t,r)=>{i.srcObject=e,i.onloadedmetadata=()=>{n(i),e.getTracks().forEach(e=>e.stop()),t();},i.play().catch(r);}),r();})().catch(i);},[]);};}({hooks:t});return function({onError:a}){var s=t.useMemo(()=>({__html:mN(i.styleNonce).innerText}),[]),c=function({h:e}){return function({top:t,left:n,corner:r,onGrabButton:i}){return e("button",{class:`editor__crop-corner editor__crop-corner--${r} `,style:{top:t,left:n},onMouseDown:e=>{e.preventDefault(),i(e,r);},onClick:e=>{e.preventDefault();},__self:this,__source:{fileName:hN,lineNumber:22}});};}({h:e}),u=t.useRef(null),l=t.useRef(null),d=t.useRef(null),[f,p]=t.useState({startX:0,startY:0,endX:0,endY:0}),[h,m]=t.useState(!1),[g,y]=t.useState(!1);function v(){var e=d.current,t=bN(_N(n));if(e){e.width=t.width*vN,e.height=t.height*vN,e.style.width=`${t.width}px`,e.style.height=`${t.height}px`;var _n89=e.getContext("2d");_n89&&_n89.scale(vN,vN);}var r=l.current;r&&(r.style.width=`${t.width}px`,r.style.height=`${t.height}px`),p({startX:0,startY:0,endX:t.width,endY:t.height});}function b(e,t){m(!1),y(!0);var n=_(t),r=()=>{PM.removeEventListener("mousemove",n),PM.removeEventListener("mouseup",r),m(!0),y(!1);};PM.addEventListener("mouseup",r),PM.addEventListener("mousemove",n);}t.useEffect(()=>{TM.addEventListener("resize",v,!1);},[]),t.useEffect(()=>{var e=d.current;if(!e)return;var t=e.getContext("2d");if(!t)return;var r=bN(_N(n)),i=bN(f);t.clearRect(0,0,r.width,r.height),t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(0,0,r.width,r.height),t.clearRect(i.x,i.y,i.width,i.height),t.strokeStyle="#ffffff",t.lineWidth=3,t.strokeRect(i.x+1,i.y+1,i.width-2,i.height-2),t.strokeStyle="#000000",t.lineWidth=1,t.strokeRect(i.x+3,i.y+3,i.width-6,i.height-6);},[f]);var _=t.useCallback(e=>function(t){if(!d.current)return;var n=d.current,r=n.getBoundingClientRect(),i=t.clientX-r.x,o=t.clientY-r.y;switch(e){case"top-left":p(e=>({...e,startX:Math.min(Math.max(0,i),e.endX-yN),startY:Math.min(Math.max(0,o),e.endY-yN)}));break;case"top-right":p(e=>({...e,endX:Math.max(Math.min(i,n.width/vN),e.startX+yN),startY:Math.min(Math.max(0,o),e.endY-yN)}));break;case"bottom-left":p(e=>({...e,startX:Math.min(Math.max(0,i),e.endX-yN),endY:Math.max(Math.min(o,n.height/vN),e.startY+yN)}));break;case"bottom-right":p(e=>({...e,endX:Math.max(Math.min(i,n.width/vN),e.startX+yN),endY:Math.max(Math.min(o,n.height/vN),e.startY+yN)}));}},[]),w=t.useRef({initialX:0,initialY:0});return o({onBeforeScreenshot:t.useCallback(()=>{r.el.style.display="none";},[]),onScreenshot:t.useCallback(e=>{var t=n.getContext("2d");if(!t)throw new Error("Could not get canvas context");n.width=e.videoWidth,n.height=e.videoHeight,n.style.width="100%",n.style.height="100%",t.drawImage(e,0,0);},[n]),onAfterScreenshot:t.useCallback(()=>{r.el.style.display="block";var e=u.current;e&&e.appendChild(n),v();},[]),onError:t.useCallback(e=>{r.el.style.display="block",a(e);},[])}),e("div",{class:"editor",__self:this,__source:{fileName:gN,lineNumber:315}},e("style",{nonce:i.styleNonce,dangerouslySetInnerHTML:s,__self:this,__source:{fileName:gN,lineNumber:316}}),e("div",{class:"editor__canvas-container",ref:u,__self:this,__source:{fileName:gN,lineNumber:317}},e("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:l,__self:this,__source:{fileName:gN,lineNumber:318}},e("canvas",{onMouseDown:function(e){if(g)return;w.current={initialX:e.clientX,initialY:e.clientY};var t=e=>{var t=d.current;if(!t)return;var n=e.clientX-w.current.initialX,r=e.clientY-w.current.initialY;p(i=>{var o=Math.max(0,Math.min(i.startX+n,t.width/vN-(i.endX-i.startX))),a=Math.max(0,Math.min(i.startY+r,t.height/vN-(i.endY-i.startY))),s=o+(i.endX-i.startX),c=a+(i.endY-i.startY);return w.current.initialX=e.clientX,w.current.initialY=e.clientY,{startX:o,startY:a,endX:s,endY:c};});},n=()=>{PM.removeEventListener("mousemove",t),PM.removeEventListener("mouseup",n);};PM.addEventListener("mousemove",t),PM.addEventListener("mouseup",n);},style:{position:"absolute",cursor:h?"move":"auto"},ref:d,__self:this,__source:{fileName:gN,lineNumber:319}}),e(c,{left:f.startX-3,top:f.startY-3,onGrabButton:b,corner:"top-left",__self:this,__source:{fileName:gN,lineNumber:324}}),e(c,{left:f.endX-30+3,top:f.startY-3,onGrabButton:b,corner:"top-right",__self:this,__source:{fileName:gN,lineNumber:330}}),e(c,{left:f.startX-3,top:f.endY-30+3,onGrabButton:b,corner:"bottom-left",__self:this,__source:{fileName:gN,lineNumber:336}}),e(c,{left:f.endX-30+3,top:f.endY-30+3,onGrabButton:b,corner:"bottom-right",__self:this,__source:{fileName:gN,lineNumber:342}}),e("div",{style:{left:Math.max(0,f.endX-191),top:Math.max(0,f.endY+8),display:h?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:gN,lineNumber:348}},e("button",{onClick:e=>{e.preventDefault(),d.current&&p({startX:0,startY:0,endX:d.current.width/vN,endY:d.current.height/vN}),m(!1);},class:"btn btn--default",__self:this,__source:{fileName:gN,lineNumber:356}},i.cancelButtonLabel),e("button",{onClick:e=>{e.preventDefault(),function(){var e=PM.createElement("canvas"),t=bN(_N(n)),r=bN(f);e.width=r.width*vN,e.height=r.height*vN;var i=e.getContext("2d");i&&n&&i.drawImage(n,r.x/t.width*n.width,r.y/t.height*n.height,r.width/t.width*n.width,r.height/t.height*n.height,0,0,e.width,e.height);var o=n.getContext("2d");o&&(o.clearRect(0,0,n.width,n.height),n.width=e.width,n.height=e.height,n.style.width=`${r.width}px`,n.style.height=`${r.height}px`,o.drawImage(e,0,0),v());}(),m(!1);},class:"btn btn--primary",__self:this,__source:{fileName:gN,lineNumber:373}},i.confirmButtonLabel)))));};}var kN=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{var i=PM.createElement("canvas");return{input:wN({h:e,hooks:t,imageBuffer:i,dialog:n,options:r}),value:async()=>{var e=await new Promise(e=>{i.toBlob(e,"image/png");});if(e){return{data:new Uint8Array(await e.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"};}}};}}),SN=WM({lazyLoadIntegration:LT}),xN=WM({lazyLoadIntegration:LT,getModalIntegration:()=>pN,getScreenshotIntegration:()=>kN});var EN={increment:function(e,t=1,n){DE.increment(HE,e,t,n);},distribution:function(e,t,n){DE.distribution(HE,e,t,n);},set:function(e,t,n){DE.set(HE,e,t,n);},gauge:function(e,t,n){DE.gauge(HE,e,t,n);},timing:function(e,t,n="second",r){return DE.timing(HE,e,t,n,r);}},CN=new WeakMap(),IN=new Map(),TN={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function PN(e,t){var{traceFetch:n,traceXHR:r,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a}={traceFetch:TN.traceFetch,traceXHR:TN.traceXHR,...t},s="function"==typeof i?i:e=>!0,c=e=>function(e,t){var n=GE.location&&GE.location.href;if(n){var _i51,_o31;try{_i51=new URL(e,n),_o31=new URL(n).origin;}catch(r){return!1;}var _a24=_i51.origin===_o31;return t?c_(_i51.toString(),t)||_a24&&c_(_i51.pathname,t):_a24;}{var _n90=!!e.match(/^\/(?!\/)/);return t?c_(e,t):_n90;}}(e,a),u={};n&&(e.addEventProcessor(e=>("transaction"===e.type&&e.spans&&e.spans.forEach(e=>{if("http.client"===e.op){var _t101=IN.get(e.span_id);_t101&&(e.timestamp=_t101/1e3,IN.delete(e.span_id));}}),e)),function(e){var t="fetch-body-resolved";tw(t,e),nw(t,()=>mw(gw));}(e=>{if(e.response){var _t102=CN.get(e.response);_t102&&e.endTimestamp&&IN.set(_t102,e.endTimestamp);}}),hw(e=>{var t=WE(e,s,c,u);if(e.response&&e.fetchData.__span&&CN.set(e.response,e.fetchData.__span),t){var _n91=ON(e.fetchData.url),_r62=_n91?Vw(_n91).host:void 0;t.setAttributes({"http.url":_n91,"server.address":_r62});}o&&t&&AN(t);})),r&&VI(e=>{var t=function(e,t,n,r){var i=e.xhr,o=i&&i[qI];if(!i||i.__sentry_own_request__||!o)return;var a=AS()&&t(o.url);if(e.endTimestamp&&a){var _e87=i.__sentry_xhr_span_id__;if(!_e87)return;var _t103=r[_e87];return void(_t103&&void 0!==o.status_code&&(sS(_t103,o.status_code),_t103.end(),delete r[_e87]));}var s=ON(o.url),c=s?Vw(s).host:void 0,u=!!kS(),l=a&&u?VS({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":s,url:o.url,"server.address":c,[Zk]:"auto.http.browser",[Xk]:"http.client"}}):new RS();i.__sentry_xhr_span_id__=l.spanContext().spanId,r[i.__sentry_xhr_span_id__]=l;var d=Vk();i.setRequestHeader&&n(o.url)&&d&&function(e,t,n){var r=zk(),i=Hk(),{traceId:o,spanId:a,sampled:s,dsc:c}={...i.getPropagationContext(),...r.getPropagationContext()},u=n&&AS()?dS(n):ok(o,a,s),l=tk(c||(n?BS(n):DS(o,t)));!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Kw,n);}catch(r){}}(e,u,l);}(i,d,AS()&&u?l:void 0);return l;}(e,s,c,u);o&&t&&AN(t);});}function AN(e){var{url:t}=hS(e).data||{};if(!t||"string"!=typeof t)return;var n=aI("resource",({entries:r})=>{r.forEach(r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType);}(r)&&r.name.endsWith(t)){(function(e){var{name:t,version:n}=function(e){var t="unknown",n="unknown",r="";for(var _i52 of e){if("/"===_i52){[t,n]=e.split("/");break;}if(!isNaN(Number(_i52))){t="h"===r?"http":r,n=e.split(r)[1];break;}r+=_i52;}r===e&&(t=r);return{name:t,version:n};}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!pw)return r;return[...r,["http.request.redirect_start",RN(e.redirectStart)],["http.request.fetch_start",RN(e.fetchStart)],["http.request.domain_lookup_start",RN(e.domainLookupStart)],["http.request.domain_lookup_end",RN(e.domainLookupEnd)],["http.request.connect_start",RN(e.connectStart)],["http.request.secure_connection_start",RN(e.secureConnectionStart)],["http.request.connection_end",RN(e.connectEnd)],["http.request.request_start",RN(e.requestStart)],["http.request.response_start",RN(e.responseStart)],["http.request.response_end",RN(e.responseEnd)]];})(r).forEach(t=>e.setAttribute(...t)),setTimeout(n);}});});}function RN(e=0){return((pw||performance.timeOrigin)+e)/1e3;}function ON(e){try{return new URL(e,GE.location.origin).href;}catch(t){return;}}var MN={...ex,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...TN},LN=(e={})=>{ES();var{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:o},beforeStartSpan:a,idleTimeout:s,finalTimeout:c,childSpanTimeout:u,markBackgroundSpan:l,traceFetch:d,traceXHR:f,shouldCreateSpanForRequest:p,enableHTTPTimings:h,instrumentPageLoad:m,instrumentNavigation:g}={...MN,...e},y=II({recordClsStandaloneSpans:o||!1});t&&KI(),r&&m_.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function(){new PerformanceObserver(e=>{if(kS())for(var _t104 of e.getEntries()){if(!_t104.scripts[0])continue;var _e88=_I(pw+_t104.startTime),_n92=_I(_t104.duration),_r63={[Zk]:"auto.ui.browser.metrics"},_i53=_t104.scripts[0],{invoker:_o32,invokerType:_a25,sourceURL:_s18,sourceFunctionName:_c6,sourceCharPosition:_u7}=_i53;_r63["browser.script.invoker"]=_o32,_r63["browser.script.invoker_type"]=_a25,_s18&&(_r63["code.filepath"]=_s18),_c6&&(_r63["code.function"]=_c6),-1!==_u7&&(_r63["browser.script.source_char_position"]=_u7);var _l5=VS({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:_e88,attributes:_r63});_l5&&_l5.end(_e88+_n92);}}).observe({type:"long-animation-frame",buffered:!0});}():n&&function(){aI("longtask",({entries:e})=>{if(kS())for(var _t105 of e){var _e89=_I(pw+_t105.startTime),_n93=_I(_t105.duration),_r64=VS({name:"Main UI thread blocked",op:"ui.long-task",startTime:_e89,attributes:{[Zk]:"auto.ui.browser.metrics"}});_r64&&_r64.end(_e89+_n93);}});}(),i&&function(){aI("event",({entries:e})=>{if(kS())for(var _t106 of e)if("click"===_t106.name){var _e90=_I(pw+_t106.startTime),_n94=_I(_t106.duration),_r65={name:b_(_t106.target),op:`ui.interaction.${_t106.name}`,startTime:_e90,attributes:{[Zk]:"auto.ui.browser.metrics"}},_i54=k_(_t106.target);_i54&&(_r65.attributes["ui.component_name"]=_i54);var _o33=VS(_r65);_o33&&_o33.end(_e90+_n94);}});}();var v={name:void 0,source:void 0};function b(e,t){var n="pageload"===t.op,r=a?a(t):t,i=r.attributes||{};t.name!==r.name&&(i[Jk]="custom",r.attributes=i),v.name=r.name,v.source=i[Jk];var l=ox(r,{idleTimeout:s,finalTimeout:c,childSpanTimeout:u,disableAutoFinish:n,beforeSpanEnd:e=>{y(),TI(e,{recordClsOnPageloadSpan:!o});}});function d(){["interactive","complete"].includes(GE.document.readyState)&&e.emit("idleSpanEnableAutoFinish",l);}return n&&GE.document&&(GE.document.addEventListener("readystatechange",()=>{d();}),d()),l;}return{name:"BrowserTracing",afterAllSetup(e){var n,r=GE.location&&GE.location.href;e.on("startNavigationSpan",t=>{Vk()===e&&(n&&!hS(n).timestamp&&(XE&&I_.log(`[Tracing] Finishing current root span with op: ${hS(n).op}`),n.end()),n=b(e,{op:"navigation",...t}));}),e.on("startPageLoadSpan",(t,r={})=>{if(Vk()!==e)return;n&&!hS(n).timestamp&&(XE&&I_.log(`[Tracing] Finishing current root span with op: ${hS(n).op}`),n.end());var i=ik(r.sentryTrace||BN("sentry-trace"),r.baggage||BN("baggage"));zk().setPropagationContext(i),n=b(e,{op:"pageload",...t});}),e.on("spanEnd",e=>{var t=hS(e).op;if(e!==wS(e)||"navigation"!==t&&"pageload"!==t)return;var n=zk(),r=n.getPropagationContext();n.setPropagationContext({...r,sampled:void 0!==r.sampled?r.sampled:mS(e),dsc:r.dsc||BS(e)});}),GE.location&&(m&&NN(e,{name:GE.location.pathname,startTime:pw?pw/1e3:void 0,attributes:{[Jk]:"url",[Zk]:"auto.pageload.browser"}}),g&&UI(({to:t,from:n})=>{void 0===n&&r&&-1!==r.indexOf(t)?r=void 0:n!==t&&(r=void 0,DN(e,{name:GE.location.pathname,attributes:{[Jk]:"url",[Zk]:"auto.navigation.browser"}}));})),l&&function(){GE&&GE.document?GE.document.addEventListener("visibilitychange",()=>{var e=kS();if(!e)return;var t=wS(e);if(GE.document.hidden&&t){var _e91="cancelled",{op:_n95,status:_r66}=hS(t);XE&&I_.log(`[Tracing] Transaction: ${_e91} -> since tab moved to the background, op: ${_n95}`),_r66||t.setStatus({code:oS,message:_e91}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end();}}):XE&&I_.warn("[Tracing] Could not set up background tab detection due to lack of global document");}(),i&&function(e,t,n,r){var i;var o=()=>{var o="ui.action.click",a=kS(),s=a&&wS(a);if(s){var _e92=hS(s).op;if(["navigation","pageload"].includes(_e92))return void(XE&&I_.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`));}i&&(i.setAttribute(Qk,"interactionInterrupted"),i.end(),i=void 0),r.name?i=ox({name:r.name,op:o,attributes:{[Jk]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n}):XE&&I_.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);};GE.document&&addEventListener("click",o,{once:!1,capture:!0});}(s,c,u,v),t&&function(e){var t=({entries:e})=>{var t=kS(),n=t&&wS(t);e.forEach(e=>{if(!function(e){return"duration"in e;}(e)||!n)return;var t=e.interactionId;if(null!=t&&!JI.has(t)){if(YI.length>10){var _e93=YI.shift();JI.delete(_e93);}YI.push(t),JI.set(t,n);}});};aI("event",t),aI("first-input",t);}(),PN(e,{traceFetch:d,traceXHR:f,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:p,enableHTTPTimings:h});}};};function NN(e,t,n){e.emit("startPageLoadSpan",t,n),zk().setTransactionName(t.name);var r=kS();return"pageload"===(r&&hS(r).op)?r:void 0;}function DN(e,t){Hk().setPropagationContext(xk()),zk().setPropagationContext(xk()),e.emit("startNavigationSpan",t),zk().setTransactionName(t.name);var n=kS();return"navigation"===(n&&hS(n).op)?n:void 0;}function BN(e){var t=function(e){return y_.document&&y_.document.querySelector?y_.document.querySelector(e):null;}(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0;}function FN(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error);});}function UN(e){return FN(e.getAllKeys());}function jN(e){var t;function n(){return null==t&&(t=function(e,t){var n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);var r=FN(n);return e=>r.then(n=>e(n.transaction(t,"readwrite").objectStore(t)));}(e.dbName||"sentry-offline",e.storeName||"queue")),t;}return{push:async t=>{try{var _r67=await dk(t);await function(e,t,n){return e(e=>UN(e).then(r=>{if(!(r.length>=n))return e.put(t,Math.max(...r,0)+1),FN(e.transaction);}));}(n(),_r67,e.maxQueueSize||30);}catch(r){}},unshift:async t=>{try{var _r68=await dk(t);await function(e,t,n){return e(e=>UN(e).then(r=>{if(!(r.length>=n))return e.put(t,Math.min(...r,0)-1),FN(e.transaction);}));}(n(),_r68,e.maxQueueSize||30);}catch(r){}},shift:async()=>{try{var _e94=await function(e){return e(e=>UN(e).then(t=>{var n=t[0];if(null!=n)return FN(e.get(n)).then(t=>(e.delete(n),FN(e.transaction).then(()=>t)));}));}(n());if(_e94)return fk(_e94);}catch(e){}}};}var $N=1e6,zN=String(0),HN="main";var WN="",qN="",VN="",GN=GE.navigator&&GE.navigator.userAgent||"",YN="";var JN=GE.navigator&&GE.navigator.language||GE.navigator&&GE.navigator.languages&&GE.navigator.languages[0]||"";var KN=GE.navigator&&GE.navigator.userAgentData;function XN(e){return function(e){return!("thread_metadata"in e);}(e)?function(e){var t,n=0;var r={samples:[],stacks:[],frames:[],thread_metadata:{[zN]:{name:HN}}},i=e.samples[0];if(!i)return r;var o=i.timestamp,a="number"==typeof performance.timeOrigin?performance.timeOrigin:pw||0,s=a-(pw||a);return e.samples.forEach((i,a)=>{if(void 0===i.stackId)return void 0===t&&(t=n,r.stacks[t]=[],n++),void(r.samples[a]={elapsed_since_start_ns:((i.timestamp+s-o)*$N).toFixed(0),stack_id:t,thread_id:zN});var c=e.stacks[i.stackId];var u=[];for(;c;){u.push(c.frameId);var _t107=e.frames[c.frameId];_t107&&void 0===r.frames[c.frameId]&&(r.frames[c.frameId]={function:_t107.name,abs_path:"number"==typeof _t107.resourceId?e.resources[_t107.resourceId]:void 0,lineno:_t107.line,colno:_t107.column}),c=void 0===c.parentId?void 0:e.stacks[c.parentId];}var l={elapsed_since_start_ns:((i.timestamp+s-o)*$N).toFixed(0),stack_id:n,thread_id:zN};r.stacks[n]=u,r.samples[a]=l,n++;}),r;}(e):e;}function ZN(e,t,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);var i=function(e){var t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return"string"==typeof t&&32!==t.length&&XE&&I_.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t?"":t;}(r),o=XN(n),a=t||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:1e3*fw()),s="number"==typeof r.timestamp?1e3*r.timestamp:1e3*fw();return{event_id:e,timestamp:new Date(a).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||MS,runtime:{name:"javascript",version:GE.navigator.userAgent},os:{name:WN,version:qN,build_number:GN},device:{locale:JN,model:YN,manufacturer:GN,architecture:VN,is_emulator:!1},debug_meta:{images:tD(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||Iw(),trace_id:i,active_thread_id:zN,relative_start_ns:"0",relative_end_ns:(1e6*(s-a)).toFixed(0)}]};}function QN(e){return"pageload"===hS(e).op;}(function(e){return"object"==typeof e&&null!==e&&"getHighEntropyValues"in e;})(KN)&&KN.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(WN=e.platform||"",VN=e.architecture||"",YN=e.model||"",qN=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){var _t108=e.fullVersionList[e.fullVersionList.length-1];GN=`${_t108.brand} ${_t108.version}`;}}).catch(e=>{});var eD=new WeakMap();function tD(e){var t=m_._sentryDebugIds;if(!t)return[];var n=Vk(),r=n&&n.getOptions(),i=r&&r.stackParser;if(!i)return[];var o;var a=eD.get(i);a?o=a:(o=new Map(),eD.set(i,o));var s=Object.keys(t).reduce((e,n)=>{var r;var a=o.get(n);a?r=a:(r=i(n),o.set(n,r));for(var _i55=r.length-1;_i55>=0;_i55--){var _o34=r[_i55],_a26=_o34&&_o34.filename;if(_o34&&_a26){e[_a26]=t[n];break;}}return e;},{}),c=[];for(var _u8 of e)_u8&&s[_u8]&&c.push({type:"sourcemap",code_file:_u8,debug_id:s[_u8]});return c;}var nD=!1;var rD=3e4;function iD(e){if(nD)return XE&&I_.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return XE&&I_.log("[Profiling] Discarding profile because transaction was not sampled."),!1;var t=Vk(),n=t&&t.getOptions();if(!n)return XE&&I_.log("[Profiling] Profiling disabled, no options found."),!1;var r=n.profilesSampleRate;if(!function(e){return"number"!=typeof e&&"boolean"!=typeof e||"number"==typeof e&&isNaN(e)?(XE&&I_.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!0===e||!1===e||!(e<0||e>1)||(XE&&I_.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1);}(r))return XE&&I_.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;if(!r)return XE&&I_.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(XE&&I_.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1);}function oD(e,t,n,r){return function(e){return e.samples.length<2?(XE&&I_.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(XE&&I_.log("[Profiling] Discarding profile because it contains no frames"),!1);}(n)?ZN(e,t,n,r):null;}var aD=new Map();function sD(e){var t=aD.get(e);return t&&aD.delete(e),t;}function cD(e){var t;QN(e)&&(t=1e3*fw());var n=function(){var e=GE.Profiler;if(!function(e){return"function"==typeof e;}(e))return void(XE&&I_.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));var t=Math.floor(rD/10);try{return new e({sampleInterval:10,maxBufferSize:t});}catch(n){XE&&(I_.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),I_.log("[Profiling] Disabling profiling for current user session.")),nD=!0;}}();if(!n)return;XE&&I_.log(`[Profiling] started profiling span: ${hS(e).description}`);var r=Iw();async function i(){if(e&&n)return n.stop().then(t=>{o&&(GE.clearTimeout(o),o=void 0),XE&&I_.log(`[Profiling] stopped profiling of span: ${hS(e).description}`),t?function(e,t){if(aD.set(e,t),aD.size>30){var _e95=aD.keys().next().value;aD.delete(_e95);}}(r,t):XE&&I_.log(`[Profiling] profiler returned null profile for: ${hS(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");}).catch(e=>{XE&&I_.log("[Profiling] error while stopping profiler:",e);});}zk().setContext("profile",{profile_id:r,start_timestamp:t});var o=GE.setTimeout(()=>{XE&&I_.log("[Profiling] max profile duration elapsed, stopping profiling for:",hS(e).description),i();},rD);var a=e.end.bind(e);e.end=function(){return e?(i().then(()=>{a();},()=>{a();}),e):a();};}var uD=Bx(()=>({name:"BrowserProfiling",setup(e){var t=kS(),n=t&&wS(t);n&&QN(n)&&iD(n)&&cD(n),e.on("spanStart",e=>{e===wS(e)&&iD(e)&&cD(e);}),e.on("beforeEnvelope",e=>{if(!function(){return aD.size;}())return;var t=function(e){var t=[];return ck(e,(e,n)=>{if("transaction"===n)for(var _r69=1;_r69<e.length;_r69++){var _n96=e[_r69];_n96&&_n96.contexts&&_n96.contexts.profile&&_n96.contexts.profile.profile_id&&t.push(e[_r69]);}}),t;}(e);if(!t.length)return;var n=[];for(var _r70 of t){var _e96=_r70&&_r70.contexts,_t109=_e96&&_e96.profile&&_e96.profile.profile_id,_i56=_e96&&_e96.profile&&_e96.profile.start_timestamp;if("string"!=typeof _t109){XE&&I_.log("[Profiling] cannot find profile for a span without a profile context");continue;}if(!_t109){XE&&I_.log("[Profiling] cannot find profile for a span without a profile context");continue;}_e96&&_e96.profile&&delete _e96.profile;var _o35=sD(_t109);if(!_o35){XE&&I_.log(`[Profiling] Could not retrieve profile for span: ${_t109}`);continue;}var _a27=oD(_t109,_i56,_o35,_r70);_a27&&n.push(_a27);}!function(e,t){if(!t.length)return e;for(var _n97 of t)e[1].push([{type:"profile"},_n97]);}(e,n);});}}));function lD(e,{componentStack:t},n){if(function(e){var t=e.match(/^([^.]+)/);return null!==t&&parseInt(t[0])>=17;}($s.version)&&Vb(e)&&t){var _n98=new Error(e.message);_n98.name=`React ErrorBoundary ${e.name}`,_n98.stack=t,function(e,t){var n=new WeakSet();!function e(t,r){if(!n.has(t))return t.cause?(n.add(t),e(t.cause,r)):void(t.cause=r);}(e,t);}(e,_n98);}return hx(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}});}var dD,fD,pD,hD,mD={exports:{}},gD={};function yD(){return fD||(fD=1,mD.exports=function(){if(dD)return gD;dD=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var f=e.$$typeof;switch(f){case t:switch(e=e.type){case c:case u:case r:case o:case i:case d:return e;default:switch(e=e&&e.$$typeof){case s:case l:case h:case p:case a:return e;default:return f;}}case n:return f;}}}function _(e){return b(e)===u;}return gD.AsyncMode=c,gD.ConcurrentMode=u,gD.ContextConsumer=s,gD.ContextProvider=a,gD.Element=t,gD.ForwardRef=l,gD.Fragment=r,gD.Lazy=h,gD.Memo=p,gD.Portal=n,gD.Profiler=o,gD.StrictMode=i,gD.Suspense=d,gD.isAsyncMode=function(e){return _(e)||b(e)===c;},gD.isConcurrentMode=_,gD.isContextConsumer=function(e){return b(e)===s;},gD.isContextProvider=function(e){return b(e)===a;},gD.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t;},gD.isForwardRef=function(e){return b(e)===l;},gD.isFragment=function(e){return b(e)===r;},gD.isLazy=function(e){return b(e)===h;},gD.isMemo=function(e){return b(e)===p;},gD.isPortal=function(e){return b(e)===n;},gD.isProfiler=function(e){return b(e)===o;},gD.isStrictMode=function(e){return b(e)===i;},gD.isSuspense=function(e){return b(e)===d;},gD.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===o||e===i||e===d||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===p||e.$$typeof===a||e.$$typeof===s||e.$$typeof===l||e.$$typeof===g||e.$$typeof===y||e.$$typeof===v||e.$$typeof===m);},gD.typeOf=b,gD;}()),mD.exports;}var vD=T(function(){if(hD)return pD;hD=1;var e=yD(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function o(n){return e.isMemo(n)?r:i[n.$$typeof]||t;}i[e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[e.Memo]=r;var a=Object.defineProperty,s=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,d=Object.prototype;return pD=function e(t,r,i){if("string"!=typeof r){if(d){var f=l(r);f&&f!==d&&e(t,f,i);}var p=s(r);c&&(p=p.concat(c(r)));for(var h=o(t),m=o(r),g=0;g<p.length;++g){var y=p[g];if(!(n[y]||i&&i[y]||m&&m[y]||h&&h[y])){var v=u(r,y);try{a(t,y,v);}catch(b){}}}}return t;};}()),bD="ui.react.render",_D="ui.react.mount";class wD extends $s.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0};}constructor(e){super(e);var{name:t,disabled:n=!1}=this.props;n||(this._mountSpan=VS({name:`<${t}>`,onlyIfParent:!0,op:_D,attributes:{[Zk]:"auto.ui.react.profiler","ui.component_name":t}}));}componentDidMount(){this._mountSpan&&this._mountSpan.end();}shouldComponentUpdate({updateProps:e,includeUpdates:t=!0}){if(t&&this._mountSpan&&e!==this.props.updateProps){var _t110=Object.keys(e).filter(t=>e[t]!==this.props.updateProps[t]);if(_t110.length>0){var _e97=fw();this._updateSpan=GS(this._mountSpan,()=>VS({name:`<${this.props.name}>`,onlyIfParent:!0,op:"ui.react.update",startTime:_e97,attributes:{[Zk]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":_t110}}));}}return!0;}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0);}componentWillUnmount(){var e=fw(),{name:t,includeRender:n=!0}=this.props;if(this._mountSpan&&n){var _n99=hS(this._mountSpan).timestamp;GS(this._mountSpan,()=>{var r=VS({onlyIfParent:!0,name:`<${t}>`,op:bD,startTime:_n99,attributes:{[Zk]:"auto.ui.react.profiler","ui.component_name":t}});r&&r.end(e);});}}render(){return this.props.children;}}wD.__initStatic();var kD="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,SD={componentStack:null,error:null,eventId:null};class xD extends $s.Component{constructor(e){super(e),xD.prototype.__init.call(this),this.state=SD,this._openFallbackReportDialog=!0;var t=Vk();t&&e.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=t.on("afterSendEvent",t=>{!t.type&&this._lastEventId&&t.event_id===this._lastEventId&&RT({...e.dialogOptions,eventId:this._lastEventId});}));}componentDidCatch(e,t){var{componentStack:n}=t,r=null==n?void 0:n,{beforeCapture:i,onError:o,showDialog:a,dialogOptions:s}=this.props;qk(c=>{i&&i(c,e,r);var u=lD(e,t,{mechanism:{handled:!!this.props.fallback}});o&&o(e,r,u),a&&(this._lastEventId=u,this._openFallbackReportDialog&&RT({...s,eventId:u})),this.setState({error:e,componentStack:n,eventId:u});});}componentDidMount(){var{onMount:e}=this.props;e&&e();}componentWillUnmount(){var{error:e,componentStack:t,eventId:n}=this.state,{onUnmount:r}=this.props;r&&r(e,t,n),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0);}__init(){this.resetErrorBoundary=()=>{var{onReset:e}=this.props,{error:t,componentStack:n,eventId:r}=this.state;e&&e(t,n,r),this.setState(SD);};}render(){var{fallback:e,children:t}=this.props,n=this.state;if(n.error){var _t111;return _t111="function"==typeof e?$s.createElement(e,{error:n.error,componentStack:n.componentStack,resetError:this.resetErrorBoundary,eventId:n.eventId}):e,$s.isValidElement(_t111)?_t111:(e&&kD&&I_.warn("fallback did not produce a valid ReactElement"),null);}return"function"==typeof t?t():t;}}var ED={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function CD(e,t,n,r){var i=t.pathname;n({location:t,routes:e},(e,t,n)=>{if(e||!n)return r(i);var o=function(e){if(!Array.isArray(e)||0===e.length)return"";var t=e.filter(e=>!!e.path);var n=-1;for(var _r71=t.length-1;_r71>=0;_r71--){var _e98=t[_r71];if(_e98.path&&_e98.path.startsWith("/")){n=_r71;break;}}return t.slice(n).filter(({path:e})=>!!e).map(({path:e})=>e).join("");}(n.routes||[]);return 0===o.length||"/*"===o?r(i):(i=o,r(i,"route"));});}function ID(e){if(!e)return{};var t={};return Object.entries(e.params).forEach(([e,n])=>{t[`url.path.params.${e}`]=n;}),t;}function TD(e,t,n,r,i,o=[],a){function s(e){if(0===o.length||!a)return[e,"url"];var t=PD(o,e,a);for(var _n100 of t)if(_n100.match.isExact)return[_n100.match.path,"route"];return[e,"url"];}if(t){var _t112=function(){return r&&r.location?r.location.pathname:GE&&GE.location?GE.location.pathname:void 0;}();if(_t112){var[_n101,_r72]=s(_t112);NN(e,{name:_n101,attributes:{[Xk]:"pageload",[Zk]:`auto.pageload.react.${i}`,[Jk]:_r72}});}}n&&r.listen&&r.listen((t,n)=>{if(n&&("PUSH"===n||"POP"===n)){var[_n102,_r73]=s(t.pathname);DN(e,{name:_n102,attributes:{[Xk]:"navigation",[Zk]:`auto.navigation.react.${i}`,[Jk]:_r73}});}});}function PD(e,t,n,r=[]){return e.some(e=>{var i=e.path?n(t,e):r.length?r[r.length-1].match:function(e){return{path:"/",url:"/",params:{},isExact:"/"===e};}(t);return i&&(r.push({route:e,match:i}),e.routes&&PD(e.routes,t,n,r)),!!i;}),r;}var AD,RD,OD,MD,LD,ND=!1;var DD=new WeakSet();function BD(e,t){if(!t||"/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return e;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?e:e.slice(n)||"/";}function FD(e,t,n,r=""){if(!e||0===e.length)return[ND?BD(t.pathname,r):t.pathname,"url"];var i="";if(n)for(var _o36 of n){var _e99=_o36.route;if(_e99){if(_e99.index)return[ND?BD(_o36.pathname,r):_o36.pathname,"route"];var _n103=_e99.path;if(_n103){var _e100="/"===_n103[0]||"/"===i[i.length-1]?_n103:`/${_n103}`;if(i+=_e100,r+_o36.pathname===t.pathname)return Gw(i)!==Gw(_o36.pathname)&&"/*"!==i.slice(-2)?[(ND?"":r)+_e100,"route"]:[(ND?"":r)+i,"route"];}}}return[ND?BD(t.pathname,r):t.pathname,"url"];}function UD(e,t,n,r,i){var o=Array.isArray(r)?r:LD(n,t,i);if(o){var[_r74,_a28]=FD(n,t,o,i);zk().setTransactionName(_r74),e&&(e.updateName(_r74),e.setAttribute(Jk,_a28));}}function jD(e,t,n,r,i){var o=Array.isArray(r)?r:LD(t,e,i),a=Vk();if(a&&DD.has(a)&&("PUSH"===n||"POP"===n)&&o){var[_n104,_r75]=FD(t,e,o,i);DN(a,{name:_n104,attributes:{[Jk]:_r75,[Xk]:"navigation",[Zk]:"auto.navigation.react.reactrouter_v6"}});}}function $D(){var e=kS(),t=e?wS(e):void 0;if(!t)return;var n=hS(t).op;return"navigation"===n||"pageload"===n?t:void 0;}var zD=Object.freeze(Object.defineProperty({__proto__:null,BrowserClient:fC,ErrorBoundary:xD,Profiler:wD,SDK_VERSION:h_,SEMANTIC_ATTRIBUTE_SENTRY_OP:Xk,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:Zk,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:Kk,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:Jk,Scope:Nk,WINDOW:GE,addBreadcrumb:tE,addEventProcessor:xx,addIntegration:function(e){var t=Vk();t?t.addIntegration(e):Ck&&I_.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);},addTracingExtensions:function(){ES();},breadcrumbsIntegration:yT,browserApiErrorsIntegration:bT,browserProfilingIntegration:uD,browserTracingIntegration:LN,captureConsoleIntegration:hE,captureEvent:gx,captureException:hx,captureFeedback:qE,captureMessage:mx,captureSession:Tx,captureUserFeedback:function(e){var t=Vk();t&&t.captureUserFeedback(e);},chromeStackLineParser:rT,close:async function(e){var t=Vk();return t?t.close(e):(Ck&&I_.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1));},contextLinesIntegration:VT,continueTrace:({sentryTrace:e,baggage:t},n)=>qk(r=>{var i=ik(e,t);return r.setPropagationContext(i),n();}),createReduxEnhancer:function(e){var t={...ED,...e};return e=>(n,r)=>{t.attachReduxState&&Wk().addEventProcessor((e,t)=>{try{void 0===e.type&&"redux"===e.contexts.state.state.type&&(t.attachments=[...(t.attachments||[]),{filename:"redux_state.json",data:JSON.stringify(e.contexts.state.state.value)}]);}catch(n){}return e;});return e((e,r)=>{var i=n(e,r),o=zk(),a=t.actionTransformer(r);null!=a&&tE({category:"redux.action",data:a,type:"info"});var s=t.stateTransformer(i);if(null!=s){var _e101=Vk(),_t113=_e101&&_e101.getOptions(),_n105={state:{type:"redux",value:s}};N_(_n105,"__sentry_override_normalization_depth__",3+(_t113&&_t113.normalizeDepth||3)),o.setContext("state",_n105);}else o.setContext("state",null);var{configureScopeWithState:c}=t;return"function"==typeof c&&c(o,i),i;},r);};},createTransport:Wx,createUserFeedbackEnvelope:dC,debugIntegration:mE,dedupeIntegration:gE,defaultRequestInstrumentationOptions:TN,defaultStackLineParsers:pT,defaultStackParser:hT,endSession:Cx,eventFromException:aC,eventFromMessage:sC,exceptionFromError:ZE,extraErrorDataIntegration:_E,feedbackAsyncIntegration:SN,feedbackIntegration:xN,feedbackSyncIntegration:xN,flush:async function(e){var t=Vk();return t?t.flush(e):(Ck&&I_.warn("Cannot flush events. No client defined."),Promise.resolve(!1));},forceLoad:function(){},functionToStringIntegration:iE,geckoStackLineParser:aT,getActiveSpan:kS,getClient:Vk,getCurrentHub:VE,getCurrentScope:zk,getDefaultIntegrations:PT,getFeedback:function(){var e=Vk();return e&&e.getIntegrationByName("Feedback");},getGlobalScope:Wk,getIsolationScope:Hk,getReplay:function(){var e=Vk();return e&&e.getIntegrationByName("Replay");},getRootSpan:wS,getSpanDescendants:_S,getSpanStatusFromHttpCode:aS,globalHandlersIntegration:xT,httpClientIntegration:FT,httpContextIntegration:IT,inboundFiltersIntegration:aE,init:function(e){var t={...e};return Qx(t,"react"),yx("react",{version:$s.version}),AT(t);},instrumentOutgoingRequests:PN,isInitialized:function(){return!!Vk();},lastEventId:Sx,lazyLoadIntegration:LT,linkedErrorsIntegration:TT,makeBrowserOfflineTransport:function(e=ZI){return function(e){return t=>e({...t,createStore:jN});}(Jx(e));},makeFetchTransport:ZI,makeMultiplexedTransport:function(e,t){return n=>{var r=e(n),i=new Map();function o(t,r){var o=r?`${t}:${r}`:t;var a=i.get(o);if(!a){var _s19=A_(t);if(!_s19)return;var _c7=Ox(_s19,n.tunnel);a=r?function(e,t){return n=>{var r=e(n);return{...r,send:async e=>{var n=Kx(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e);}};};}(e,r)({...n,url:_c7}):e({...n,url:_c7}),i.set(o,a);}return[t,a];}return{send:async function(e){var n=t({envelope:e,getEvent:function(t){var n=t&&t.length?t:["event"];return Kx(e,n);}}).map(e=>"string"==typeof e?o(e,void 0):o(e.dsn,e.release)).filter(e=>!!e),i=n.length?n:[["",r]];return(await Promise.all(i.map(([t,n])=>n.send(function(e,t){return ak(t?{...e[0],dsn:t}:e[0],e[1]);}(e,t)))))[0];},flush:async function(e){var t=[...i.values(),r];return(await Promise.all(t.map(t=>t.flush(e)))).every(e=>e);}};};},metrics:EN,moduleMetadataIntegration:pE,onLoad:function(e){e();},opera10StackLineParser:lT,opera11StackLineParser:fT,parameterize:function(e,...t){var n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n;},reactErrorHandler:function(e){return(t,n)=>{var r=lD(t,n);e&&e(t,n,r);};},reactRouterV3BrowserTracingIntegration:function(e){var t=LN({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:i,instrumentPageLoad:o=!0,instrumentNavigation:a=!0}=e;return{...t,afterAllSetup(e){t.afterAllSetup(e),o&&GE&&GE.location&&CD(r,GE.location,i,(t,n="url")=>{NN(e,{name:t,attributes:{[Xk]:"pageload",[Zk]:"auto.pageload.react.reactrouter_v3",[Jk]:n}});}),a&&n.listen&&n.listen(t=>{"PUSH"!==t.action&&"POP"!==t.action||CD(r,t,i,(t,n="url")=>{DN(e,{name:t,attributes:{[Xk]:"navigation",[Zk]:"auto.navigation.react.reactrouter_v3",[Jk]:n}});});});}};},reactRouterV4BrowserTracingIntegration:function(e){var t=LN({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:i,instrumentPageLoad:o=!0,instrumentNavigation:a=!0}=e;return{...t,afterAllSetup(e){t.afterAllSetup(e),TD(e,o,a,n,"reactrouter_v4",r,i);}};},reactRouterV5BrowserTracingIntegration:function(e){var t=LN({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:i,instrumentPageLoad:o=!0,instrumentNavigation:a=!0}=e;return{...t,afterAllSetup(e){t.afterAllSetup(e),TD(e,o,a,n,"reactrouter_v5",r,i);}};},reactRouterV6BrowserTracingIntegration:function(e){var t=LN({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:n,useLocation:r,useNavigationType:i,createRoutesFromChildren:o,matchRoutes:a,stripBasename:s,instrumentPageLoad:c=!0,instrumentNavigation:u=!0}=e;return{...t,setup(){AD=n,RD=r,OD=i,LD=a,MD=o,ND=s||!1;},afterAllSetup(e){t.afterAllSetup(e);var n=GE&&GE.location&&GE.location.pathname;c&&n&&NN(e,{name:n,attributes:{[Jk]:"url",[Xk]:"pageload",[Zk]:"auto.pageload.react.reactrouter_v6"}}),u&&DD.add(e);}};},registerSpanErrorInstrumentation:ES,replayCanvasIntegration:IM,replayIntegration:e=>new XO(e),reportingObserverIntegration:BT,rewriteFramesIntegration:wE,sendFeedback:MM,sessionTimingIntegration:kE,setContext:yx,setCurrentClient:zx,setExtra:bx,setExtras:vx,setHttpStatus:sS,setMeasurement:US,setTag:wx,setTags:_x,setUser:kx,showReportDialog:RT,spanToBaggageHeader:function(e){return tk(BS(e));},spanToJSON:hS,spanToTraceHeader:dS,startBrowserTracingNavigationSpan:DN,startBrowserTracingPageLoadSpan:NN,startInactiveSpan:VS,startNewTrace:function(e){return qk(t=>(t.setPropagationContext(xk()),Ck&&I_.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),GS(null,e)));},startSession:Ex,startSpan:function(e,t){var n=KS();if(n.startSpan)return n.startSpan(e,t);var r=JS(e),{forceTransaction:i,parentSpan:o}=e;return qk(e.scope,()=>QS(o)(()=>{var n=zk(),o=ZS(n),a=e.onlyIfParent&&!o?new RS():YS({parentSpan:o,spanArguments:r,forceTransaction:i,scope:n});return Ok(n,a),OS(()=>t(a),()=>{var{status:e}=hS(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:oS,message:"internal_error"});},()=>a.end());}));},startSpanManual:qS,tanstackRouterBrowserTracingIntegration:function(e,t={}){var n=e,r=LN({...t,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:i=!0,instrumentNavigation:o=!0}=t;return{...r,afterAllSetup(e){r.afterAllSetup(e);var t=GE.location;if(i&&t){var _r76=n.matchRoutes(t.pathname,t.search,{preload:!1,throwOnError:!1}),_i57=_r76[_r76.length-1];NN(e,{name:_i57?_i57.routeId:t.pathname,attributes:{[Xk]:"pageload",[Zk]:"auto.pageload.react.tanstack_router",[Jk]:_i57?"route":"url",...ID(_i57)}});}o&&n.subscribe("onBeforeNavigate",t=>{if(t.toLocation.state===t.fromLocation.state)return;var r=n.matchRoutes(t.toLocation.pathname,t.toLocation.search,{preload:!1,throwOnError:!1}),i=r[r.length-1],o=GE.location,a=DN(e,{name:i?i.routeId:o.pathname,attributes:{[Xk]:"navigation",[Zk]:"auto.navigation.react.tanstack_router",[Jk]:i?"route":"url"}}),s=n.subscribe("onResolved",e=>{if(s(),a){var _t114=n.matchRoutes(e.toLocation.pathname,e.toLocation.search,{preload:!1,throwOnError:!1}),_r77=_t114[_t114.length-1];_r77&&(a.updateName(_r77.routeId),a.setAttribute(Jk,"route"),a.setAttributes(ID(_r77)));}});});}};},thirdPartyErrorFilterIntegration:IE,useProfiler:function(e,t={disabled:!1,hasRenderSpan:!0}){var[n]=$s.useState(()=>{if(!t||!t.disabled)return VS({name:`<${e}>`,onlyIfParent:!0,op:_D,attributes:{[Zk]:"auto.ui.react.profiler","ui.component_name":e}});});$s.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){var _t115=hS(n).timestamp,_r78=fw(),_i58=VS({name:`<${e}>`,onlyIfParent:!0,op:bD,startTime:_t115,attributes:{[Zk]:"auto.ui.react.profiler","ui.component_name":e}});_i58&&_i58.end(_r78);}}),[]);},winjsStackLineParser:cT,withActiveSpan:GS,withErrorBoundary:function(e,t){var n=e.displayName||e.name||"unknown",r=n=>$s.createElement(xD,{...t},$s.createElement(e,{...n}));return r.displayName=`errorBoundary(${n})`,vD(r,e),r;},withIsolationScope:function(...e){var t=$k(Ik());if(2===e.length){var[_n106,_r79]=e;return _n106?t.withSetIsolationScope(_n106,_r79):t.withIsolationScope(_r79);}return t.withIsolationScope(e[0]);},withProfiler:function(e,t){var n=t&&t.name||e.displayName||e.name||"unknown",r=r=>$s.createElement(wD,{...t,name:n,updateProps:r},$s.createElement(e,{...r}));return r.displayName=`profiler(${n})`,vD(r,e),r;},withScope:qk,withSentryReactRouterV6Routing:function(e){if(!(AD&&RD&&OD&&MD&&LD))return kD&&I_.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.\n      useEffect: ${AD}. useLocation: ${RD}. useNavigationType: ${OD}.\n      createRoutesFromChildren: ${MD}. matchRoutes: ${LD}.`),e;var t=!0;var n=n=>{var r=RD(),i=OD();return AD(()=>{var e=MD(n.children);t?(UD($D(),r,e),t=!1):jD(r,e,i);},[r,i]),$s.createElement(e,{...n});};return vD(n,e),n;},withSentryRouting:function(e){var t=e.displayName||e.name,n=t=>{if(t&&t.computedMatch&&t.computedMatch.isExact){var _e102=t.computedMatch.path,_n107=function(){var e=kS(),t=e&&wS(e);if(!t)return;var n=hS(t).op;return"navigation"===n||"pageload"===n?t:void 0;}();zk().setTransactionName(_e102),_n107&&(_n107.updateName(_e102),_n107.setAttribute(Jk,"route"));}return $s.createElement(e,{...t});};return n.displayName=`sentryRoute(${t})`,vD(n,e),n;},wrapCreateBrowserRouter:function(e){return AD&&RD&&OD&&LD?function(t,n){var r=e(t,n),i=n&&n.basename,o=$D();return"POP"===r.state.historyAction&&o&&UD(o,r.state.location,t,void 0,i),r.subscribe(e=>{var n=e.location;"PUSH"!==e.historyAction&&"POP"!==e.historyAction||jD(n,t,e.historyAction,void 0,i);}),r;}:(kD&&I_.warn("reactRouterV6Instrumentation was unable to wrap the `createRouter` function because of one or more missing parameters."),e);},wrapUseRoutes:function(e){if(!(AD&&RD&&OD&&LD))return kD&&I_.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;var t=!0;var n=n=>{var{routes:r,locationArg:i}=n,o=e(r,i),a=RD(),s=OD(),c="string"==typeof i||i&&i.pathname?i:a;return AD(()=>{var e="string"==typeof c?{pathname:c}:c;t?(UD($D(),e,r),t=!1):jD(e,r,s);},[s,c]),o;};return(e,t)=>$s.createElement(n,{routes:e,locationArg:t});},zodErrorsIntegration:CE},Symbol.toStringTag,{value:"Module"}));});
//# sourceMappingURL=solid-form.js.map
